<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=9"><meta name="generator" content="Doxygen 1.9.1"><meta name="viewport" content="width=device-width,initial-scale=1"><title>RTXI: src/rt.cpp Source File</title><link href="tabs.css" rel="stylesheet" type="text/css"><script type="text/javascript" src="jquery.js"></script><script type="text/javascript" src="dynsections.js"></script><link href="search/search.css" rel="stylesheet" type="text/css"><script type="text/javascript" src="search/searchdata.js"></script><script type="text/javascript" src="search/search.js"></script><link href="doxygen.css" rel="stylesheet" type="text/css"></head><body><div id="top"><div id="titlearea"><table cellspacing="0" cellpadding="0"><tbody><tr style="height: 56px;"><td id="projectlogo"><img alt="Logo" src="RTXI-icon.svg"></td><td id="projectalign" style="padding-left: 0.5em;"><div id="projectname">RTXI &#160;<span id="projectnumber">3.0.0</span></div><div id="projectbrief">The Real-Time eXperiment Interface Reference Manual</div></td></tr></tbody></table></div><script type="text/javascript">/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */</script><script type="text/javascript" src="menudata.js"></script><script type="text/javascript" src="menu.js"></script><script type="text/javascript">/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script><div id="main-nav"></div><div id="MSearchSelectWindow" onmouseover="return searchBox.OnSearchSelectShow()" onmouseout="return searchBox.OnSearchSelectHide()" onkeydown="return searchBox.OnSearchSelectKey(event)"></div><div id="MSearchResultsWindow"><iframe src="javascript:void(0)" frameborder="0" name="MSearchResults" id="MSearchResults"></iframe></div><div id="nav-path" class="navpath"><ul><li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li></ul></div></div><div class="header"><div class="headertitle"><div class="title">rt.cpp</div></div></div><div class="contents"><a href="rt_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno"> 1</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00002"></a><span class="lineno"> 2</span>&#160;<span class="comment"> The Real-Time eXperiment Interface (RTXI)</span></div><div class="line"><a name="l00003"></a><span class="lineno"> 3</span>&#160;<span class="comment"> Copyright (C) 2011 Georgia Institute of Technology, University of Utah,</span></div><div class="line"><a name="l00004"></a><span class="lineno"> 4</span>&#160;<span class="comment"> Will Cornell Medical College</span></div><div class="line"><a name="l00005"></a><span class="lineno"> 5</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00006"></a><span class="lineno"> 6</span>&#160;<span class="comment"> This program is free software: you can redistribute it and/or modify</span></div><div class="line"><a name="l00007"></a><span class="lineno"> 7</span>&#160;<span class="comment"> it under the terms of the GNU General Public License as published by</span></div><div class="line"><a name="l00008"></a><span class="lineno"> 8</span>&#160;<span class="comment"> the Free Software Foundation, either version 3 of the License, or</span></div><div class="line"><a name="l00009"></a><span class="lineno"> 9</span>&#160;<span class="comment"> (at your option) any later version.</span></div><div class="line"><a name="l00010"></a><span class="lineno"> 10</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00011"></a><span class="lineno"> 11</span>&#160;<span class="comment"> This program is distributed in the hope that it will be useful,</span></div><div class="line"><a name="l00012"></a><span class="lineno"> 12</span>&#160;<span class="comment"> but WITHOUT ANY WARRANTY; without even the implied warranty of</span></div><div class="line"><a name="l00013"></a><span class="lineno"> 13</span>&#160;<span class="comment"> MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the</span></div><div class="line"><a name="l00014"></a><span class="lineno"> 14</span>&#160;<span class="comment"> GNU General Public License for more details.</span></div><div class="line"><a name="l00015"></a><span class="lineno"> 15</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00016"></a><span class="lineno"> 16</span>&#160;<span class="comment"> You should have received a copy of the GNU General Public License</span></div><div class="line"><a name="l00017"></a><span class="lineno"> 17</span>&#160;<span class="comment"> along with this program. If not, see &lt;http://www.gnu.org/licenses/&gt;.</span></div><div class="line"><a name="l00018"></a><span class="lineno"> 18</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00019"></a><span class="lineno"> 19</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00020"></a><span class="lineno"> 20</span>&#160;</div><div class="line"><a name="l00021"></a><span class="lineno"> 21</span>&#160;<span class="preprocessor">#include &lt;functional&gt;</span></div><div class="line"><a name="l00022"></a><span class="lineno"> 22</span>&#160;<span class="preprocessor">#include &lt;iostream&gt;</span></div><div class="line"><a name="l00023"></a><span class="lineno"> 23</span>&#160;<span class="preprocessor">#include &lt;queue&gt;</span></div><div class="line"><a name="l00024"></a><span class="lineno"> 24</span>&#160;</div><div class="line"><a name="l00025"></a><span class="lineno"> 25</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="rt_8hpp.html">rt.hpp</a>&quot;</span></div><div class="line"><a name="l00026"></a><span class="lineno"> 26</span>&#160;</div><div class="line"><a name="l00027"></a><span class="lineno"> 27</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="debug_8hpp.html">debug.hpp</a>&quot;</span></div><div class="line"><a name="l00028"></a><span class="lineno"> 28</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="event_8hpp.html">event.hpp</a>&quot;</span></div><div class="line"><a name="l00029"></a><span class="lineno"> 29</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="fifo_8hpp.html">fifo.hpp</a>&quot;</span></div><div class="line"><a name="l00030"></a><span class="lineno"> 30</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="logger_8hpp.html">logger.hpp</a>&quot;</span></div><div class="line"><a name="l00031"></a><span class="lineno"> 31</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="rtos_8hpp.html">rtos.hpp</a>&quot;</span></div><div class="line"><a name="l00032"></a><span class="lineno"> 32</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="widgets_8hpp.html">widgets.hpp</a>&quot;</span></div><div class="line"><a name="l00033"></a><span class="lineno"> 33</span>&#160;</div><div class="line"><a name="l00034"></a><span class="lineno"> 34</span>&#160;<span class="comment">// TODO: convert cycle detection into non-recursive version</span></div><div class="line"><a name="l00035"></a><span class="lineno"> 35</span>&#160;<span class="keywordtype">int</span> RT::Connector::find_cycle(<a class="code" href="struct_r_t_1_1block__connection__t.html">RT::block_connection_t</a> conn, <a class="code" href="class_i_o_1_1_block.html">IO::Block</a>* ref_block)</div><div class="line"><a name="l00036"></a><span class="lineno"> 36</span>&#160;{</div><div class="line"><a name="l00037"></a><span class="lineno"> 37</span>&#160; <span class="comment">// Cannot connect a block with itself</span></div><div class="line"><a name="l00038"></a><span class="lineno"> 38</span>&#160; <span class="keywordflow">if</span> (conn.<a class="code" href="struct_r_t_1_1block__connection__t.html#ae2da266147515cfb2776ea9ed04069eb">dest</a> == ref_block) {</div><div class="line"><a name="l00039"></a><span class="lineno"> 39</span>&#160; <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00040"></a><span class="lineno"> 40</span>&#160; }</div><div class="line"><a name="l00041"></a><span class="lineno"> 41</span>&#160; <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; temp_conn : this-&gt;connections[conn.<a class="code" href="struct_r_t_1_1block__connection__t.html#ae2da266147515cfb2776ea9ed04069eb">dest</a>-&gt;<a class="code" href="class_i_o_1_1_block.html#a9410b4334b4923c9451d2ac468c625f3">getID</a>()]) {</div><div class="line"><a name="l00042"></a><span class="lineno"> 42</span>&#160; <span class="keywordflow">if</span> (ref_block == temp_conn.src</div><div class="line"><a name="l00043"></a><span class="lineno"> 43</span>&#160; || this-&gt;find_cycle(temp_conn, ref_block) == -1) {</div><div class="line"><a name="l00044"></a><span class="lineno"> 44</span>&#160; <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00045"></a><span class="lineno"> 45</span>&#160; }</div><div class="line"><a name="l00046"></a><span class="lineno"> 46</span>&#160; }</div><div class="line"><a name="l00047"></a><span class="lineno"> 47</span>&#160; <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00048"></a><span class="lineno"> 48</span>&#160;}</div><div class="line"><a name="l00049"></a><span class="lineno"> 49</span>&#160;</div><div class="line"><a name="l00050"></a><span class="lineno"><a class="line" href="class_r_t_1_1_connector.html#a5598c97519767cfad1cdacd314c66990"> 50</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="class_r_t_1_1_connector.html#a5598c97519767cfad1cdacd314c66990">RT::Connector::connect</a>(<a class="code" href="struct_r_t_1_1block__connection__t.html">RT::block_connection_t</a> connection)</div><div class="line"><a name="l00051"></a><span class="lineno"> 51</span>&#160;{</div><div class="line"><a name="l00052"></a><span class="lineno"> 52</span>&#160; <span class="comment">// Let&#39;s remind our users to register their block first</span></div><div class="line"><a name="l00053"></a><span class="lineno"> 53</span>&#160; <span class="keywordflow">if</span> (!(this-&gt;isRegistered(connection.<a class="code" href="struct_r_t_1_1block__connection__t.html#ae861399a0bfc6e6fb0197b31cab6e3ae">src</a>)</div><div class="line"><a name="l00054"></a><span class="lineno"> 54</span>&#160; &amp;&amp; this-&gt;isRegistered(connection.<a class="code" href="struct_r_t_1_1block__connection__t.html#ae2da266147515cfb2776ea9ed04069eb">dest</a>)))</div><div class="line"><a name="l00055"></a><span class="lineno"> 55</span>&#160; {</div><div class="line"><a name="l00056"></a><span class="lineno"> 56</span>&#160; <a class="code" href="debug_8hpp.html#add398267f12dca8907f8e49abeac7e5d">ERROR_MSG</a>(</div><div class="line"><a name="l00057"></a><span class="lineno"> 57</span>&#160; <span class="stringliteral">&quot;RT::Connector : source or destination blocks are not registered&quot;</span>);</div><div class="line"><a name="l00058"></a><span class="lineno"> 58</span>&#160; <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00059"></a><span class="lineno"> 59</span>&#160; }</div><div class="line"><a name="l00060"></a><span class="lineno"> 60</span>&#160; <span class="keywordflow">if</span> (this-&gt;find_cycle(connection, connection.<a class="code" href="struct_r_t_1_1block__connection__t.html#ae861399a0bfc6e6fb0197b31cab6e3ae">src</a>) == -1) {</div><div class="line"><a name="l00061"></a><span class="lineno"> 61</span>&#160; <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00062"></a><span class="lineno"> 62</span>&#160; }</div><div class="line"><a name="l00063"></a><span class="lineno"> 63</span>&#160;</div><div class="line"><a name="l00064"></a><span class="lineno"> 64</span>&#160; <span class="keywordflow">if</span> (!(this-&gt;connected(connection))) {</div><div class="line"><a name="l00065"></a><span class="lineno"> 65</span>&#160; this-&gt;connections[connection.<a class="code" href="struct_r_t_1_1block__connection__t.html#ae861399a0bfc6e6fb0197b31cab6e3ae">src</a>-&gt;<a class="code" href="class_i_o_1_1_block.html#a9410b4334b4923c9451d2ac468c625f3">getID</a>()].push_back(connection);</div><div class="line"><a name="l00066"></a><span class="lineno"> 66</span>&#160; }</div><div class="line"><a name="l00067"></a><span class="lineno"> 67</span>&#160; <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00068"></a><span class="lineno"> 68</span>&#160;}</div><div class="line"><a name="l00069"></a><span class="lineno"> 69</span>&#160;</div><div class="line"><a name="l00070"></a><span class="lineno"><a class="line" href="class_r_t_1_1_connector.html#a9f45e759aeabf977fb2f0ad1d21c2e8e"> 70</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="class_r_t_1_1_connector.html#a9f45e759aeabf977fb2f0ad1d21c2e8e">RT::Connector::connected</a>(<a class="code" href="struct_r_t_1_1block__connection__t.html">RT::block_connection_t</a> connection)</div><div class="line"><a name="l00071"></a><span class="lineno"> 71</span>&#160;{</div><div class="line"><a name="l00072"></a><span class="lineno"> 72</span>&#160; <span class="keywordflow">if</span> (!(this-&gt;isRegistered(connection.<a class="code" href="struct_r_t_1_1block__connection__t.html#ae861399a0bfc6e6fb0197b31cab6e3ae">src</a>)</div><div class="line"><a name="l00073"></a><span class="lineno"> 73</span>&#160; &amp;&amp; this-&gt;isRegistered(connection.<a class="code" href="struct_r_t_1_1block__connection__t.html#ae2da266147515cfb2776ea9ed04069eb">dest</a>)))</div><div class="line"><a name="l00074"></a><span class="lineno"> 74</span>&#160; {</div><div class="line"><a name="l00075"></a><span class="lineno"> 75</span>&#160; <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00076"></a><span class="lineno"> 76</span>&#160; }</div><div class="line"><a name="l00077"></a><span class="lineno"> 77</span>&#160; <span class="keyword">const</span> <span class="keywordtype">size_t</span> src_id = connection.<a class="code" href="struct_r_t_1_1block__connection__t.html#ae861399a0bfc6e6fb0197b31cab6e3ae">src</a>-&gt;<a class="code" href="class_i_o_1_1_block.html#a9410b4334b4923c9451d2ac468c625f3">getID</a>();</div><div class="line"><a name="l00078"></a><span class="lineno"> 78</span>&#160; <span class="keyword">auto</span> iter = std::find(this-&gt;connections[src_id].begin(),</div><div class="line"><a name="l00079"></a><span class="lineno"> 79</span>&#160; this-&gt;connections[src_id].end(),</div><div class="line"><a name="l00080"></a><span class="lineno"> 80</span>&#160; connection);</div><div class="line"><a name="l00081"></a><span class="lineno"> 81</span>&#160; <span class="keywordflow">return</span> iter != this-&gt;connections[src_id].end();</div><div class="line"><a name="l00082"></a><span class="lineno"> 82</span>&#160;}</div><div class="line"><a name="l00083"></a><span class="lineno"> 83</span>&#160;</div><div class="line"><a name="l00084"></a><span class="lineno"><a class="line" href="class_r_t_1_1_connector.html#a49953cfb2f5e6810424007fe1b11a846"> 84</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_r_t_1_1_connector.html#a49953cfb2f5e6810424007fe1b11a846">RT::Connector::disconnect</a>(<a class="code" href="struct_r_t_1_1block__connection__t.html">RT::block_connection_t</a> connection)</div><div class="line"><a name="l00085"></a><span class="lineno"> 85</span>&#160;{</div><div class="line"><a name="l00086"></a><span class="lineno"> 86</span>&#160; <span class="keywordflow">if</span> (!(this-&gt;isRegistered(connection.<a class="code" href="struct_r_t_1_1block__connection__t.html#ae861399a0bfc6e6fb0197b31cab6e3ae">src</a>)</div><div class="line"><a name="l00087"></a><span class="lineno"> 87</span>&#160; &amp;&amp; this-&gt;isRegistered(connection.<a class="code" href="struct_r_t_1_1block__connection__t.html#ae2da266147515cfb2776ea9ed04069eb">dest</a>)))</div><div class="line"><a name="l00088"></a><span class="lineno"> 88</span>&#160; {</div><div class="line"><a name="l00089"></a><span class="lineno"> 89</span>&#160; <span class="keywordflow">return</span>;</div><div class="line"><a name="l00090"></a><span class="lineno"> 90</span>&#160; }</div><div class="line"><a name="l00091"></a><span class="lineno"> 91</span>&#160; <span class="keyword">const</span> <span class="keywordtype">size_t</span> src_id = connection.<a class="code" href="struct_r_t_1_1block__connection__t.html#ae861399a0bfc6e6fb0197b31cab6e3ae">src</a>-&gt;<a class="code" href="class_i_o_1_1_block.html#a9410b4334b4923c9451d2ac468c625f3">getID</a>();</div><div class="line"><a name="l00092"></a><span class="lineno"> 92</span>&#160; <span class="keyword">auto</span> it = std::find(this-&gt;connections[src_id].begin(),</div><div class="line"><a name="l00093"></a><span class="lineno"> 93</span>&#160; this-&gt;connections[src_id].end(),</div><div class="line"><a name="l00094"></a><span class="lineno"> 94</span>&#160; connection);</div><div class="line"><a name="l00095"></a><span class="lineno"> 95</span>&#160; <span class="keywordflow">if</span> (it != this-&gt;connections[src_id].end()) {</div><div class="line"><a name="l00096"></a><span class="lineno"> 96</span>&#160; this-&gt;connections[src_id].erase(it);</div><div class="line"><a name="l00097"></a><span class="lineno"> 97</span>&#160; }</div><div class="line"><a name="l00098"></a><span class="lineno"> 98</span>&#160;}</div><div class="line"><a name="l00099"></a><span class="lineno"> 99</span>&#160;</div><div class="line"><a name="l00100"></a><span class="lineno"><a class="line" href="class_r_t_1_1_connector.html#a5b1b29a0d4885b47170b5fdffd857f95"> 100</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_r_t_1_1_connector.html#a5b1b29a0d4885b47170b5fdffd857f95">RT::Connector::insertBlock</a>(</div><div class="line"><a name="l00101"></a><span class="lineno"> 101</span>&#160; <a class="code" href="class_i_o_1_1_block.html">IO::Block</a>* block, std::vector&lt;RT::block_connection_t&gt;&amp; block_connections)</div><div class="line"><a name="l00102"></a><span class="lineno"> 102</span>&#160;{</div><div class="line"><a name="l00103"></a><span class="lineno"> 103</span>&#160; <span class="keywordflow">if</span> (block == <span class="keyword">nullptr</span> || this-&gt;isRegistered(block)) {</div><div class="line"><a name="l00104"></a><span class="lineno"> 104</span>&#160; <span class="keywordflow">return</span>;</div><div class="line"><a name="l00105"></a><span class="lineno"> 105</span>&#160; }</div><div class="line"><a name="l00106"></a><span class="lineno"> 106</span>&#160;</div><div class="line"><a name="l00107"></a><span class="lineno"> 107</span>&#160; <span class="comment">// This insertion block algorithm makes use of move semantics to insert and</span></div><div class="line"><a name="l00108"></a><span class="lineno"> 108</span>&#160; <span class="comment">// delete vector items. This is mainly to avoid allocations in the real-time</span></div><div class="line"><a name="l00109"></a><span class="lineno"> 109</span>&#160; <span class="comment">// thread and std::move allows us to place data without having to allocate</span></div><div class="line"><a name="l00110"></a><span class="lineno"> 110</span>&#160; <span class="comment">// memory again. We should make sure to use reserve() member function on</span></div><div class="line"><a name="l00111"></a><span class="lineno"> 111</span>&#160; <span class="comment">// vectors in the non-rt thread so that further push_back calls are less</span></div><div class="line"><a name="l00112"></a><span class="lineno"> 112</span>&#160; <span class="comment">// likely to allocate memory.</span></div><div class="line"><a name="l00113"></a><span class="lineno"> 113</span>&#160; <span class="keywordtype">size_t</span> <span class="keywordtype">id</span> = 0;</div><div class="line"><a name="l00114"></a><span class="lineno"> 114</span>&#160; <span class="keywordtype">bool</span> stored = <span class="keyword">false</span>;</div><div class="line"><a name="l00115"></a><span class="lineno"> 115</span>&#160; <span class="keywordflow">for</span> (<span class="keywordtype">id</span> = 0; <span class="keywordtype">id</span> &lt; this-&gt;block_registry.size(); <span class="keywordtype">id</span>++) {</div><div class="line"><a name="l00116"></a><span class="lineno"> 116</span>&#160; <span class="keywordflow">if</span> (this-&gt;block_registry[<span class="keywordtype">id</span>] == <span class="keyword">nullptr</span>) {</div><div class="line"><a name="l00117"></a><span class="lineno"> 117</span>&#160; this-&gt;block_registry[id] = block;</div><div class="line"><a name="l00118"></a><span class="lineno"> 118</span>&#160; block-&gt;<a class="code" href="class_i_o_1_1_block.html#ae87680d18b0c4e4f806942df195f1433">assignID</a>(<span class="keywordtype">id</span>);</div><div class="line"><a name="l00119"></a><span class="lineno"> 119</span>&#160; this-&gt;connections[id].swap(block_connections);</div><div class="line"><a name="l00120"></a><span class="lineno"> 120</span>&#160; stored = <span class="keyword">true</span>;</div><div class="line"><a name="l00121"></a><span class="lineno"> 121</span>&#160; <span class="keywordflow">break</span>;</div><div class="line"><a name="l00122"></a><span class="lineno"> 122</span>&#160; }</div><div class="line"><a name="l00123"></a><span class="lineno"> 123</span>&#160; }</div><div class="line"><a name="l00124"></a><span class="lineno"> 124</span>&#160;</div><div class="line"><a name="l00125"></a><span class="lineno"> 125</span>&#160; <span class="keywordflow">if</span> (!stored) {</div><div class="line"><a name="l00126"></a><span class="lineno"> 126</span>&#160; block-&gt;<a class="code" href="class_i_o_1_1_block.html#ae87680d18b0c4e4f806942df195f1433">assignID</a>(this-&gt;block_registry.size());</div><div class="line"><a name="l00127"></a><span class="lineno"> 127</span>&#160; this-&gt;block_registry.push_back(block);</div><div class="line"><a name="l00128"></a><span class="lineno"> 128</span>&#160; this-&gt;connections.emplace_back(std::move(block_connections));</div><div class="line"><a name="l00129"></a><span class="lineno"> 129</span>&#160; }</div><div class="line"><a name="l00130"></a><span class="lineno"> 130</span>&#160;}</div><div class="line"><a name="l00131"></a><span class="lineno"> 131</span>&#160;</div><div class="line"><a name="l00132"></a><span class="lineno"><a class="line" href="class_r_t_1_1_connector.html#af7af2da1574e1951610b9c20e13f6a36"> 132</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_r_t_1_1_connector.html#af7af2da1574e1951610b9c20e13f6a36">RT::Connector::removeBlock</a>(<a class="code" href="class_i_o_1_1_block.html">IO::Block</a>* block)</div><div class="line"><a name="l00133"></a><span class="lineno"> 133</span>&#160;{</div><div class="line"><a name="l00134"></a><span class="lineno"> 134</span>&#160; <span class="keywordflow">if</span> (block == <span class="keyword">nullptr</span> || !(this-&gt;isRegistered(block))) {</div><div class="line"><a name="l00135"></a><span class="lineno"> 135</span>&#160; <span class="keywordflow">return</span>;</div><div class="line"><a name="l00136"></a><span class="lineno"> 136</span>&#160; }</div><div class="line"><a name="l00137"></a><span class="lineno"> 137</span>&#160; <span class="comment">// remove block from registry</span></div><div class="line"><a name="l00138"></a><span class="lineno"> 138</span>&#160; this-&gt;block_registry[block-&gt;<a class="code" href="class_i_o_1_1_block.html#a9410b4334b4923c9451d2ac468c625f3">getID</a>()] = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00139"></a><span class="lineno"> 139</span>&#160; <span class="comment">// block-&gt;assignID(IO::INVALID_BLOCK_ID);</span></div><div class="line"><a name="l00140"></a><span class="lineno"> 140</span>&#160;}</div><div class="line"><a name="l00141"></a><span class="lineno"> 141</span>&#160;</div><div class="line"><a name="l00142"></a><span class="lineno"><a class="line" href="class_r_t_1_1_connector.html#a734c2d7721e4420c3a1f1e6835e6cbae"> 142</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="class_r_t_1_1_connector.html#a734c2d7721e4420c3a1f1e6835e6cbae">RT::Connector::isRegistered</a>(<a class="code" href="class_i_o_1_1_block.html">IO::Block</a>* block)</div><div class="line"><a name="l00143"></a><span class="lineno"> 143</span>&#160;{</div><div class="line"><a name="l00144"></a><span class="lineno"> 144</span>&#160; <span class="keywordflow">if</span> (block == <span class="keyword">nullptr</span>) {</div><div class="line"><a name="l00145"></a><span class="lineno"> 145</span>&#160; <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00146"></a><span class="lineno"> 146</span>&#160; }</div><div class="line"><a name="l00147"></a><span class="lineno"> 147</span>&#160; <span class="keywordflow">if</span> (block-&gt;<a class="code" href="class_i_o_1_1_block.html#a9410b4334b4923c9451d2ac468c625f3">getID</a>() &gt;= this-&gt;block_registry.size()) {</div><div class="line"><a name="l00148"></a><span class="lineno"> 148</span>&#160; <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00149"></a><span class="lineno"> 149</span>&#160; }</div><div class="line"><a name="l00150"></a><span class="lineno"> 150</span>&#160; <span class="keywordflow">return</span> block == this-&gt;block_registry[block-&gt;<a class="code" href="class_i_o_1_1_block.html#a9410b4334b4923c9451d2ac468c625f3">getID</a>()];</div><div class="line"><a name="l00151"></a><span class="lineno"> 151</span>&#160;}</div><div class="line"><a name="l00152"></a><span class="lineno"> 152</span>&#160;</div><div class="line"><a name="l00153"></a><span class="lineno"> 153</span>&#160;std::vector&lt;RT::Thread*&gt; RT::Connector::topological_sort()</div><div class="line"><a name="l00154"></a><span class="lineno"> 154</span>&#160;{</div><div class="line"><a name="l00155"></a><span class="lineno"> 155</span>&#160; <span class="keyword">auto</span> processing_q = std::queue&lt;IO::Block*&gt;();</div><div class="line"><a name="l00156"></a><span class="lineno"> 156</span>&#160; <span class="keyword">auto</span> sorted_blocks = std::vector&lt;IO::Block*&gt;();</div><div class="line"><a name="l00157"></a><span class="lineno"> 157</span>&#160; <span class="keyword">auto</span> sources_per_block = std::unordered_map&lt;IO::Block*, int&gt;();</div><div class="line"><a name="l00158"></a><span class="lineno"> 158</span>&#160; <span class="comment">// auto valid_threads = std::vector&lt;IO::Block*&gt;();</span></div><div class="line"><a name="l00159"></a><span class="lineno"> 159</span>&#160;</div><div class="line"><a name="l00160"></a><span class="lineno"> 160</span>&#160; <span class="comment">// initialize counts</span></div><div class="line"><a name="l00161"></a><span class="lineno"> 161</span>&#160; <span class="keywordflow">for</span> (<span class="keyword">auto</span>* block : this-&gt;block_registry) {</div><div class="line"><a name="l00162"></a><span class="lineno"> 162</span>&#160; <span class="keywordflow">if</span> (block == <span class="keyword">nullptr</span>) {</div><div class="line"><a name="l00163"></a><span class="lineno"> 163</span>&#160; <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00164"></a><span class="lineno"> 164</span>&#160; }</div><div class="line"><a name="l00165"></a><span class="lineno"> 165</span>&#160; sources_per_block[block] = 0;</div><div class="line"><a name="l00166"></a><span class="lineno"> 166</span>&#160; }</div><div class="line"><a name="l00167"></a><span class="lineno"> 167</span>&#160;</div><div class="line"><a name="l00168"></a><span class="lineno"> 168</span>&#160; <span class="comment">// Calculate number of sources per block</span></div><div class="line"><a name="l00169"></a><span class="lineno"> 169</span>&#160; <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; entry : this-&gt;connections) {</div><div class="line"><a name="l00170"></a><span class="lineno"> 170</span>&#160; <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; conn : entry) {</div><div class="line"><a name="l00171"></a><span class="lineno"> 171</span>&#160; sources_per_block[conn.<a class="code" href="struct_r_t_1_1block__connection__t.html#ae2da266147515cfb2776ea9ed04069eb">dest</a>] += 1;</div><div class="line"><a name="l00172"></a><span class="lineno"> 172</span>&#160; }</div><div class="line"><a name="l00173"></a><span class="lineno"> 173</span>&#160; }</div><div class="line"><a name="l00174"></a><span class="lineno"> 174</span>&#160;</div><div class="line"><a name="l00175"></a><span class="lineno"> 175</span>&#160; <span class="comment">// Initialize queue for processing nodes in graph</span></div><div class="line"><a name="l00176"></a><span class="lineno"> 176</span>&#160; <span class="keywordflow">for</span> (<span class="keyword">auto</span> block_count : sources_per_block) {</div><div class="line"><a name="l00177"></a><span class="lineno"> 177</span>&#160; <span class="keywordflow">if</span> (block_count.second == 0) {</div><div class="line"><a name="l00178"></a><span class="lineno"> 178</span>&#160; processing_q.push(block_count.first);</div><div class="line"><a name="l00179"></a><span class="lineno"> 179</span>&#160; }</div><div class="line"><a name="l00180"></a><span class="lineno"> 180</span>&#160; }</div><div class="line"><a name="l00181"></a><span class="lineno"> 181</span>&#160;</div><div class="line"><a name="l00182"></a><span class="lineno"> 182</span>&#160; <span class="comment">// Process the graph nodes.</span></div><div class="line"><a name="l00183"></a><span class="lineno"> 183</span>&#160; <span class="keywordflow">while</span> (!processing_q.empty()) {</div><div class="line"><a name="l00184"></a><span class="lineno"> 184</span>&#160; sorted_blocks.push_back(processing_q.front());</div><div class="line"><a name="l00185"></a><span class="lineno"> 185</span>&#160; <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; entry : this-&gt;connections) {</div><div class="line"><a name="l00186"></a><span class="lineno"> 186</span>&#160; <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; conn : entry) {</div><div class="line"><a name="l00187"></a><span class="lineno"> 187</span>&#160; <span class="keywordflow">if</span> (processing_q.front() == conn.<a class="code" href="struct_r_t_1_1block__connection__t.html#ae861399a0bfc6e6fb0197b31cab6e3ae">src</a>) {</div><div class="line"><a name="l00188"></a><span class="lineno"> 188</span>&#160; sources_per_block[conn.<a class="code" href="struct_r_t_1_1block__connection__t.html#ae2da266147515cfb2776ea9ed04069eb">dest</a>] -= 1;</div><div class="line"><a name="l00189"></a><span class="lineno"> 189</span>&#160; <span class="keywordflow">if</span> (sources_per_block[conn.<a class="code" href="struct_r_t_1_1block__connection__t.html#ae2da266147515cfb2776ea9ed04069eb">dest</a>] == 0) {</div><div class="line"><a name="l00190"></a><span class="lineno"> 190</span>&#160; processing_q.push(conn.<a class="code" href="struct_r_t_1_1block__connection__t.html#ae2da266147515cfb2776ea9ed04069eb">dest</a>);</div><div class="line"><a name="l00191"></a><span class="lineno"> 191</span>&#160; }</div><div class="line"><a name="l00192"></a><span class="lineno"> 192</span>&#160; }</div><div class="line"><a name="l00193"></a><span class="lineno"> 193</span>&#160; }</div><div class="line"><a name="l00194"></a><span class="lineno"> 194</span>&#160; }</div><div class="line"><a name="l00195"></a><span class="lineno"> 195</span>&#160; processing_q.pop();</div><div class="line"><a name="l00196"></a><span class="lineno"> 196</span>&#160; }</div><div class="line"><a name="l00197"></a><span class="lineno"> 197</span>&#160;</div><div class="line"><a name="l00198"></a><span class="lineno"> 198</span>&#160; <span class="comment">// System only cares about active threads</span></div><div class="line"><a name="l00199"></a><span class="lineno"> 199</span>&#160; std::vector&lt;RT::Thread*&gt; sorted_active_threads;</div><div class="line"><a name="l00200"></a><span class="lineno"> 200</span>&#160; <span class="keywordflow">for</span> (<span class="keyword">auto</span>* block : sorted_blocks) {</div><div class="line"><a name="l00201"></a><span class="lineno"> 201</span>&#160; <span class="keywordflow">if</span> (block-&gt;getActive() &amp;&amp; block-&gt;dependent()) {</div><div class="line"><a name="l00202"></a><span class="lineno"> 202</span>&#160; sorted_active_threads.push_back(<span class="keyword">dynamic_cast&lt;</span><a class="code" href="class_r_t_1_1_thread.html">RT::Thread</a>*<span class="keyword">&gt;</span>(block));</div><div class="line"><a name="l00203"></a><span class="lineno"> 203</span>&#160; }</div><div class="line"><a name="l00204"></a><span class="lineno"> 204</span>&#160; }</div><div class="line"><a name="l00205"></a><span class="lineno"> 205</span>&#160; <span class="keywordflow">return</span> sorted_active_threads;</div><div class="line"><a name="l00206"></a><span class="lineno"> 206</span>&#160;}</div><div class="line"><a name="l00207"></a><span class="lineno"> 207</span>&#160;</div><div class="line"><a name="l00208"></a><span class="lineno"><a class="line" href="class_r_t_1_1_connector.html#adc5406597983725408841e86f1df2358"> 208</a></span>&#160;std::vector&lt;RT::Device*&gt; <a class="code" href="class_r_t_1_1_connector.html#adc5406597983725408841e86f1df2358">RT::Connector::getDevices</a>()</div><div class="line"><a name="l00209"></a><span class="lineno"> 209</span>&#160;{</div><div class="line"><a name="l00210"></a><span class="lineno"> 210</span>&#160; std::vector&lt;RT::Device*&gt; devices;</div><div class="line"><a name="l00211"></a><span class="lineno"> 211</span>&#160; <span class="keywordflow">for</span> (<span class="keyword">auto</span>* block : this-&gt;block_registry) {</div><div class="line"><a name="l00212"></a><span class="lineno"> 212</span>&#160; <span class="keywordflow">if</span> (block == <span class="keyword">nullptr</span>) {</div><div class="line"><a name="l00213"></a><span class="lineno"> 213</span>&#160; <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00214"></a><span class="lineno"> 214</span>&#160; }</div><div class="line"><a name="l00215"></a><span class="lineno"> 215</span>&#160; <span class="keywordflow">if</span> (block-&gt;getActive() &amp;&amp; !block-&gt;dependent()) {</div><div class="line"><a name="l00216"></a><span class="lineno"> 216</span>&#160; devices.push_back(<span class="keyword">dynamic_cast&lt;</span><a class="code" href="class_r_t_1_1_device.html">RT::Device</a>*<span class="keyword">&gt;</span>(block));</div><div class="line"><a name="l00217"></a><span class="lineno"> 217</span>&#160; }</div><div class="line"><a name="l00218"></a><span class="lineno"> 218</span>&#160; }</div><div class="line"><a name="l00219"></a><span class="lineno"> 219</span>&#160; <span class="keywordflow">return</span> devices;</div><div class="line"><a name="l00220"></a><span class="lineno"> 220</span>&#160;}</div><div class="line"><a name="l00221"></a><span class="lineno"> 221</span>&#160;</div><div class="line"><a name="l00222"></a><span class="lineno"><a class="line" href="class_r_t_1_1_connector.html#a279e4bbb62bbf8ca43d073150f5ac798"> 222</a></span>&#160;std::vector&lt;RT::Thread*&gt; <a class="code" href="class_r_t_1_1_connector.html#a279e4bbb62bbf8ca43d073150f5ac798">RT::Connector::getThreads</a>()</div><div class="line"><a name="l00223"></a><span class="lineno"> 223</span>&#160;{</div><div class="line"><a name="l00224"></a><span class="lineno"> 224</span>&#160; <span class="keywordflow">return</span> this-&gt;topological_sort();</div><div class="line"><a name="l00225"></a><span class="lineno"> 225</span>&#160;}</div><div class="line"><a name="l00226"></a><span class="lineno"> 226</span>&#160;</div><div class="line"><a name="l00227"></a><span class="lineno"><a class="line" href="class_r_t_1_1_connector.html#a7bc0bcc46e5a67f7cad1ecfb16f44a98"> 227</a></span>&#160;std::vector&lt;RT::block_connection_t&gt; <a class="code" href="class_r_t_1_1_connector.html#a7bc0bcc46e5a67f7cad1ecfb16f44a98">RT::Connector::getOutputs</a>(<a class="code" href="class_i_o_1_1_block.html">IO::Block</a>* src)</div><div class="line"><a name="l00228"></a><span class="lineno"> 228</span>&#160;{</div><div class="line"><a name="l00229"></a><span class="lineno"> 229</span>&#160; <span class="keywordflow">if</span> (!this-&gt;isRegistered(src)) {</div><div class="line"><a name="l00230"></a><span class="lineno"> 230</span>&#160; <span class="keywordflow">return</span> {};</div><div class="line"><a name="l00231"></a><span class="lineno"> 231</span>&#160; }</div><div class="line"><a name="l00232"></a><span class="lineno"> 232</span>&#160; <span class="keywordflow">return</span> this-&gt;connections[src-&gt;<a class="code" href="class_i_o_1_1_block.html#a9410b4334b4923c9451d2ac468c625f3">getID</a>()];</div><div class="line"><a name="l00233"></a><span class="lineno"> 233</span>&#160;}</div><div class="line"><a name="l00234"></a><span class="lineno"> 234</span>&#160;</div><div class="line"><a name="l00235"></a><span class="lineno"><a class="line" href="class_r_t_1_1_connector.html#a2cc824efdcb08c16ae849fa740543c23"> 235</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_r_t_1_1_connector.html#a2cc824efdcb08c16ae849fa740543c23">RT::Connector::propagateBlockConnections</a>(<a class="code" href="class_i_o_1_1_block.html">IO::Block</a>* block)</div><div class="line"><a name="l00236"></a><span class="lineno"> 236</span>&#160;{</div><div class="line"><a name="l00237"></a><span class="lineno"> 237</span>&#160; <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; conn : this-&gt;connections[block-&gt;<a class="code" href="class_i_o_1_1_block.html#a9410b4334b4923c9451d2ac468c625f3">getID</a>()]) {</div><div class="line"><a name="l00238"></a><span class="lineno"> 238</span>&#160; conn.<a class="code" href="struct_r_t_1_1block__connection__t.html#ae2da266147515cfb2776ea9ed04069eb">dest</a>-&gt;<a class="code" href="class_i_o_1_1_block.html#ad5dcbaf954cc37dd466bb6b939cdd406">writeinput</a>(</div><div class="line"><a name="l00239"></a><span class="lineno"> 239</span>&#160; conn.<a class="code" href="struct_r_t_1_1block__connection__t.html#a83dd988e817fb0c6681d721a1d875c0d">dest_port</a>, conn.<a class="code" href="struct_r_t_1_1block__connection__t.html#ae861399a0bfc6e6fb0197b31cab6e3ae">src</a>-&gt;<a class="code" href="class_i_o_1_1_block.html#af657ea56d43701357230f46e1bddcdcd">readPort</a>(conn.<a class="code" href="struct_r_t_1_1block__connection__t.html#aec900637c74f8661838166dd0e33d83d">src_port_type</a>, conn.<a class="code" href="struct_r_t_1_1block__connection__t.html#a05eedd4fdbf9abbd6d5bc2fa4a35eefc">src_port</a>));</div><div class="line"><a name="l00240"></a><span class="lineno"> 240</span>&#160; }</div><div class="line"><a name="l00241"></a><span class="lineno"> 241</span>&#160;}</div><div class="line"><a name="l00242"></a><span class="lineno"> 242</span>&#160;</div><div class="line"><a name="l00243"></a><span class="lineno"><a class="line" href="class_r_t_1_1_connector.html#aa9bc245dbc17cb79ab19f6c5f5bfc23d"> 243</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_r_t_1_1_connector.html#aa9bc245dbc17cb79ab19f6c5f5bfc23d">RT::Connector::clearAllConnections</a>(<a class="code" href="class_i_o_1_1_block.html">IO::Block</a>* block)</div><div class="line"><a name="l00244"></a><span class="lineno"> 244</span>&#160;{</div><div class="line"><a name="l00245"></a><span class="lineno"> 245</span>&#160; <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; entry : this-&gt;connections) {</div><div class="line"><a name="l00246"></a><span class="lineno"> 246</span>&#160; entry.erase(std::remove_if(entry.begin(),</div><div class="line"><a name="l00247"></a><span class="lineno"> 247</span>&#160; entry.end(),</div><div class="line"><a name="l00248"></a><span class="lineno"> 248</span>&#160; [&amp;](<a class="code" href="struct_r_t_1_1block__connection__t.html">RT::block_connection_t</a> conn)</div><div class="line"><a name="l00249"></a><span class="lineno"> 249</span>&#160; { return conn.dest == block; }),</div><div class="line"><a name="l00250"></a><span class="lineno"> 250</span>&#160; entry.end());</div><div class="line"><a name="l00251"></a><span class="lineno"> 251</span>&#160; }</div><div class="line"><a name="l00252"></a><span class="lineno"> 252</span>&#160;}</div><div class="line"><a name="l00253"></a><span class="lineno"> 253</span>&#160;</div><div class="line"><a name="l00254"></a><span class="lineno"><a class="line" href="class_r_t_1_1_connector.html#a1d9764c870d9c598545d9453dc7ef560"> 254</a></span>&#160;std::vector&lt;IO::Block*&gt; <a class="code" href="class_r_t_1_1_connector.html#a1d9764c870d9c598545d9453dc7ef560">RT::Connector::getRegisteredBlocks</a>()</div><div class="line"><a name="l00255"></a><span class="lineno"> 255</span>&#160;{</div><div class="line"><a name="l00256"></a><span class="lineno"> 256</span>&#160; std::vector&lt;IO::Block*&gt; blocks;</div><div class="line"><a name="l00257"></a><span class="lineno"> 257</span>&#160; <span class="keywordflow">for</span> (<span class="keyword">auto</span>* block : this-&gt;block_registry) {</div><div class="line"><a name="l00258"></a><span class="lineno"> 258</span>&#160; <span class="keywordflow">if</span> (block != <span class="keyword">nullptr</span>) {</div><div class="line"><a name="l00259"></a><span class="lineno"> 259</span>&#160; blocks.push_back(block);</div><div class="line"><a name="l00260"></a><span class="lineno"> 260</span>&#160; }</div><div class="line"><a name="l00261"></a><span class="lineno"> 261</span>&#160; }</div><div class="line"><a name="l00262"></a><span class="lineno"> 262</span>&#160; <span class="keywordflow">return</span> blocks;</div><div class="line"><a name="l00263"></a><span class="lineno"> 263</span>&#160;}</div><div class="line"><a name="l00264"></a><span class="lineno"> 264</span>&#160;</div><div class="line"><a name="l00265"></a><span class="lineno"><a class="line" href="class_r_t_1_1_connector.html#a0e3b4e059b194d2b7e75f1e2f1a608b9"> 265</a></span>&#160;std::vector&lt;RT::block_connection_t&gt; <a class="code" href="class_r_t_1_1_connector.html#a0e3b4e059b194d2b7e75f1e2f1a608b9">RT::Connector::getAllConnections</a>()</div><div class="line"><a name="l00266"></a><span class="lineno"> 266</span>&#160;{</div><div class="line"><a name="l00267"></a><span class="lineno"> 267</span>&#160; std::vector&lt;RT::block_connection_t&gt; all_connections;</div><div class="line"><a name="l00268"></a><span class="lineno"> 268</span>&#160; <span class="keywordflow">for</span> (<span class="keyword">auto</span> entry : this-&gt;connections) {</div><div class="line"><a name="l00269"></a><span class="lineno"> 269</span>&#160; all_connections.insert(all_connections.end(), entry.begin(), entry.end());</div><div class="line"><a name="l00270"></a><span class="lineno"> 270</span>&#160; }</div><div class="line"><a name="l00271"></a><span class="lineno"> 271</span>&#160; <span class="keywordflow">return</span> all_connections;</div><div class="line"><a name="l00272"></a><span class="lineno"> 272</span>&#160;}</div><div class="line"><a name="l00273"></a><span class="lineno"> 273</span>&#160;</div><div class="line"><a name="l00274"></a><span class="lineno"><a class="line" href="class_r_t_1_1_system.html#a46a505e7d1de1bbdc5faab00062671de"> 274</a></span>&#160;<a class="code" href="class_r_t_1_1_system.html#a46a505e7d1de1bbdc5faab00062671de">RT::System::System</a>(<a class="code" href="class_event_1_1_manager.html">Event::Manager</a>* em, <a class="code" href="class_r_t_1_1_connector.html">RT::Connector</a>* rtc)</div><div class="line"><a name="l00275"></a><span class="lineno"> 275</span>&#160; : event_manager(em)</div><div class="line"><a name="l00276"></a><span class="lineno"> 276</span>&#160; , rt_connector(rtc)</div><div class="line"><a name="l00277"></a><span class="lineno"> 277</span>&#160;{</div><div class="line"><a name="l00278"></a><span class="lineno"> 278</span>&#160; <span class="keywordflow">if</span> (<a class="code" href="namespace_r_t_1_1_o_s.html#a5f5f450515a1a08568c798d027c72a42">RT::OS::getFifo</a>(this-&gt;eventFifo,</div><div class="line"><a name="l00279"></a><span class="lineno"> 279</span>&#160; <a class="code" href="namespace_r_t_1_1_o_s.html#a30675f86ce8532bc0e09a47ddc3b0e21">RT::OS::DEFAULT_FIFO_SIZE</a> * <span class="keyword">sizeof</span>(<a class="code" href="class_event_1_1_object.html">Event::Object</a>*))</div><div class="line"><a name="l00280"></a><span class="lineno"> 280</span>&#160; != 0)</div><div class="line"><a name="l00281"></a><span class="lineno"> 281</span>&#160; {</div><div class="line"><a name="l00282"></a><span class="lineno"> 282</span>&#160; <a class="code" href="debug_8hpp.html#add398267f12dca8907f8e49abeac7e5d">ERROR_MSG</a>(<span class="stringliteral">&quot;RT::System::System : failed to create Fifo&quot;</span>);</div><div class="line"><a name="l00283"></a><span class="lineno"> 283</span>&#160; <span class="keywordflow">return</span>;</div><div class="line"><a name="l00284"></a><span class="lineno"> 284</span>&#160; }</div><div class="line"><a name="l00285"></a><span class="lineno"> 285</span>&#160; this-&gt;task = std::make_unique&lt;RT::OS::Task&gt;();</div><div class="line"><a name="l00286"></a><span class="lineno"> 286</span>&#160; <span class="keywordflow">if</span> (<a class="code" href="namespace_r_t_1_1_o_s.html#a18dda990aeb8d9dd3a2ff3a33d5cf2c1">RT::OS::createTask</a>(this-&gt;task.get(), &amp;RT::System::execute, <span class="keyword">this</span>) != 0) {</div><div class="line"><a name="l00287"></a><span class="lineno"> 287</span>&#160; <a class="code" href="debug_8hpp.html#add398267f12dca8907f8e49abeac7e5d">ERROR_MSG</a>(<span class="stringliteral">&quot;RT::System::System : failed to create realtime thread\n&quot;</span>);</div><div class="line"><a name="l00288"></a><span class="lineno"> 288</span>&#160; <span class="keywordflow">return</span>;</div><div class="line"><a name="l00289"></a><span class="lineno"> 289</span>&#160; }</div><div class="line"><a name="l00290"></a><span class="lineno"> 290</span>&#160;</div><div class="line"><a name="l00291"></a><span class="lineno"> 291</span>&#160; this-&gt;threads.reserve(100);</div><div class="line"><a name="l00292"></a><span class="lineno"> 292</span>&#160; this-&gt;devices.reserve(100);</div><div class="line"><a name="l00293"></a><span class="lineno"> 293</span>&#160; this-&gt;event_manager-&gt;<a class="code" href="class_event_1_1_manager.html#a2fc0442d260233ef172c5fd3431cdf87">registerHandler</a>(<span class="keyword">this</span>);</div><div class="line"><a name="l00294"></a><span class="lineno"> 294</span>&#160;}</div><div class="line"><a name="l00295"></a><span class="lineno"> 295</span>&#160;</div><div class="line"><a name="l00296"></a><span class="lineno"><a class="line" href="class_r_t_1_1_system.html#adb7b97b34053c36bcc23ff69eaabf7db"> 296</a></span>&#160;<a class="code" href="class_r_t_1_1_system.html#adb7b97b34053c36bcc23ff69eaabf7db">RT::System::~System</a>()</div><div class="line"><a name="l00297"></a><span class="lineno"> 297</span>&#160;{</div><div class="line"><a name="l00298"></a><span class="lineno"> 298</span>&#160; this-&gt;task-&gt;task_finished = <span class="keyword">true</span>;</div><div class="line"><a name="l00299"></a><span class="lineno"> 299</span>&#160; <a class="code" href="namespace_r_t_1_1_o_s.html#adcc9519a1f5904976d6e8c56108af8d3">RT::OS::deleteTask</a>(this-&gt;task.get());</div><div class="line"><a name="l00300"></a><span class="lineno"> 300</span>&#160; this-&gt;event_manager-&gt;unregisterHandler(<span class="keyword">this</span>);</div><div class="line"><a name="l00301"></a><span class="lineno"> 301</span>&#160; this-&gt;telemitry_processing_thread_running = <span class="keyword">false</span>;</div><div class="line"><a name="l00302"></a><span class="lineno"> 302</span>&#160; this-&gt;eventFifo-&gt;close();</div><div class="line"><a name="l00303"></a><span class="lineno"> 303</span>&#160; <span class="keywordflow">if</span> (this-&gt;telemitry_processing_thread.joinable()) {</div><div class="line"><a name="l00304"></a><span class="lineno"> 304</span>&#160; this-&gt;telemitry_processing_thread.join();</div><div class="line"><a name="l00305"></a><span class="lineno"> 305</span>&#160; }</div><div class="line"><a name="l00306"></a><span class="lineno"> 306</span>&#160;}</div><div class="line"><a name="l00307"></a><span class="lineno"> 307</span>&#160;</div><div class="line"><a name="l00308"></a><span class="lineno"><a class="line" href="class_r_t_1_1_system.html#ac0da20522572a10377baa46a782d64e7"> 308</a></span>&#160;int64_t <a class="code" href="class_r_t_1_1_system.html#ac0da20522572a10377baa46a782d64e7">RT::System::getPeriod</a>()</div><div class="line"><a name="l00309"></a><span class="lineno"> 309</span>&#160;{</div><div class="line"><a name="l00310"></a><span class="lineno"> 310</span>&#160; <span class="keywordflow">return</span> this-&gt;task-&gt;period;</div><div class="line"><a name="l00311"></a><span class="lineno"> 311</span>&#160;}</div><div class="line"><a name="l00312"></a><span class="lineno"> 312</span>&#160;</div><div class="line"><a name="l00313"></a><span class="lineno"> 313</span>&#160;<span class="keywordtype">void</span> RT::System::postTelemitry(<a class="code" href="struct_r_t_1_1_telemitry_1_1_response.html">RT::Telemitry::Response</a> telemitry)</div><div class="line"><a name="l00314"></a><span class="lineno"> 314</span>&#160;{</div><div class="line"><a name="l00315"></a><span class="lineno"> 315</span>&#160; this-&gt;eventFifo-&gt;writeRT(&amp;telemitry, <span class="keyword">sizeof</span>(<a class="code" href="struct_r_t_1_1_telemitry_1_1_response.html">RT::Telemitry::Response</a>));</div><div class="line"><a name="l00316"></a><span class="lineno"> 316</span>&#160;}</div><div class="line"><a name="l00317"></a><span class="lineno"> 317</span>&#160;</div><div class="line"><a name="l00318"></a><span class="lineno"><a class="line" href="class_r_t_1_1_system.html#ad19e06bb2ae39ee9ecde291cf2401e95"> 318</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_r_t_1_1_system.html#ad19e06bb2ae39ee9ecde291cf2401e95">RT::System::createTelemitryProcessor</a>()</div><div class="line"><a name="l00319"></a><span class="lineno"> 319</span>&#160;{</div><div class="line"><a name="l00320"></a><span class="lineno"> 320</span>&#160; <span class="keyword">auto</span> proc = [&amp;]()</div><div class="line"><a name="l00321"></a><span class="lineno"> 321</span>&#160; {</div><div class="line"><a name="l00322"></a><span class="lineno"> 322</span>&#160; <a class="code" href="classevent_logger.html">eventLogger</a>* logger = this-&gt;event_manager-&gt;getLogger();</div><div class="line"><a name="l00323"></a><span class="lineno"> 323</span>&#160; std::vector&lt;RT::Telemitry::Response&gt; responses;</div><div class="line"><a name="l00324"></a><span class="lineno"> 324</span>&#160; <span class="keywordflow">while</span> (!this-&gt;task-&gt;task_finished</div><div class="line"><a name="l00325"></a><span class="lineno"> 325</span>&#160; &amp;&amp; this-&gt;telemitry_processing_thread_running) {</div><div class="line"><a name="l00326"></a><span class="lineno"> 326</span>&#160; responses = this-&gt;getTelemitry();</div><div class="line"><a name="l00327"></a><span class="lineno"> 327</span>&#160; <span class="keywordflow">for</span> (<span class="keyword">auto</span> telem : responses) {</div><div class="line"><a name="l00328"></a><span class="lineno"> 328</span>&#160; <span class="keywordflow">if</span> (telem.cmd != <span class="keyword">nullptr</span>) {</div><div class="line"><a name="l00329"></a><span class="lineno"> 329</span>&#160; telem.cmd-&gt;done();</div><div class="line"><a name="l00330"></a><span class="lineno"> 330</span>&#160; }</div><div class="line"><a name="l00331"></a><span class="lineno"> 331</span>&#160; <span class="keywordflow">if</span> (telem.type == <a class="code" href="namespace_r_t_1_1_telemitry.html#afa0c02ac1b67cbaf16b4921b01ca9d71">RT::Telemitry::RT_SHUTDOWN</a>) {</div><div class="line"><a name="l00332"></a><span class="lineno"> 332</span>&#160; this-&gt;telemitry_processing_thread_running = <span class="keyword">false</span>;</div><div class="line"><a name="l00333"></a><span class="lineno"> 333</span>&#160; }</div><div class="line"><a name="l00334"></a><span class="lineno"> 334</span>&#160; <span class="comment">// let&#39;s log this telemitry</span></div><div class="line"><a name="l00335"></a><span class="lineno"> 335</span>&#160; logger-&gt;<a class="code" href="classevent_logger.html#ad5c06e63f19ef3ce5f820a50c0041253">log</a>(telem);</div><div class="line"><a name="l00336"></a><span class="lineno"> 336</span>&#160; }</div><div class="line"><a name="l00337"></a><span class="lineno"> 337</span>&#160; }</div><div class="line"><a name="l00338"></a><span class="lineno"> 338</span>&#160; };</div><div class="line"><a name="l00339"></a><span class="lineno"> 339</span>&#160; this-&gt;telemitry_processing_thread = std::thread(proc);</div><div class="line"><a name="l00340"></a><span class="lineno"> 340</span>&#160; <a class="code" href="namespace_r_t_1_1_o_s.html#aa2570e54f60d503a9a8a926b6dc230e0">RT::OS::renameOSThread</a>(this-&gt;telemitry_processing_thread,</div><div class="line"><a name="l00341"></a><span class="lineno"> 341</span>&#160; std::string(<span class="stringliteral">&quot;TelemitryWorker&quot;</span>));</div><div class="line"><a name="l00342"></a><span class="lineno"> 342</span>&#160;}</div><div class="line"><a name="l00343"></a><span class="lineno"> 343</span>&#160;</div><div class="line"><a name="l00344"></a><span class="lineno"><a class="line" href="class_r_t_1_1_system.html#a0b11b149bc2240acb751ac6867cfacad"> 344</a></span>&#160;std::vector&lt;RT::Telemitry::Response&gt; <a class="code" href="class_r_t_1_1_system.html#a0b11b149bc2240acb751ac6867cfacad">RT::System::getTelemitry</a>()</div><div class="line"><a name="l00345"></a><span class="lineno"> 345</span>&#160;{</div><div class="line"><a name="l00346"></a><span class="lineno"> 346</span>&#160; this-&gt;eventFifo-&gt;poll();</div><div class="line"><a name="l00347"></a><span class="lineno"> 347</span>&#160; std::vector&lt;RT::Telemitry::Response&gt; responses;</div><div class="line"><a name="l00348"></a><span class="lineno"> 348</span>&#160; <a class="code" href="struct_r_t_1_1_telemitry_1_1_response.html">RT::Telemitry::Response</a> telemitry;</div><div class="line"><a name="l00349"></a><span class="lineno"> 349</span>&#160; <span class="keywordflow">while</span> (this-&gt;eventFifo-&gt;read(&amp;telemitry, <span class="keyword">sizeof</span>(<a class="code" href="struct_r_t_1_1_telemitry_1_1_response.html">RT::Telemitry::Response</a>)) &gt; 0)</div><div class="line"><a name="l00350"></a><span class="lineno"> 350</span>&#160; {</div><div class="line"><a name="l00351"></a><span class="lineno"> 351</span>&#160; responses.push_back(telemitry);</div><div class="line"><a name="l00352"></a><span class="lineno"> 352</span>&#160; }</div><div class="line"><a name="l00353"></a><span class="lineno"> 353</span>&#160; <span class="keywordflow">return</span> responses;</div><div class="line"><a name="l00354"></a><span class="lineno"> 354</span>&#160;}</div><div class="line"><a name="l00355"></a><span class="lineno"> 355</span>&#160;</div><div class="line"><a name="l00356"></a><span class="lineno"> 356</span>&#160;<span class="keywordtype">void</span> RT::System::setPeriod(RT::System::CMD* cmd)</div><div class="line"><a name="l00357"></a><span class="lineno"> 357</span>&#160;{</div><div class="line"><a name="l00358"></a><span class="lineno"> 358</span>&#160; <span class="keyword">auto</span> period = std::get&lt;int64_t&gt;(cmd-&gt;getRTParam(<span class="stringliteral">&quot;period&quot;</span>));</div><div class="line"><a name="l00359"></a><span class="lineno"> 359</span>&#160; this-&gt;task-&gt;period = period;</div><div class="line"><a name="l00360"></a><span class="lineno"> 360</span>&#160; <span class="keyword">const</span> <a class="code" href="struct_r_t_1_1_telemitry_1_1_response.html">RT::Telemitry::Response</a> telem = {<a class="code" href="namespace_r_t_1_1_telemitry.html#a9caf0f747c190eb9528625e7f5685f99">RT::Telemitry::RT_PERIOD_UPDATE</a>, cmd};</div><div class="line"><a name="l00361"></a><span class="lineno"> 361</span>&#160; this-&gt;postTelemitry(telem);</div><div class="line"><a name="l00362"></a><span class="lineno"> 362</span>&#160;}</div><div class="line"><a name="l00363"></a><span class="lineno"> 363</span>&#160;</div><div class="line"><a name="l00364"></a><span class="lineno"> 364</span>&#160;<span class="keywordtype">void</span> RT::System::updateDeviceList(RT::System::CMD* cmd)</div><div class="line"><a name="l00365"></a><span class="lineno"> 365</span>&#160;{</div><div class="line"><a name="l00366"></a><span class="lineno"> 366</span>&#160; std::vector&lt;RT::Device*&gt;* vec_ptr =</div><div class="line"><a name="l00367"></a><span class="lineno"> 367</span>&#160; std::get&lt;std::vector&lt;RT::Device*&gt;*&gt;(cmd-&gt;getRTParam(<span class="stringliteral">&quot;deviceList&quot;</span>));</div><div class="line"><a name="l00368"></a><span class="lineno"> 368</span>&#160; this-&gt;devices.clear();</div><div class="line"><a name="l00369"></a><span class="lineno"> 369</span>&#160; this-&gt;devices.assign(vec_ptr-&gt;begin(), vec_ptr-&gt;end());</div><div class="line"><a name="l00370"></a><span class="lineno"> 370</span>&#160; <span class="keywordflow">if</span> (cmd-&gt;getType() == <a class="code" href="namespace_event.html#a2abf13b5be49315e9e362af02029f058ae5a9238aa26847054673995f246a4e7c">Event::Type::RT_DEVICE_REMOVE_EVENT</a>) {</div><div class="line"><a name="l00371"></a><span class="lineno"> 371</span>&#160; <span class="keyword">auto</span>* device = std::get&lt;RT::Device*&gt;(cmd-&gt;getRTParam(<span class="stringliteral">&quot;device&quot;</span>));</div><div class="line"><a name="l00372"></a><span class="lineno"> 372</span>&#160; this-&gt;rt_connector-&gt;clearAllConnections(device);</div><div class="line"><a name="l00373"></a><span class="lineno"> 373</span>&#160; device-&gt;assignID(<a class="code" href="namespace_i_o.html#ab963d2614105684eb927b757c9c9f608">IO::INVALID_BLOCK_ID</a>);</div><div class="line"><a name="l00374"></a><span class="lineno"> 374</span>&#160; }</div><div class="line"><a name="l00375"></a><span class="lineno"> 375</span>&#160; <span class="keyword">const</span> <a class="code" href="struct_r_t_1_1_telemitry_1_1_response.html">RT::Telemitry::Response</a> telem = {<a class="code" href="namespace_r_t_1_1_telemitry.html#a3a15b2c197907ffc3d002b462f05b9e4">RT::Telemitry::RT_DEVICE_LIST_UPDATE</a>,</div><div class="line"><a name="l00376"></a><span class="lineno"> 376</span>&#160; cmd};</div><div class="line"><a name="l00377"></a><span class="lineno"> 377</span>&#160; this-&gt;postTelemitry(telem);</div><div class="line"><a name="l00378"></a><span class="lineno"> 378</span>&#160;}</div><div class="line"><a name="l00379"></a><span class="lineno"> 379</span>&#160;</div><div class="line"><a name="l00380"></a><span class="lineno"> 380</span>&#160;<span class="keywordtype">void</span> RT::System::updateThreadList(RT::System::CMD* cmd)</div><div class="line"><a name="l00381"></a><span class="lineno"> 381</span>&#160;{</div><div class="line"><a name="l00382"></a><span class="lineno"> 382</span>&#160; std::vector&lt;RT::Thread*&gt;* vec_ptr =</div><div class="line"><a name="l00383"></a><span class="lineno"> 383</span>&#160; std::get&lt;std::vector&lt;RT::Thread*&gt;*&gt;(cmd-&gt;getRTParam(<span class="stringliteral">&quot;threadList&quot;</span>));</div><div class="line"><a name="l00384"></a><span class="lineno"> 384</span>&#160; this-&gt;threads.clear();</div><div class="line"><a name="l00385"></a><span class="lineno"> 385</span>&#160; this-&gt;threads.assign(vec_ptr-&gt;begin(), vec_ptr-&gt;end());</div><div class="line"><a name="l00386"></a><span class="lineno"> 386</span>&#160; <span class="keywordflow">if</span> (cmd-&gt;getType() == <a class="code" href="namespace_event.html#a2abf13b5be49315e9e362af02029f058aaf07920c7194e2efad3fee591bc06e75">Event::Type::RT_THREAD_REMOVE_EVENT</a>) {</div><div class="line"><a name="l00387"></a><span class="lineno"> 387</span>&#160; <span class="keyword">auto</span>* thread = std::get&lt;RT::Thread*&gt;(cmd-&gt;getRTParam(<span class="stringliteral">&quot;thread&quot;</span>));</div><div class="line"><a name="l00388"></a><span class="lineno"> 388</span>&#160; this-&gt;rt_connector-&gt;clearAllConnections(thread);</div><div class="line"><a name="l00389"></a><span class="lineno"> 389</span>&#160; thread-&gt;assignID(<a class="code" href="namespace_i_o.html#ab963d2614105684eb927b757c9c9f608">IO::INVALID_BLOCK_ID</a>);</div><div class="line"><a name="l00390"></a><span class="lineno"> 390</span>&#160; }</div><div class="line"><a name="l00391"></a><span class="lineno"> 391</span>&#160; <span class="keyword">const</span> <a class="code" href="struct_r_t_1_1_telemitry_1_1_response.html">RT::Telemitry::Response</a> telem = {<a class="code" href="namespace_r_t_1_1_telemitry.html#add732ec682dae0acecccc02a1f30f410">RT::Telemitry::RT_THREAD_LIST_UPDATE</a>,</div><div class="line"><a name="l00392"></a><span class="lineno"> 392</span>&#160; cmd};</div><div class="line"><a name="l00393"></a><span class="lineno"> 393</span>&#160; this-&gt;postTelemitry(telem);</div><div class="line"><a name="l00394"></a><span class="lineno"> 394</span>&#160;}</div><div class="line"><a name="l00395"></a><span class="lineno"> 395</span>&#160;</div><div class="line"><a name="l00396"></a><span class="lineno"> 396</span>&#160;<span class="keywordtype">void</span> RT::System::ioLinkUpdateCMD(RT::System::CMD* cmd)</div><div class="line"><a name="l00397"></a><span class="lineno"> 397</span>&#160;{</div><div class="line"><a name="l00398"></a><span class="lineno"> 398</span>&#160; <span class="keyword">auto</span> conn = std::get&lt;RT::block_connection_t&gt;(cmd-&gt;getRTParam(<span class="stringliteral">&quot;connection&quot;</span>));</div><div class="line"><a name="l00399"></a><span class="lineno"> 399</span>&#160; <a class="code" href="struct_r_t_1_1_telemitry_1_1_response.html">RT::Telemitry::Response</a> telem;</div><div class="line"><a name="l00400"></a><span class="lineno"> 400</span>&#160; telem.<a class="code" href="struct_r_t_1_1_telemitry_1_1_response.html#a563998aae0a6c9a7848351f4464779d0">cmd</a> = cmd;</div><div class="line"><a name="l00401"></a><span class="lineno"> 401</span>&#160; <span class="keywordflow">switch</span> (cmd-&gt;getType()) {</div><div class="line"><a name="l00402"></a><span class="lineno"> 402</span>&#160; <span class="keywordflow">case</span> <a class="code" href="namespace_event.html#a2abf13b5be49315e9e362af02029f058a68ed23e4c653a2f1d49245fbec2bd77f">Event::Type::IO_LINK_INSERT_EVENT</a>:</div><div class="line"><a name="l00403"></a><span class="lineno"> 403</span>&#160; this-&gt;rt_connector-&gt;connect(conn);</div><div class="line"><a name="l00404"></a><span class="lineno"> 404</span>&#160; telem.<a class="code" href="struct_r_t_1_1_telemitry_1_1_response.html#a2e9e22d7abe7402a3079c8fb4eef2beb">type</a> = <a class="code" href="namespace_r_t_1_1_telemitry.html#a6f5d0a7042f61b24346791e87ee63959">RT::Telemitry::IO_LINK_UPDATED</a>;</div><div class="line"><a name="l00405"></a><span class="lineno"> 405</span>&#160; <span class="keywordflow">break</span>;</div><div class="line"><a name="l00406"></a><span class="lineno"> 406</span>&#160; <span class="keywordflow">case</span> <a class="code" href="namespace_event.html#a2abf13b5be49315e9e362af02029f058a94d4754d6ddd1ab02ecc7b40903faa99">Event::Type::IO_LINK_REMOVE_EVENT</a>:</div><div class="line"><a name="l00407"></a><span class="lineno"> 407</span>&#160; this-&gt;rt_connector-&gt;disconnect(conn);</div><div class="line"><a name="l00408"></a><span class="lineno"> 408</span>&#160; telem.<a class="code" href="struct_r_t_1_1_telemitry_1_1_response.html#a2e9e22d7abe7402a3079c8fb4eef2beb">type</a> = <a class="code" href="namespace_r_t_1_1_telemitry.html#a6f5d0a7042f61b24346791e87ee63959">RT::Telemitry::IO_LINK_UPDATED</a>;</div><div class="line"><a name="l00409"></a><span class="lineno"> 409</span>&#160; <span class="keywordflow">break</span>;</div><div class="line"><a name="l00410"></a><span class="lineno"> 410</span>&#160; <span class="keywordflow">default</span>:</div><div class="line"><a name="l00411"></a><span class="lineno"> 411</span>&#160; telem.<a class="code" href="struct_r_t_1_1_telemitry_1_1_response.html#a2e9e22d7abe7402a3079c8fb4eef2beb">type</a> = <a class="code" href="namespace_r_t_1_1_telemitry.html#a498013d09bee18dcb4fdacd67ebcc020">RT::Telemitry::RT_NOOP</a>;</div><div class="line"><a name="l00412"></a><span class="lineno"> 412</span>&#160; <span class="keywordflow">break</span>;</div><div class="line"><a name="l00413"></a><span class="lineno"> 413</span>&#160; }</div><div class="line"><a name="l00414"></a><span class="lineno"> 414</span>&#160; this-&gt;postTelemitry(telem);</div><div class="line"><a name="l00415"></a><span class="lineno"> 415</span>&#160;}</div><div class="line"><a name="l00416"></a><span class="lineno"> 416</span>&#160;</div><div class="line"><a name="l00417"></a><span class="lineno"> 417</span>&#160;<span class="keywordtype">void</span> RT::System::getPeriodTicksCMD(RT::System::CMD* cmd)</div><div class="line"><a name="l00418"></a><span class="lineno"> 418</span>&#160;{</div><div class="line"><a name="l00419"></a><span class="lineno"> 419</span>&#160; <a class="code" href="namespace_r_t.html#a7dd60fcfc4bcb44e4f05c68e2a3e664c">RT::command_param_t</a> value;</div><div class="line"><a name="l00420"></a><span class="lineno"> 420</span>&#160; <span class="keywordflow">switch</span> (cmd-&gt;getType()) {</div><div class="line"><a name="l00421"></a><span class="lineno"> 421</span>&#160; <span class="keywordflow">case</span> <a class="code" href="namespace_event.html#a2abf13b5be49315e9e362af02029f058a4379aa1ee89ffe6223e472a3ae43aa6d">Event::Type::RT_PREPERIOD_EVENT</a>:</div><div class="line"><a name="l00422"></a><span class="lineno"> 422</span>&#160; value = &amp;(this-&gt;periodStartTime);</div><div class="line"><a name="l00423"></a><span class="lineno"> 423</span>&#160; cmd-&gt;setRTParam(<span class="stringliteral">&quot;pre-period&quot;</span>, value);</div><div class="line"><a name="l00424"></a><span class="lineno"> 424</span>&#160; <span class="keywordflow">break</span>;</div><div class="line"><a name="l00425"></a><span class="lineno"> 425</span>&#160; <span class="keywordflow">case</span> <a class="code" href="namespace_event.html#a2abf13b5be49315e9e362af02029f058ae57d0e963714ed4a2012a41b4ac03e76">Event::Type::RT_POSTPERIOD_EVENT</a>:</div><div class="line"><a name="l00426"></a><span class="lineno"> 426</span>&#160; value = &amp;(this-&gt;periodEndTime);</div><div class="line"><a name="l00427"></a><span class="lineno"> 427</span>&#160; cmd-&gt;setRTParam(<span class="stringliteral">&quot;post-period&quot;</span>, value);</div><div class="line"><a name="l00428"></a><span class="lineno"> 428</span>&#160; <span class="keywordflow">break</span>;</div><div class="line"><a name="l00429"></a><span class="lineno"> 429</span>&#160; <span class="keywordflow">default</span>:</div><div class="line"><a name="l00430"></a><span class="lineno"> 430</span>&#160; <span class="keywordflow">return</span>;</div><div class="line"><a name="l00431"></a><span class="lineno"> 431</span>&#160; }</div><div class="line"><a name="l00432"></a><span class="lineno"> 432</span>&#160; <span class="keyword">const</span> <a class="code" href="struct_r_t_1_1_telemitry_1_1_response.html">RT::Telemitry::Response</a> telem = {<a class="code" href="namespace_r_t_1_1_telemitry.html#a9caf0f747c190eb9528625e7f5685f99">RT::Telemitry::RT_PERIOD_UPDATE</a>, cmd};</div><div class="line"><a name="l00433"></a><span class="lineno"> 433</span>&#160; this-&gt;postTelemitry(telem);</div><div class="line"><a name="l00434"></a><span class="lineno"> 434</span>&#160;}</div><div class="line"><a name="l00435"></a><span class="lineno"> 435</span>&#160;</div><div class="line"><a name="l00436"></a><span class="lineno"> 436</span>&#160;<span class="keywordtype">void</span> RT::System::changeWidgetParametersCMD(RT::System::CMD* cmd)</div><div class="line"><a name="l00437"></a><span class="lineno"> 437</span>&#160;{</div><div class="line"><a name="l00438"></a><span class="lineno"> 438</span>&#160; <a class="code" href="struct_r_t_1_1_telemitry_1_1_response.html">RT::Telemitry::Response</a> telem;</div><div class="line"><a name="l00439"></a><span class="lineno"> 439</span>&#160; telem.<a class="code" href="struct_r_t_1_1_telemitry_1_1_response.html#a563998aae0a6c9a7848351f4464779d0">cmd</a> = cmd;</div><div class="line"><a name="l00440"></a><span class="lineno"> 440</span>&#160; telem.<a class="code" href="struct_r_t_1_1_telemitry_1_1_response.html#a2e9e22d7abe7402a3079c8fb4eef2beb">type</a> = <a class="code" href="namespace_r_t_1_1_telemitry.html#a0860ff945e37b1eee62ad166684f5637">RT::Telemitry::RT_WIDGET_PARAM_UPDATE</a>;</div><div class="line"><a name="l00441"></a><span class="lineno"> 441</span>&#160; <span class="keyword">auto</span>* component =</div><div class="line"><a name="l00442"></a><span class="lineno"> 442</span>&#160; std::get&lt;Widgets::Component*&gt;(cmd-&gt;getRTParam(<span class="stringliteral">&quot;paramWidget&quot;</span>));</div><div class="line"><a name="l00443"></a><span class="lineno"> 443</span>&#160; <span class="keyword">auto</span> param_id = std::get&lt;size_t&gt;(cmd-&gt;getRTParam(<span class="stringliteral">&quot;paramID&quot;</span>));</div><div class="line"><a name="l00444"></a><span class="lineno"> 444</span>&#160; <span class="keyword">auto</span> param_type_num = std::get&lt;uint64_t&gt;(cmd-&gt;getRTParam(<span class="stringliteral">&quot;paramType&quot;</span>));</div><div class="line"><a name="l00445"></a><span class="lineno"> 445</span>&#160; <span class="keyword">auto</span> param_type = <span class="keyword">static_cast&lt;</span><a class="code" href="namespace_widgets_1_1_variable.html#a1e24cd37408a5f0d2830eee15abcc6e4">Widgets::Variable::variable_t</a><span class="keyword">&gt;</span>(param_type_num);</div><div class="line"><a name="l00446"></a><span class="lineno"> 446</span>&#160; <a class="code" href="namespace_r_t.html#a7dd60fcfc4bcb44e4f05c68e2a3e664c">RT::command_param_t</a> param_value_any = cmd-&gt;getRTParam(<span class="stringliteral">&quot;paramValue&quot;</span>);</div><div class="line"><a name="l00447"></a><span class="lineno"> 447</span>&#160; <span class="keywordflow">switch</span> (param_type) {</div><div class="line"><a name="l00448"></a><span class="lineno"> 448</span>&#160; <span class="keywordflow">case</span> <a class="code" href="namespace_widgets_1_1_variable.html#a1e24cd37408a5f0d2830eee15abcc6e4a893a171166a3fc0002a348c3897c0980">Widgets::Variable::DOUBLE_PARAMETER</a>:</div><div class="line"><a name="l00449"></a><span class="lineno"> 449</span>&#160; component-&gt;setValue&lt;<span class="keywordtype">double</span>&gt;(param_id, std::get&lt;double&gt;(param_value_any));</div><div class="line"><a name="l00450"></a><span class="lineno"> 450</span>&#160; <span class="keywordflow">break</span>;</div><div class="line"><a name="l00451"></a><span class="lineno"> 451</span>&#160; <span class="keywordflow">case</span> <a class="code" href="namespace_widgets_1_1_variable.html#a1e24cd37408a5f0d2830eee15abcc6e4a1353a5f495a9e489004a6642eebe3aaf">Widgets::Variable::INT_PARAMETER</a>:</div><div class="line"><a name="l00452"></a><span class="lineno"> 452</span>&#160; component-&gt;setValue&lt;int64_t&gt;(param_id,</div><div class="line"><a name="l00453"></a><span class="lineno"> 453</span>&#160; std::get&lt;int64_t&gt;(param_value_any));</div><div class="line"><a name="l00454"></a><span class="lineno"> 454</span>&#160; <span class="keywordflow">break</span>;</div><div class="line"><a name="l00455"></a><span class="lineno"> 455</span>&#160; <span class="keywordflow">case</span> <a class="code" href="namespace_widgets_1_1_variable.html#a1e24cd37408a5f0d2830eee15abcc6e4ab77e2db4b9e6867d830e80b4111612e1">Widgets::Variable::UINT_PARAMETER</a>:</div><div class="line"><a name="l00456"></a><span class="lineno"> 456</span>&#160; component-&gt;setValue&lt;uint64_t&gt;(param_id,</div><div class="line"><a name="l00457"></a><span class="lineno"> 457</span>&#160; std::get&lt;uint64_t&gt;(param_value_any));</div><div class="line"><a name="l00458"></a><span class="lineno"> 458</span>&#160; <span class="keywordflow">break</span>;</div><div class="line"><a name="l00459"></a><span class="lineno"> 459</span>&#160; <span class="keywordflow">case</span> <a class="code" href="namespace_widgets_1_1_variable.html#a1e24cd37408a5f0d2830eee15abcc6e4afa9ac137390ec260f7a15b24f80582f7">Widgets::Variable::STATE</a>:</div><div class="line"><a name="l00460"></a><span class="lineno"> 460</span>&#160; component-&gt;setValue&lt;<a class="code" href="namespace_r_t_1_1_state.html#a797ad43d79626b6c65f6eeb96faef5f4">RT::State::state_t</a>&gt;(</div><div class="line"><a name="l00461"></a><span class="lineno"> 461</span>&#160; param_id,</div><div class="line"><a name="l00462"></a><span class="lineno"> 462</span>&#160; <span class="keyword">static_cast&lt;</span><a class="code" href="namespace_r_t_1_1_state.html#a797ad43d79626b6c65f6eeb96faef5f4">RT::State::state_t</a><span class="keyword">&gt;</span>(</div><div class="line"><a name="l00463"></a><span class="lineno"> 463</span>&#160; std::get&lt;State::state_t&gt;(param_value_any)));</div><div class="line"><a name="l00464"></a><span class="lineno"> 464</span>&#160; <span class="keywordflow">break</span>;</div><div class="line"><a name="l00465"></a><span class="lineno"> 465</span>&#160; <span class="keywordflow">default</span>:</div><div class="line"><a name="l00466"></a><span class="lineno"> 466</span>&#160; <a class="code" href="debug_8hpp.html#add398267f12dca8907f8e49abeac7e5d">ERROR_MSG</a>(</div><div class="line"><a name="l00467"></a><span class="lineno"> 467</span>&#160; <span class="stringliteral">&quot;Widget Parameter Change event does not contain expected parameter &quot;</span></div><div class="line"><a name="l00468"></a><span class="lineno"> 468</span>&#160; <span class="stringliteral">&quot;types&quot;</span>);</div><div class="line"><a name="l00469"></a><span class="lineno"> 469</span>&#160; telem.<a class="code" href="struct_r_t_1_1_telemitry_1_1_response.html#a2e9e22d7abe7402a3079c8fb4eef2beb">type</a> = <a class="code" href="namespace_r_t_1_1_telemitry.html#ad2686907ec90a9a2373a6cb1a0b25fdb">RT::Telemitry::RT_ERROR</a>;</div><div class="line"><a name="l00470"></a><span class="lineno"> 470</span>&#160; }</div><div class="line"><a name="l00471"></a><span class="lineno"> 471</span>&#160; this-&gt;postTelemitry(telem);</div><div class="line"><a name="l00472"></a><span class="lineno"> 472</span>&#160;}</div><div class="line"><a name="l00473"></a><span class="lineno"> 473</span>&#160;</div><div class="line"><a name="l00474"></a><span class="lineno"> 474</span>&#160;<span class="keywordtype">void</span> RT::System::changeWidgetStateCMD(RT::System::CMD* cmd)</div><div class="line"><a name="l00475"></a><span class="lineno"> 475</span>&#160;{</div><div class="line"><a name="l00476"></a><span class="lineno"> 476</span>&#160; <a class="code" href="struct_r_t_1_1_telemitry_1_1_response.html">RT::Telemitry::Response</a> telem;</div><div class="line"><a name="l00477"></a><span class="lineno"> 477</span>&#160; telem.<a class="code" href="struct_r_t_1_1_telemitry_1_1_response.html#a563998aae0a6c9a7848351f4464779d0">cmd</a> = cmd;</div><div class="line"><a name="l00478"></a><span class="lineno"> 478</span>&#160; telem.<a class="code" href="struct_r_t_1_1_telemitry_1_1_response.html#a2e9e22d7abe7402a3079c8fb4eef2beb">type</a> = <a class="code" href="namespace_r_t_1_1_telemitry.html#aefa1ab2936b3a2d04effabc388385ece">RT::Telemitry::RT_WIDGET_STATE_UPDATE</a>;</div><div class="line"><a name="l00479"></a><span class="lineno"> 479</span>&#160; <span class="keyword">auto</span>* component = std::get&lt;Widgets::Component*&gt;(cmd-&gt;getRTParam(<span class="stringliteral">&quot;component&quot;</span>));</div><div class="line"><a name="l00480"></a><span class="lineno"> 480</span>&#160; <span class="keyword">auto</span> state = std::get&lt;RT::State::state_t&gt;(cmd-&gt;getRTParam(<span class="stringliteral">&quot;state&quot;</span>));</div><div class="line"><a name="l00481"></a><span class="lineno"> 481</span>&#160; component-&gt;setState(state);</div><div class="line"><a name="l00482"></a><span class="lineno"> 482</span>&#160; this-&gt;postTelemitry(telem);</div><div class="line"><a name="l00483"></a><span class="lineno"> 483</span>&#160;}</div><div class="line"><a name="l00484"></a><span class="lineno"> 484</span>&#160;</div><div class="line"><a name="l00485"></a><span class="lineno"> 485</span>&#160;<span class="keywordtype">void</span> RT::System::executeCMD(RT::System::CMD* cmd)</div><div class="line"><a name="l00486"></a><span class="lineno"> 486</span>&#160;{</div><div class="line"><a name="l00487"></a><span class="lineno"> 487</span>&#160; <a class="code" href="struct_r_t_1_1_telemitry_1_1_response.html">RT::Telemitry::Response</a> telem;</div><div class="line"><a name="l00488"></a><span class="lineno"> 488</span>&#160; telem.<a class="code" href="struct_r_t_1_1_telemitry_1_1_response.html#a563998aae0a6c9a7848351f4464779d0">cmd</a> = cmd;</div><div class="line"><a name="l00489"></a><span class="lineno"> 489</span>&#160; <span class="keywordflow">switch</span> (cmd-&gt;getType()) {</div><div class="line"><a name="l00490"></a><span class="lineno"> 490</span>&#160; <span class="keywordflow">case</span> <a class="code" href="namespace_event.html#a2abf13b5be49315e9e362af02029f058a2c1649acde37a2dae514e956aef9e493">Event::Type::RT_PERIOD_EVENT</a>:</div><div class="line"><a name="l00491"></a><span class="lineno"> 491</span>&#160; this-&gt;<a class="code" href="namespace_r_t_1_1_o_s.html#a592cd61ec56079786a7d1803a199ba04">setPeriod</a>(cmd);</div><div class="line"><a name="l00492"></a><span class="lineno"> 492</span>&#160; <span class="keywordflow">break</span>;</div><div class="line"><a name="l00493"></a><span class="lineno"> 493</span>&#160; <span class="keywordflow">case</span> <a class="code" href="namespace_event.html#a2abf13b5be49315e9e362af02029f058a94d4754d6ddd1ab02ecc7b40903faa99">Event::Type::IO_LINK_REMOVE_EVENT</a>:</div><div class="line"><a name="l00494"></a><span class="lineno"> 494</span>&#160; <span class="keywordflow">case</span> <a class="code" href="namespace_event.html#a2abf13b5be49315e9e362af02029f058a68ed23e4c653a2f1d49245fbec2bd77f">Event::Type::IO_LINK_INSERT_EVENT</a>:</div><div class="line"><a name="l00495"></a><span class="lineno"> 495</span>&#160; this-&gt;ioLinkUpdateCMD(cmd);</div><div class="line"><a name="l00496"></a><span class="lineno"> 496</span>&#160; <span class="keywordflow">break</span>;</div><div class="line"><a name="l00497"></a><span class="lineno"> 497</span>&#160; <span class="keywordflow">case</span> <a class="code" href="namespace_event.html#a2abf13b5be49315e9e362af02029f058a4379aa1ee89ffe6223e472a3ae43aa6d">Event::Type::RT_PREPERIOD_EVENT</a>:</div><div class="line"><a name="l00498"></a><span class="lineno"> 498</span>&#160; <span class="keywordflow">case</span> <a class="code" href="namespace_event.html#a2abf13b5be49315e9e362af02029f058ae57d0e963714ed4a2012a41b4ac03e76">Event::Type::RT_POSTPERIOD_EVENT</a>:</div><div class="line"><a name="l00499"></a><span class="lineno"> 499</span>&#160; this-&gt;getPeriodTicksCMD(cmd);</div><div class="line"><a name="l00500"></a><span class="lineno"> 500</span>&#160; <span class="keywordflow">break</span>;</div><div class="line"><a name="l00501"></a><span class="lineno"> 501</span>&#160; <span class="keywordflow">case</span> <a class="code" href="namespace_event.html#a2abf13b5be49315e9e362af02029f058aae2a64ccff7300e7ce30fadcf7b8f7b5">Event::Type::RT_DEVICE_INSERT_EVENT</a>:</div><div class="line"><a name="l00502"></a><span class="lineno"> 502</span>&#160; <span class="keywordflow">case</span> <a class="code" href="namespace_event.html#a2abf13b5be49315e9e362af02029f058ae5a9238aa26847054673995f246a4e7c">Event::Type::RT_DEVICE_REMOVE_EVENT</a>:</div><div class="line"><a name="l00503"></a><span class="lineno"> 503</span>&#160; <span class="keywordflow">case</span> <a class="code" href="namespace_event.html#a2abf13b5be49315e9e362af02029f058a9b704520a796fd56584356e951ae6d6f">Event::Type::RT_DEVICE_PAUSE_EVENT</a>:</div><div class="line"><a name="l00504"></a><span class="lineno"> 504</span>&#160; <span class="keywordflow">case</span> <a class="code" href="namespace_event.html#a2abf13b5be49315e9e362af02029f058a3964c80b61f9b034b73da423327fd68e">Event::Type::RT_DEVICE_UNPAUSE_EVENT</a>:</div><div class="line"><a name="l00505"></a><span class="lineno"> 505</span>&#160; this-&gt;updateDeviceList(cmd);</div><div class="line"><a name="l00506"></a><span class="lineno"> 506</span>&#160; <span class="keywordflow">break</span>;</div><div class="line"><a name="l00507"></a><span class="lineno"> 507</span>&#160; <span class="keywordflow">case</span> <a class="code" href="namespace_event.html#a2abf13b5be49315e9e362af02029f058a95682a70d27121ff372aebb051c2c6fe">Event::Type::RT_THREAD_INSERT_EVENT</a>:</div><div class="line"><a name="l00508"></a><span class="lineno"> 508</span>&#160; <span class="keywordflow">case</span> <a class="code" href="namespace_event.html#a2abf13b5be49315e9e362af02029f058aaf07920c7194e2efad3fee591bc06e75">Event::Type::RT_THREAD_REMOVE_EVENT</a>:</div><div class="line"><a name="l00509"></a><span class="lineno"> 509</span>&#160; <span class="keywordflow">case</span> <a class="code" href="namespace_event.html#a2abf13b5be49315e9e362af02029f058a0bd1ddbd8988f26a7ef3aa85db2adbca">Event::Type::RT_THREAD_PAUSE_EVENT</a>:</div><div class="line"><a name="l00510"></a><span class="lineno"> 510</span>&#160; <span class="keywordflow">case</span> <a class="code" href="namespace_event.html#a2abf13b5be49315e9e362af02029f058a4f84814b359a1c641cc4e5d0fe2b35ea">Event::Type::RT_THREAD_UNPAUSE_EVENT</a>:</div><div class="line"><a name="l00511"></a><span class="lineno"> 511</span>&#160; this-&gt;updateThreadList(cmd);</div><div class="line"><a name="l00512"></a><span class="lineno"> 512</span>&#160; <span class="keywordflow">break</span>;</div><div class="line"><a name="l00513"></a><span class="lineno"> 513</span>&#160; <span class="keywordflow">case</span> <a class="code" href="namespace_event.html#a2abf13b5be49315e9e362af02029f058aceb0a57ac58370eb18e50a5190fa0e31">Event::Type::RT_SHUTDOWN_EVENT</a>:</div><div class="line"><a name="l00514"></a><span class="lineno"> 514</span>&#160; this-&gt;task-&gt;task_finished = <span class="keyword">true</span>;</div><div class="line"><a name="l00515"></a><span class="lineno"> 515</span>&#160; telem.<a class="code" href="struct_r_t_1_1_telemitry_1_1_response.html#a2e9e22d7abe7402a3079c8fb4eef2beb">type</a> = <a class="code" href="namespace_r_t_1_1_telemitry.html#afa0c02ac1b67cbaf16b4921b01ca9d71">RT::Telemitry::RT_SHUTDOWN</a>;</div><div class="line"><a name="l00516"></a><span class="lineno"> 516</span>&#160; telem.<a class="code" href="struct_r_t_1_1_telemitry_1_1_response.html#a563998aae0a6c9a7848351f4464779d0">cmd</a> = cmd;</div><div class="line"><a name="l00517"></a><span class="lineno"> 517</span>&#160; this-&gt;postTelemitry(telem);</div><div class="line"><a name="l00518"></a><span class="lineno"> 518</span>&#160; <span class="keywordflow">break</span>;</div><div class="line"><a name="l00519"></a><span class="lineno"> 519</span>&#160; <span class="keywordflow">case</span> <a class="code" href="namespace_event.html#a2abf13b5be49315e9e362af02029f058a0984a0a894884f491740e65c22f511e2">Event::Type::RT_WIDGET_PARAMETER_CHANGE_EVENT</a>:</div><div class="line"><a name="l00520"></a><span class="lineno"> 520</span>&#160; this-&gt;changeWidgetParametersCMD(cmd);</div><div class="line"><a name="l00521"></a><span class="lineno"> 521</span>&#160; <span class="keywordflow">break</span>;</div><div class="line"><a name="l00522"></a><span class="lineno"> 522</span>&#160; <span class="keywordflow">case</span> <a class="code" href="namespace_event.html#a2abf13b5be49315e9e362af02029f058a64676b0759aa53e0aa50e393bb0e622b">Event::Type::RT_WIDGET_STATE_CHANGE_EVENT</a>:</div><div class="line"><a name="l00523"></a><span class="lineno"> 523</span>&#160; this-&gt;changeWidgetStateCMD(cmd);</div><div class="line"><a name="l00524"></a><span class="lineno"> 524</span>&#160; <span class="keywordflow">break</span>;</div><div class="line"><a name="l00525"></a><span class="lineno"> 525</span>&#160; <span class="keywordflow">case</span> <a class="code" href="namespace_event.html#a2abf13b5be49315e9e362af02029f058a9852e9ab90e7c175c82ea5ddcfefd799">Event::Type::NOOP</a>:</div><div class="line"><a name="l00526"></a><span class="lineno"> 526</span>&#160; telem.<a class="code" href="struct_r_t_1_1_telemitry_1_1_response.html#a2e9e22d7abe7402a3079c8fb4eef2beb">type</a> = <a class="code" href="namespace_r_t_1_1_telemitry.html#a498013d09bee18dcb4fdacd67ebcc020">RT::Telemitry::RT_NOOP</a>;</div><div class="line"><a name="l00527"></a><span class="lineno"> 527</span>&#160; telem.<a class="code" href="struct_r_t_1_1_telemitry_1_1_response.html#a563998aae0a6c9a7848351f4464779d0">cmd</a> = cmd;</div><div class="line"><a name="l00528"></a><span class="lineno"> 528</span>&#160; this-&gt;postTelemitry(telem);</div><div class="line"><a name="l00529"></a><span class="lineno"> 529</span>&#160; <span class="keywordflow">break</span>;</div><div class="line"><a name="l00530"></a><span class="lineno"> 530</span>&#160; <span class="keywordflow">default</span>:</div><div class="line"><a name="l00531"></a><span class="lineno"> 531</span>&#160; telem.<a class="code" href="struct_r_t_1_1_telemitry_1_1_response.html#a2e9e22d7abe7402a3079c8fb4eef2beb">type</a> = <a class="code" href="namespace_r_t_1_1_telemitry.html#ad2686907ec90a9a2373a6cb1a0b25fdb">RT::Telemitry::RT_ERROR</a>;</div><div class="line"><a name="l00532"></a><span class="lineno"> 532</span>&#160; telem.<a class="code" href="struct_r_t_1_1_telemitry_1_1_response.html#a563998aae0a6c9a7848351f4464779d0">cmd</a> = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00533"></a><span class="lineno"> 533</span>&#160; RT::System::postTelemitry(telem);</div><div class="line"><a name="l00534"></a><span class="lineno"> 534</span>&#160; <span class="comment">// make sure the command is handled so caller can continue</span></div><div class="line"><a name="l00535"></a><span class="lineno"> 535</span>&#160; }</div><div class="line"><a name="l00536"></a><span class="lineno"> 536</span>&#160;}</div><div class="line"><a name="l00537"></a><span class="lineno"> 537</span>&#160;</div><div class="line"><a name="l00538"></a><span class="lineno"><a class="line" href="class_r_t_1_1_system.html#a90d0206284ad2b2fc88b20303a482d41"> 538</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_r_t_1_1_system.html#a90d0206284ad2b2fc88b20303a482d41">RT::System::receiveEvent</a>(<a class="code" href="class_event_1_1_object.html">Event::Object</a>* event)</div><div class="line"><a name="l00539"></a><span class="lineno"> 539</span>&#160;{</div><div class="line"><a name="l00540"></a><span class="lineno"> 540</span>&#160; <span class="comment">// funnily enough it may be that real-time loop</span></div><div class="line"><a name="l00541"></a><span class="lineno"> 541</span>&#160; <span class="comment">// is already shutting down before unregistering</span></div><div class="line"><a name="l00542"></a><span class="lineno"> 542</span>&#160; <span class="comment">// system from the list of event handlers.</span></div><div class="line"><a name="l00543"></a><span class="lineno"> 543</span>&#160; <span class="comment">// In that case we shouldn&#39;t attempt to send commands</span></div><div class="line"><a name="l00544"></a><span class="lineno"> 544</span>&#160; <span class="comment">// or process events</span></div><div class="line"><a name="l00545"></a><span class="lineno"> 545</span>&#160; <span class="keywordflow">if</span> (this-&gt;task-&gt;task_finished) {</div><div class="line"><a name="l00546"></a><span class="lineno"> 546</span>&#160; <span class="keywordflow">return</span>;</div><div class="line"><a name="l00547"></a><span class="lineno"> 547</span>&#160; }</div><div class="line"><a name="l00548"></a><span class="lineno"> 548</span>&#160;</div><div class="line"><a name="l00549"></a><span class="lineno"> 549</span>&#160; <span class="keywordflow">switch</span> (event-&gt;<a class="code" href="class_event_1_1_object.html#a574dc92b3a43b5dff60585db375d3ffb">getType</a>()) {</div><div class="line"><a name="l00550"></a><span class="lineno"> 550</span>&#160; <span class="keywordflow">case</span> <a class="code" href="namespace_event.html#a2abf13b5be49315e9e362af02029f058a2c1649acde37a2dae514e956aef9e493">Event::Type::RT_PERIOD_EVENT</a>:</div><div class="line"><a name="l00551"></a><span class="lineno"> 551</span>&#160; this-&gt;<a class="code" href="namespace_r_t_1_1_o_s.html#a592cd61ec56079786a7d1803a199ba04">setPeriod</a>(event);</div><div class="line"><a name="l00552"></a><span class="lineno"> 552</span>&#160; <span class="keywordflow">break</span>;</div><div class="line"><a name="l00553"></a><span class="lineno"> 553</span>&#160; <span class="keywordflow">case</span> <a class="code" href="namespace_event.html#a2abf13b5be49315e9e362af02029f058ab16a5e14a983bb0d49c826a317b3c3c2">Event::Type::IO_BLOCK_QUERY_EVENT</a>:</div><div class="line"><a name="l00554"></a><span class="lineno"> 554</span>&#160; this-&gt;blockInfoRequest(event);</div><div class="line"><a name="l00555"></a><span class="lineno"> 555</span>&#160; <span class="keywordflow">break</span>;</div><div class="line"><a name="l00556"></a><span class="lineno"> 556</span>&#160; <span class="keywordflow">case</span> <a class="code" href="namespace_event.html#a2abf13b5be49315e9e362af02029f058add887218025dd3f09772f45733bfdda3">Event::Type::IO_BLOCK_OUTPUTS_QUERY_EVENT</a>:</div><div class="line"><a name="l00557"></a><span class="lineno"> 557</span>&#160; this-&gt;connectionsInfoRequest(event);</div><div class="line"><a name="l00558"></a><span class="lineno"> 558</span>&#160; <span class="keywordflow">break</span>;</div><div class="line"><a name="l00559"></a><span class="lineno"> 559</span>&#160; <span class="keywordflow">case</span> <a class="code" href="namespace_event.html#a2abf13b5be49315e9e362af02029f058ab23bcbaaf582c9628cd127e8398e47bd">Event::Type::IO_ALL_CONNECTIONS_QUERY_EVENT</a>:</div><div class="line"><a name="l00560"></a><span class="lineno"> 560</span>&#160; this-&gt;allConnectionsInfoRequest(event);</div><div class="line"><a name="l00561"></a><span class="lineno"> 561</span>&#160; <span class="keywordflow">break</span>;</div><div class="line"><a name="l00562"></a><span class="lineno"> 562</span>&#160; <span class="keywordflow">case</span> <a class="code" href="namespace_event.html#a2abf13b5be49315e9e362af02029f058a68ed23e4c653a2f1d49245fbec2bd77f">Event::Type::IO_LINK_INSERT_EVENT</a>:</div><div class="line"><a name="l00563"></a><span class="lineno"> 563</span>&#160; <span class="keywordflow">case</span> <a class="code" href="namespace_event.html#a2abf13b5be49315e9e362af02029f058a94d4754d6ddd1ab02ecc7b40903faa99">Event::Type::IO_LINK_REMOVE_EVENT</a>:</div><div class="line"><a name="l00564"></a><span class="lineno"> 564</span>&#160; this-&gt;ioLinkChange(event);</div><div class="line"><a name="l00565"></a><span class="lineno"> 565</span>&#160; <span class="keywordflow">break</span>;</div><div class="line"><a name="l00566"></a><span class="lineno"> 566</span>&#160; <span class="keywordflow">case</span> <a class="code" href="namespace_event.html#a2abf13b5be49315e9e362af02029f058a95682a70d27121ff372aebb051c2c6fe">Event::Type::RT_THREAD_INSERT_EVENT</a>:</div><div class="line"><a name="l00567"></a><span class="lineno"> 567</span>&#160; this-&gt;insertThread(event);</div><div class="line"><a name="l00568"></a><span class="lineno"> 568</span>&#160; <span class="keywordflow">break</span>;</div><div class="line"><a name="l00569"></a><span class="lineno"> 569</span>&#160; <span class="keywordflow">case</span> <a class="code" href="namespace_event.html#a2abf13b5be49315e9e362af02029f058aaf07920c7194e2efad3fee591bc06e75">Event::Type::RT_THREAD_REMOVE_EVENT</a>:</div><div class="line"><a name="l00570"></a><span class="lineno"> 570</span>&#160; this-&gt;removeThread(event);</div><div class="line"><a name="l00571"></a><span class="lineno"> 571</span>&#160; <span class="keywordflow">break</span>;</div><div class="line"><a name="l00572"></a><span class="lineno"> 572</span>&#160; <span class="keywordflow">case</span> <a class="code" href="namespace_event.html#a2abf13b5be49315e9e362af02029f058a0bd1ddbd8988f26a7ef3aa85db2adbca">Event::Type::RT_THREAD_PAUSE_EVENT</a>:</div><div class="line"><a name="l00573"></a><span class="lineno"> 573</span>&#160; <span class="keywordflow">case</span> <a class="code" href="namespace_event.html#a2abf13b5be49315e9e362af02029f058a4f84814b359a1c641cc4e5d0fe2b35ea">Event::Type::RT_THREAD_UNPAUSE_EVENT</a>:</div><div class="line"><a name="l00574"></a><span class="lineno"> 574</span>&#160; this-&gt;threadActivityChange(event);</div><div class="line"><a name="l00575"></a><span class="lineno"> 575</span>&#160; <span class="keywordflow">break</span>;</div><div class="line"><a name="l00576"></a><span class="lineno"> 576</span>&#160; <span class="keywordflow">case</span> <a class="code" href="namespace_event.html#a2abf13b5be49315e9e362af02029f058a9b704520a796fd56584356e951ae6d6f">Event::Type::RT_DEVICE_PAUSE_EVENT</a>:</div><div class="line"><a name="l00577"></a><span class="lineno"> 577</span>&#160; <span class="keywordflow">case</span> <a class="code" href="namespace_event.html#a2abf13b5be49315e9e362af02029f058a3964c80b61f9b034b73da423327fd68e">Event::Type::RT_DEVICE_UNPAUSE_EVENT</a>:</div><div class="line"><a name="l00578"></a><span class="lineno"> 578</span>&#160; this-&gt;deviceActivityChange(event);</div><div class="line"><a name="l00579"></a><span class="lineno"> 579</span>&#160; <span class="keywordflow">break</span>;</div><div class="line"><a name="l00580"></a><span class="lineno"> 580</span>&#160; <span class="keywordflow">case</span> <a class="code" href="namespace_event.html#a2abf13b5be49315e9e362af02029f058aae2a64ccff7300e7ce30fadcf7b8f7b5">Event::Type::RT_DEVICE_INSERT_EVENT</a>:</div><div class="line"><a name="l00581"></a><span class="lineno"> 581</span>&#160; this-&gt;insertDevice(event);</div><div class="line"><a name="l00582"></a><span class="lineno"> 582</span>&#160; <span class="keywordflow">break</span>;</div><div class="line"><a name="l00583"></a><span class="lineno"> 583</span>&#160; <span class="keywordflow">case</span> <a class="code" href="namespace_event.html#a2abf13b5be49315e9e362af02029f058ae5a9238aa26847054673995f246a4e7c">Event::Type::RT_DEVICE_REMOVE_EVENT</a>:</div><div class="line"><a name="l00584"></a><span class="lineno"> 584</span>&#160; this-&gt;removeDevice(event);</div><div class="line"><a name="l00585"></a><span class="lineno"> 585</span>&#160; <span class="keywordflow">break</span>;</div><div class="line"><a name="l00586"></a><span class="lineno"> 586</span>&#160; <span class="keywordflow">case</span> <a class="code" href="namespace_event.html#a2abf13b5be49315e9e362af02029f058a0984a0a894884f491740e65c22f511e2">Event::Type::RT_WIDGET_PARAMETER_CHANGE_EVENT</a>:</div><div class="line"><a name="l00587"></a><span class="lineno"> 587</span>&#160; this-&gt;changeWidgetParameters(event);</div><div class="line"><a name="l00588"></a><span class="lineno"> 588</span>&#160; <span class="keywordflow">break</span>;</div><div class="line"><a name="l00589"></a><span class="lineno"> 589</span>&#160; <span class="keywordflow">case</span> <a class="code" href="namespace_event.html#a2abf13b5be49315e9e362af02029f058a64676b0759aa53e0aa50e393bb0e622b">Event::Type::RT_WIDGET_STATE_CHANGE_EVENT</a>:</div><div class="line"><a name="l00590"></a><span class="lineno"> 590</span>&#160; this-&gt;changeWidgetState(event);</div><div class="line"><a name="l00591"></a><span class="lineno"> 591</span>&#160; <span class="keywordflow">break</span>;</div><div class="line"><a name="l00592"></a><span class="lineno"> 592</span>&#160; <span class="keywordflow">case</span> <a class="code" href="namespace_event.html#a2abf13b5be49315e9e362af02029f058aceb0a57ac58370eb18e50a5190fa0e31">Event::Type::RT_SHUTDOWN_EVENT</a>:</div><div class="line"><a name="l00593"></a><span class="lineno"> 593</span>&#160; this-&gt;<a class="code" href="namespace_r_t_1_1_o_s.html#a78cfc9f739cbfd74256b92c5c7c46a12">shutdown</a>(event);</div><div class="line"><a name="l00594"></a><span class="lineno"> 594</span>&#160; <span class="keywordflow">break</span>;</div><div class="line"><a name="l00595"></a><span class="lineno"> 595</span>&#160; <span class="keywordflow">case</span> <a class="code" href="namespace_event.html#a2abf13b5be49315e9e362af02029f058a4379aa1ee89ffe6223e472a3ae43aa6d">Event::Type::RT_PREPERIOD_EVENT</a>:</div><div class="line"><a name="l00596"></a><span class="lineno"> 596</span>&#160; <span class="keywordflow">case</span> <a class="code" href="namespace_event.html#a2abf13b5be49315e9e362af02029f058ae57d0e963714ed4a2012a41b4ac03e76">Event::Type::RT_POSTPERIOD_EVENT</a>:</div><div class="line"><a name="l00597"></a><span class="lineno"> 597</span>&#160; this-&gt;provideTimetickPointers(event);</div><div class="line"><a name="l00598"></a><span class="lineno"> 598</span>&#160; <span class="keywordflow">break</span>;</div><div class="line"><a name="l00599"></a><span class="lineno"> 599</span>&#160; <span class="keywordflow">case</span> <a class="code" href="namespace_event.html#a2abf13b5be49315e9e362af02029f058a104f0c6835093f6c2ceff59fa4f06214">Event::Type::RT_GET_PERIOD_EVENT</a>:</div><div class="line"><a name="l00600"></a><span class="lineno"> 600</span>&#160; this-&gt;getPeriodValues(event);</div><div class="line"><a name="l00601"></a><span class="lineno"> 601</span>&#160; <span class="keywordflow">break</span>;</div><div class="line"><a name="l00602"></a><span class="lineno"> 602</span>&#160; <span class="keywordflow">case</span> <a class="code" href="namespace_event.html#a2abf13b5be49315e9e362af02029f058a9852e9ab90e7c175c82ea5ddcfefd799">Event::Type::NOOP</a>:</div><div class="line"><a name="l00603"></a><span class="lineno"> 603</span>&#160; this-&gt;<a class="code" href="namespace_event.html#a2abf13b5be49315e9e362af02029f058a9852e9ab90e7c175c82ea5ddcfefd799">NOOP</a>(event);</div><div class="line"><a name="l00604"></a><span class="lineno"> 604</span>&#160; <span class="keywordflow">break</span>;</div><div class="line"><a name="l00605"></a><span class="lineno"> 605</span>&#160; <span class="keywordflow">default</span>:</div><div class="line"><a name="l00606"></a><span class="lineno"> 606</span>&#160; <span class="keywordflow">return</span>;</div><div class="line"><a name="l00607"></a><span class="lineno"> 607</span>&#160; }</div><div class="line"><a name="l00608"></a><span class="lineno"> 608</span>&#160;}</div><div class="line"><a name="l00609"></a><span class="lineno"> 609</span>&#160;</div><div class="line"><a name="l00610"></a><span class="lineno"> 610</span>&#160;<span class="keywordtype">void</span> RT::System::setPeriod(<a class="code" href="class_event_1_1_object.html">Event::Object</a>* event)</div><div class="line"><a name="l00611"></a><span class="lineno"> 611</span>&#160;{</div><div class="line"><a name="l00612"></a><span class="lineno"> 612</span>&#160; <span class="comment">// auto period = std::any_cast&lt;int64_t&gt;(event-&gt;getParam(&quot;period&quot;));</span></div><div class="line"><a name="l00613"></a><span class="lineno"> 613</span>&#160; RT::System::CMD cmd(event-&gt;<a class="code" href="class_event_1_1_object.html#a574dc92b3a43b5dff60585db375d3ffb">getType</a>());</div><div class="line"><a name="l00614"></a><span class="lineno"> 614</span>&#160; <span class="keyword">auto</span> period = std::any_cast&lt;int64_t&gt;(event-&gt;<a class="code" href="class_event_1_1_object.html#a670a9bbc18e909fbef8303c316126b9e">getParam</a>(<span class="stringliteral">&quot;period&quot;</span>));</div><div class="line"><a name="l00615"></a><span class="lineno"> 615</span>&#160; cmd.setRTParam(<span class="stringliteral">&quot;period&quot;</span>, period);</div><div class="line"><a name="l00616"></a><span class="lineno"> 616</span>&#160; RT::System::CMD* cmd_ptr = &amp;cmd;</div><div class="line"><a name="l00617"></a><span class="lineno"> 617</span>&#160; this-&gt;eventFifo-&gt;write(&amp;cmd_ptr, <span class="keyword">sizeof</span>(RT::System::CMD*));</div><div class="line"><a name="l00618"></a><span class="lineno"> 618</span>&#160; cmd.wait();</div><div class="line"><a name="l00619"></a><span class="lineno"> 619</span>&#160;}</div><div class="line"><a name="l00620"></a><span class="lineno"> 620</span>&#160;</div><div class="line"><a name="l00621"></a><span class="lineno"> 621</span>&#160;<span class="keywordtype">void</span> RT::System::getPeriodValues(<a class="code" href="class_event_1_1_object.html">Event::Object</a>* event)</div><div class="line"><a name="l00622"></a><span class="lineno"> 622</span>&#160;{</div><div class="line"><a name="l00623"></a><span class="lineno"> 623</span>&#160; <span class="keyword">event</span>-&gt;setParam(<span class="stringliteral">&quot;period&quot;</span>, std::any(this-&gt;<a class="code" href="namespace_r_t_1_1_o_s.html#a5352333dc09d267325a9d2147fbebcd9">getPeriod</a>()));</div><div class="line"><a name="l00624"></a><span class="lineno"> 624</span>&#160;}</div><div class="line"><a name="l00625"></a><span class="lineno"> 625</span>&#160;</div><div class="line"><a name="l00626"></a><span class="lineno"> 626</span>&#160;<span class="keywordtype">void</span> RT::System::NOOP(<a class="code" href="class_event_1_1_object.html">Event::Object</a>* <span class="comment">/*event*/</span>)</div><div class="line"><a name="l00627"></a><span class="lineno"> 627</span>&#160;{</div><div class="line"><a name="l00628"></a><span class="lineno"> 628</span>&#160; RT::System::CMD cmd(<a class="code" href="namespace_event.html#a2abf13b5be49315e9e362af02029f058a9852e9ab90e7c175c82ea5ddcfefd799">Event::Type::NOOP</a>);</div><div class="line"><a name="l00629"></a><span class="lineno"> 629</span>&#160; RT::System::CMD* cmd_ptr = &amp;cmd;</div><div class="line"><a name="l00630"></a><span class="lineno"> 630</span>&#160; this-&gt;eventFifo-&gt;write(&amp;cmd_ptr, <span class="keyword">sizeof</span>(RT::System::CMD*));</div><div class="line"><a name="l00631"></a><span class="lineno"> 631</span>&#160; cmd.wait();</div><div class="line"><a name="l00632"></a><span class="lineno"> 632</span>&#160;}</div><div class="line"><a name="l00633"></a><span class="lineno"> 633</span>&#160;</div><div class="line"><a name="l00634"></a><span class="lineno"> 634</span>&#160;<span class="keywordtype">void</span> RT::System::insertDevice(<a class="code" href="class_event_1_1_object.html">Event::Object</a>* event)</div><div class="line"><a name="l00635"></a><span class="lineno"> 635</span>&#160;{</div><div class="line"><a name="l00636"></a><span class="lineno"> 636</span>&#160; <span class="keyword">auto</span>* device = std::any_cast&lt;RT::Device*&gt;(event-&gt;<a class="code" href="class_event_1_1_object.html#a670a9bbc18e909fbef8303c316126b9e">getParam</a>(<span class="stringliteral">&quot;device&quot;</span>));</div><div class="line"><a name="l00637"></a><span class="lineno"> 637</span>&#160; std::vector&lt;RT::block_connection_t&gt; connections_memory;</div><div class="line"><a name="l00638"></a><span class="lineno"> 638</span>&#160; connections_memory.reserve(10);</div><div class="line"><a name="l00639"></a><span class="lineno"> 639</span>&#160; <span class="keywordflow">if</span> (device == <span class="keyword">nullptr</span>) {</div><div class="line"><a name="l00640"></a><span class="lineno"> 640</span>&#160; <a class="code" href="debug_8hpp.html#add398267f12dca8907f8e49abeac7e5d">ERROR_MSG</a>(<span class="stringliteral">&quot;RT::System::insertDevice : invalid device pointer\n&quot;</span>);</div><div class="line"><a name="l00641"></a><span class="lineno"> 641</span>&#160; <span class="keywordflow">return</span>;</div><div class="line"><a name="l00642"></a><span class="lineno"> 642</span>&#160; }</div><div class="line"><a name="l00643"></a><span class="lineno"> 643</span>&#160; this-&gt;rt_connector-&gt;insertBlock(device, connections_memory);</div><div class="line"><a name="l00644"></a><span class="lineno"> 644</span>&#160; std::vector&lt;RT::Device*&gt; device_list = this-&gt;rt_connector-&gt;getDevices();</div><div class="line"><a name="l00645"></a><span class="lineno"> 645</span>&#160; RT::System::CMD cmd(event-&gt;<a class="code" href="class_event_1_1_object.html#a574dc92b3a43b5dff60585db375d3ffb">getType</a>());</div><div class="line"><a name="l00646"></a><span class="lineno"> 646</span>&#160; cmd.setRTParam(<span class="stringliteral">&quot;deviceList&quot;</span>, &amp;device_list);</div><div class="line"><a name="l00647"></a><span class="lineno"> 647</span>&#160; RT::System::CMD* cmd_ptr = &amp;cmd;</div><div class="line"><a name="l00648"></a><span class="lineno"> 648</span>&#160; this-&gt;eventFifo-&gt;write(&amp;cmd_ptr, <span class="keyword">sizeof</span>(RT::System::CMD*));</div><div class="line"><a name="l00649"></a><span class="lineno"> 649</span>&#160; cmd.wait();</div><div class="line"><a name="l00650"></a><span class="lineno"> 650</span>&#160;}</div><div class="line"><a name="l00651"></a><span class="lineno"> 651</span>&#160;</div><div class="line"><a name="l00652"></a><span class="lineno"> 652</span>&#160;<span class="keywordtype">void</span> RT::System::removeDevice(<a class="code" href="class_event_1_1_object.html">Event::Object</a>* event)</div><div class="line"><a name="l00653"></a><span class="lineno"> 653</span>&#160;{</div><div class="line"><a name="l00654"></a><span class="lineno"> 654</span>&#160; <span class="keyword">auto</span>* device = std::any_cast&lt;RT::Device*&gt;(event-&gt;<a class="code" href="class_event_1_1_object.html#a670a9bbc18e909fbef8303c316126b9e">getParam</a>(<span class="stringliteral">&quot;device&quot;</span>));</div><div class="line"><a name="l00655"></a><span class="lineno"> 655</span>&#160; <span class="keywordflow">if</span> (device == <span class="keyword">nullptr</span>) {</div><div class="line"><a name="l00656"></a><span class="lineno"> 656</span>&#160; <a class="code" href="debug_8hpp.html#add398267f12dca8907f8e49abeac7e5d">ERROR_MSG</a>(<span class="stringliteral">&quot;RT::System::removeDevice : invalid device pointer\n&quot;</span>);</div><div class="line"><a name="l00657"></a><span class="lineno"> 657</span>&#160; <span class="keywordflow">return</span>;</div><div class="line"><a name="l00658"></a><span class="lineno"> 658</span>&#160; }</div><div class="line"><a name="l00659"></a><span class="lineno"> 659</span>&#160; <span class="comment">// We have to make sure to deactivate device before removing</span></div><div class="line"><a name="l00660"></a><span class="lineno"> 660</span>&#160; this-&gt;rt_connector-&gt;removeBlock(device);</div><div class="line"><a name="l00661"></a><span class="lineno"> 661</span>&#160; std::vector&lt;RT::Device*&gt; device_list = this-&gt;rt_connector-&gt;getDevices();</div><div class="line"><a name="l00662"></a><span class="lineno"> 662</span>&#160; RT::System::CMD cmd(event-&gt;<a class="code" href="class_event_1_1_object.html#a574dc92b3a43b5dff60585db375d3ffb">getType</a>());</div><div class="line"><a name="l00663"></a><span class="lineno"> 663</span>&#160; cmd.setRTParam(<span class="stringliteral">&quot;deviceList&quot;</span>, &amp;device_list);</div><div class="line"><a name="l00664"></a><span class="lineno"> 664</span>&#160; cmd.setRTParam(<span class="stringliteral">&quot;device&quot;</span>, device);</div><div class="line"><a name="l00665"></a><span class="lineno"> 665</span>&#160; RT::System::CMD* cmd_ptr = &amp;cmd;</div><div class="line"><a name="l00666"></a><span class="lineno"> 666</span>&#160; this-&gt;eventFifo-&gt;write(&amp;cmd_ptr, <span class="keyword">sizeof</span>(RT::System::CMD*));</div><div class="line"><a name="l00667"></a><span class="lineno"> 667</span>&#160; cmd.wait();</div><div class="line"><a name="l00668"></a><span class="lineno"> 668</span>&#160;}</div><div class="line"><a name="l00669"></a><span class="lineno"> 669</span>&#160;</div><div class="line"><a name="l00670"></a><span class="lineno"> 670</span>&#160;<span class="keywordtype">void</span> RT::System::insertThread(<a class="code" href="class_event_1_1_object.html">Event::Object</a>* event)</div><div class="line"><a name="l00671"></a><span class="lineno"> 671</span>&#160;{</div><div class="line"><a name="l00672"></a><span class="lineno"> 672</span>&#160; <span class="keyword">auto</span>* thread = std::any_cast&lt;RT::Thread*&gt;(event-&gt;<a class="code" href="class_event_1_1_object.html#a670a9bbc18e909fbef8303c316126b9e">getParam</a>(<span class="stringliteral">&quot;thread&quot;</span>));</div><div class="line"><a name="l00673"></a><span class="lineno"> 673</span>&#160; std::vector&lt;RT::block_connection_t&gt; connections_memory;</div><div class="line"><a name="l00674"></a><span class="lineno"> 674</span>&#160; connections_memory.reserve(10);</div><div class="line"><a name="l00675"></a><span class="lineno"> 675</span>&#160; <span class="keywordflow">if</span> (thread == <span class="keyword">nullptr</span>) {</div><div class="line"><a name="l00676"></a><span class="lineno"> 676</span>&#160; <a class="code" href="debug_8hpp.html#add398267f12dca8907f8e49abeac7e5d">ERROR_MSG</a>(<span class="stringliteral">&quot;RT::System::removeDevice : invalid device pointer\n&quot;</span>);</div><div class="line"><a name="l00677"></a><span class="lineno"> 677</span>&#160; <span class="keywordflow">return</span>;</div><div class="line"><a name="l00678"></a><span class="lineno"> 678</span>&#160; }</div><div class="line"><a name="l00679"></a><span class="lineno"> 679</span>&#160; this-&gt;rt_connector-&gt;insertBlock(thread, connections_memory);</div><div class="line"><a name="l00680"></a><span class="lineno"> 680</span>&#160; std::vector&lt;RT::Thread*&gt; thread_list = this-&gt;rt_connector-&gt;getThreads();</div><div class="line"><a name="l00681"></a><span class="lineno"> 681</span>&#160; RT::System::CMD cmd(event-&gt;<a class="code" href="class_event_1_1_object.html#a574dc92b3a43b5dff60585db375d3ffb">getType</a>());</div><div class="line"><a name="l00682"></a><span class="lineno"> 682</span>&#160; cmd.setRTParam(<span class="stringliteral">&quot;threadList&quot;</span>, &amp;thread_list);</div><div class="line"><a name="l00683"></a><span class="lineno"> 683</span>&#160; RT::System::CMD* cmd_ptr = &amp;cmd;</div><div class="line"><a name="l00684"></a><span class="lineno"> 684</span>&#160; this-&gt;eventFifo-&gt;write(&amp;cmd_ptr, <span class="keyword">sizeof</span>(RT::System::CMD*));</div><div class="line"><a name="l00685"></a><span class="lineno"> 685</span>&#160; cmd.wait();</div><div class="line"><a name="l00686"></a><span class="lineno"> 686</span>&#160;}</div><div class="line"><a name="l00687"></a><span class="lineno"> 687</span>&#160;</div><div class="line"><a name="l00688"></a><span class="lineno"> 688</span>&#160;<span class="comment">// TODO: come back after figuring out connection problems</span></div><div class="line"><a name="l00689"></a><span class="lineno"> 689</span>&#160;<span class="keywordtype">void</span> RT::System::removeThread(<a class="code" href="class_event_1_1_object.html">Event::Object</a>* event)</div><div class="line"><a name="l00690"></a><span class="lineno"> 690</span>&#160;{</div><div class="line"><a name="l00691"></a><span class="lineno"> 691</span>&#160; <span class="keyword">auto</span>* thread = std::any_cast&lt;RT::Thread*&gt;(event-&gt;<a class="code" href="class_event_1_1_object.html#a670a9bbc18e909fbef8303c316126b9e">getParam</a>(<span class="stringliteral">&quot;thread&quot;</span>));</div><div class="line"><a name="l00692"></a><span class="lineno"> 692</span>&#160; <span class="keywordflow">if</span> (thread == <span class="keyword">nullptr</span>) {</div><div class="line"><a name="l00693"></a><span class="lineno"> 693</span>&#160; <a class="code" href="debug_8hpp.html#add398267f12dca8907f8e49abeac7e5d">ERROR_MSG</a>(<span class="stringliteral">&quot;RT::System::removeDevice : invalid device pointer\n&quot;</span>);</div><div class="line"><a name="l00694"></a><span class="lineno"> 694</span>&#160; <span class="keywordflow">return</span>;</div><div class="line"><a name="l00695"></a><span class="lineno"> 695</span>&#160; }</div><div class="line"><a name="l00696"></a><span class="lineno"> 696</span>&#160; <span class="comment">// We have to make sure to deactivate thread before removing</span></div><div class="line"><a name="l00697"></a><span class="lineno"> 697</span>&#160; thread-&gt;setActive(<span class="comment">/*act=*/</span><span class="keyword">false</span>);</div><div class="line"><a name="l00698"></a><span class="lineno"> 698</span>&#160; this-&gt;rt_connector-&gt;removeBlock(thread);</div><div class="line"><a name="l00699"></a><span class="lineno"> 699</span>&#160; std::vector&lt;RT::Thread*&gt; thread_list = this-&gt;rt_connector-&gt;getThreads();</div><div class="line"><a name="l00700"></a><span class="lineno"> 700</span>&#160; RT::System::CMD cmd(event-&gt;<a class="code" href="class_event_1_1_object.html#a574dc92b3a43b5dff60585db375d3ffb">getType</a>());</div><div class="line"><a name="l00701"></a><span class="lineno"> 701</span>&#160; cmd.setRTParam(<span class="stringliteral">&quot;threadList&quot;</span>, &amp;thread_list);</div><div class="line"><a name="l00702"></a><span class="lineno"> 702</span>&#160; cmd.setRTParam(<span class="stringliteral">&quot;thread&quot;</span>, thread);</div><div class="line"><a name="l00703"></a><span class="lineno"> 703</span>&#160; RT::System::CMD* cmd_ptr = &amp;cmd;</div><div class="line"><a name="l00704"></a><span class="lineno"> 704</span>&#160; this-&gt;eventFifo-&gt;write(&amp;cmd_ptr, <span class="keyword">sizeof</span>(RT::System::CMD*));</div><div class="line"><a name="l00705"></a><span class="lineno"> 705</span>&#160; cmd.wait();</div><div class="line"><a name="l00706"></a><span class="lineno"> 706</span>&#160;}</div><div class="line"><a name="l00707"></a><span class="lineno"> 707</span>&#160;</div><div class="line"><a name="l00708"></a><span class="lineno"> 708</span>&#160;<span class="keywordtype">void</span> RT::System::threadActivityChange(<a class="code" href="class_event_1_1_object.html">Event::Object</a>* event)</div><div class="line"><a name="l00709"></a><span class="lineno"> 709</span>&#160;{</div><div class="line"><a name="l00710"></a><span class="lineno"> 710</span>&#160; <span class="keyword">auto</span> isactive = <span class="keyword">event</span>-&gt;getType() == <a class="code" href="namespace_event.html#a2abf13b5be49315e9e362af02029f058a4f84814b359a1c641cc4e5d0fe2b35ea">Event::Type::RT_THREAD_UNPAUSE_EVENT</a>;</div><div class="line"><a name="l00711"></a><span class="lineno"> 711</span>&#160; RT::System::CMD cmd(event-&gt;<a class="code" href="class_event_1_1_object.html#a574dc92b3a43b5dff60585db375d3ffb">getType</a>());</div><div class="line"><a name="l00712"></a><span class="lineno"> 712</span>&#160; RT::System::CMD* cmd_ptr = &amp;cmd;</div><div class="line"><a name="l00713"></a><span class="lineno"> 713</span>&#160; <span class="keyword">auto</span>* thread = std::any_cast&lt;RT::Thread*&gt;(event-&gt;<a class="code" href="class_event_1_1_object.html#a670a9bbc18e909fbef8303c316126b9e">getParam</a>(<span class="stringliteral">&quot;thread&quot;</span>));</div><div class="line"><a name="l00714"></a><span class="lineno"> 714</span>&#160; thread-&gt;setActive(isactive);</div><div class="line"><a name="l00715"></a><span class="lineno"> 715</span>&#160; <span class="keyword">auto</span> thread_list = this-&gt;rt_connector-&gt;getThreads();</div><div class="line"><a name="l00716"></a><span class="lineno"> 716</span>&#160; cmd.setRTParam(<span class="stringliteral">&quot;threadList&quot;</span>, &amp;thread_list);</div><div class="line"><a name="l00717"></a><span class="lineno"> 717</span>&#160; this-&gt;eventFifo-&gt;write(&amp;cmd_ptr, <span class="keyword">sizeof</span>(RT::System::CMD*));</div><div class="line"><a name="l00718"></a><span class="lineno"> 718</span>&#160; cmd.wait();</div><div class="line"><a name="l00719"></a><span class="lineno"> 719</span>&#160;}</div><div class="line"><a name="l00720"></a><span class="lineno"> 720</span>&#160;</div><div class="line"><a name="l00721"></a><span class="lineno"> 721</span>&#160;<span class="keywordtype">void</span> RT::System::deviceActivityChange(<a class="code" href="class_event_1_1_object.html">Event::Object</a>* event)</div><div class="line"><a name="l00722"></a><span class="lineno"> 722</span>&#160;{</div><div class="line"><a name="l00723"></a><span class="lineno"> 723</span>&#160; <span class="keyword">auto</span> isactive = <span class="keyword">event</span>-&gt;getType() == <a class="code" href="namespace_event.html#a2abf13b5be49315e9e362af02029f058a3964c80b61f9b034b73da423327fd68e">Event::Type::RT_DEVICE_UNPAUSE_EVENT</a>;</div><div class="line"><a name="l00724"></a><span class="lineno"> 724</span>&#160; RT::System::CMD cmd(event-&gt;<a class="code" href="class_event_1_1_object.html#a574dc92b3a43b5dff60585db375d3ffb">getType</a>());</div><div class="line"><a name="l00725"></a><span class="lineno"> 725</span>&#160; RT::System::CMD* cmd_ptr = &amp;cmd;</div><div class="line"><a name="l00726"></a><span class="lineno"> 726</span>&#160; <span class="keyword">auto</span>* device = std::any_cast&lt;RT::Device*&gt;(event-&gt;<a class="code" href="class_event_1_1_object.html#a670a9bbc18e909fbef8303c316126b9e">getParam</a>(<span class="stringliteral">&quot;device&quot;</span>));</div><div class="line"><a name="l00727"></a><span class="lineno"> 727</span>&#160; device-&gt;setActive(isactive);</div><div class="line"><a name="l00728"></a><span class="lineno"> 728</span>&#160; <span class="keyword">auto</span> device_list = this-&gt;rt_connector-&gt;getDevices();</div><div class="line"><a name="l00729"></a><span class="lineno"> 729</span>&#160; cmd.setRTParam(<span class="stringliteral">&quot;deviceList&quot;</span>, &amp;device_list);</div><div class="line"><a name="l00730"></a><span class="lineno"> 730</span>&#160; this-&gt;eventFifo-&gt;write(&amp;cmd_ptr, <span class="keyword">sizeof</span>(RT::System::CMD*));</div><div class="line"><a name="l00731"></a><span class="lineno"> 731</span>&#160; cmd.wait();</div><div class="line"><a name="l00732"></a><span class="lineno"> 732</span>&#160;}</div><div class="line"><a name="l00733"></a><span class="lineno"> 733</span>&#160;</div><div class="line"><a name="l00734"></a><span class="lineno"> 734</span>&#160;<span class="keywordtype">void</span> RT::System::ioLinkChange(<a class="code" href="class_event_1_1_object.html">Event::Object</a>* event)</div><div class="line"><a name="l00735"></a><span class="lineno"> 735</span>&#160;{</div><div class="line"><a name="l00736"></a><span class="lineno"> 736</span>&#160; RT::System::CMD cmd(event-&gt;<a class="code" href="class_event_1_1_object.html#a574dc92b3a43b5dff60585db375d3ffb">getType</a>());</div><div class="line"><a name="l00737"></a><span class="lineno"> 737</span>&#160; cmd.setRTParam(</div><div class="line"><a name="l00738"></a><span class="lineno"> 738</span>&#160; <span class="stringliteral">&quot;connection&quot;</span>,</div><div class="line"><a name="l00739"></a><span class="lineno"> 739</span>&#160; std::any_cast&lt;RT::block_connection_t&gt;(event-&gt;<a class="code" href="class_event_1_1_object.html#a670a9bbc18e909fbef8303c316126b9e">getParam</a>(<span class="stringliteral">&quot;connection&quot;</span>)));</div><div class="line"><a name="l00740"></a><span class="lineno"> 740</span>&#160; RT::System::CMD* cmd_ptr = &amp;cmd;</div><div class="line"><a name="l00741"></a><span class="lineno"> 741</span>&#160; this-&gt;eventFifo-&gt;write(&amp;cmd_ptr, <span class="keyword">sizeof</span>(RT::System::CMD*));</div><div class="line"><a name="l00742"></a><span class="lineno"> 742</span>&#160; cmd.wait();</div><div class="line"><a name="l00743"></a><span class="lineno"> 743</span>&#160;}</div><div class="line"><a name="l00744"></a><span class="lineno"> 744</span>&#160;</div><div class="line"><a name="l00745"></a><span class="lineno"> 745</span>&#160;<span class="keywordtype">void</span> RT::System::connectionsInfoRequest(<a class="code" href="class_event_1_1_object.html">Event::Object</a>* event)</div><div class="line"><a name="l00746"></a><span class="lineno"> 746</span>&#160;{</div><div class="line"><a name="l00747"></a><span class="lineno"> 747</span>&#160; <span class="keyword">auto</span>* source = std::any_cast&lt;IO::Block*&gt;(event-&gt;<a class="code" href="class_event_1_1_object.html#a670a9bbc18e909fbef8303c316126b9e">getParam</a>(<span class="stringliteral">&quot;block&quot;</span>));</div><div class="line"><a name="l00748"></a><span class="lineno"> 748</span>&#160; <span class="keyword">const</span> std::vector&lt;RT::block_connection_t&gt; outputs =</div><div class="line"><a name="l00749"></a><span class="lineno"> 749</span>&#160; this-&gt;rt_connector-&gt;getOutputs(source);</div><div class="line"><a name="l00750"></a><span class="lineno"> 750</span>&#160; <span class="keyword">event</span>-&gt;setParam(<span class="stringliteral">&quot;outputs&quot;</span>, std::any(outputs));</div><div class="line"><a name="l00751"></a><span class="lineno"> 751</span>&#160;}</div><div class="line"><a name="l00752"></a><span class="lineno"> 752</span>&#160;</div><div class="line"><a name="l00753"></a><span class="lineno"> 753</span>&#160;<span class="keywordtype">void</span> RT::System::allConnectionsInfoRequest(<a class="code" href="class_event_1_1_object.html">Event::Object</a>* event)</div><div class="line"><a name="l00754"></a><span class="lineno"> 754</span>&#160;{</div><div class="line"><a name="l00755"></a><span class="lineno"> 755</span>&#160; <span class="keyword">const</span> std::vector&lt;RT::block_connection_t&gt; all_conn =</div><div class="line"><a name="l00756"></a><span class="lineno"> 756</span>&#160; this-&gt;rt_connector-&gt;getAllConnections();</div><div class="line"><a name="l00757"></a><span class="lineno"> 757</span>&#160; <span class="keyword">event</span>-&gt;setParam(<span class="stringliteral">&quot;connections&quot;</span>, std::any(all_conn));</div><div class="line"><a name="l00758"></a><span class="lineno"> 758</span>&#160;}</div><div class="line"><a name="l00759"></a><span class="lineno"> 759</span>&#160;</div><div class="line"><a name="l00760"></a><span class="lineno"> 760</span>&#160;<span class="keywordtype">void</span> RT::System::blockInfoRequest(<a class="code" href="class_event_1_1_object.html">Event::Object</a>* event)</div><div class="line"><a name="l00761"></a><span class="lineno"> 761</span>&#160;{</div><div class="line"><a name="l00762"></a><span class="lineno"> 762</span>&#160; <span class="keyword">const</span> std::vector&lt;IO::Block*&gt; blocks =</div><div class="line"><a name="l00763"></a><span class="lineno"> 763</span>&#160; this-&gt;rt_connector-&gt;getRegisteredBlocks();</div><div class="line"><a name="l00764"></a><span class="lineno"> 764</span>&#160; <span class="keyword">event</span>-&gt;setParam(<span class="stringliteral">&quot;blockList&quot;</span>, std::any(blocks));</div><div class="line"><a name="l00765"></a><span class="lineno"> 765</span>&#160;}</div><div class="line"><a name="l00766"></a><span class="lineno"> 766</span>&#160;</div><div class="line"><a name="l00767"></a><span class="lineno"> 767</span>&#160;<span class="keywordtype">void</span> RT::System::shutdown(<a class="code" href="class_event_1_1_object.html">Event::Object</a>* event)</div><div class="line"><a name="l00768"></a><span class="lineno"> 768</span>&#160;{</div><div class="line"><a name="l00769"></a><span class="lineno"> 769</span>&#160; RT::System::CMD cmd(event-&gt;<a class="code" href="class_event_1_1_object.html#a574dc92b3a43b5dff60585db375d3ffb">getType</a>());</div><div class="line"><a name="l00770"></a><span class="lineno"> 770</span>&#160; RT::System::CMD* cmd_ptr = &amp;cmd;</div><div class="line"><a name="l00771"></a><span class="lineno"> 771</span>&#160; this-&gt;eventFifo-&gt;write(&amp;cmd_ptr, <span class="keyword">sizeof</span>(RT::System::CMD*));</div><div class="line"><a name="l00772"></a><span class="lineno"> 772</span>&#160; cmd.wait();</div><div class="line"><a name="l00773"></a><span class="lineno"> 773</span>&#160;}</div><div class="line"><a name="l00774"></a><span class="lineno"> 774</span>&#160;</div><div class="line"><a name="l00775"></a><span class="lineno"> 775</span>&#160;<span class="keywordtype">void</span> RT::System::provideTimetickPointers(<a class="code" href="class_event_1_1_object.html">Event::Object</a>* event)</div><div class="line"><a name="l00776"></a><span class="lineno"> 776</span>&#160;{</div><div class="line"><a name="l00777"></a><span class="lineno"> 777</span>&#160; RT::System::CMD cmd(event-&gt;<a class="code" href="class_event_1_1_object.html#a574dc92b3a43b5dff60585db375d3ffb">getType</a>());</div><div class="line"><a name="l00778"></a><span class="lineno"> 778</span>&#160; RT::System::CMD* cmd_ptr = &amp;cmd;</div><div class="line"><a name="l00779"></a><span class="lineno"> 779</span>&#160; this-&gt;eventFifo-&gt;write(&amp;cmd_ptr, <span class="keyword">sizeof</span>(RT::System::CMD*));</div><div class="line"><a name="l00780"></a><span class="lineno"> 780</span>&#160; cmd.wait();</div><div class="line"><a name="l00781"></a><span class="lineno"> 781</span>&#160;</div><div class="line"><a name="l00782"></a><span class="lineno"> 782</span>&#160; int64_t* startperiod = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00783"></a><span class="lineno"> 783</span>&#160; int64_t* stopperiod = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00784"></a><span class="lineno"> 784</span>&#160; <span class="comment">// transfer values to event for poster to use</span></div><div class="line"><a name="l00785"></a><span class="lineno"> 785</span>&#160; <span class="keywordflow">switch</span> (event-&gt;<a class="code" href="class_event_1_1_object.html#a574dc92b3a43b5dff60585db375d3ffb">getType</a>()) {</div><div class="line"><a name="l00786"></a><span class="lineno"> 786</span>&#160; <span class="keywordflow">case</span> <a class="code" href="namespace_event.html#a2abf13b5be49315e9e362af02029f058a4379aa1ee89ffe6223e472a3ae43aa6d">Event::Type::RT_PREPERIOD_EVENT</a>:</div><div class="line"><a name="l00787"></a><span class="lineno"> 787</span>&#160; startperiod = std::get&lt;int64_t*&gt;(cmd.getRTParam(<span class="stringliteral">&quot;pre-period&quot;</span>));</div><div class="line"><a name="l00788"></a><span class="lineno"> 788</span>&#160; <span class="keyword">event</span>-&gt;setParam(<span class="stringliteral">&quot;pre-period&quot;</span>, std::any(startperiod));</div><div class="line"><a name="l00789"></a><span class="lineno"> 789</span>&#160; <span class="keywordflow">break</span>;</div><div class="line"><a name="l00790"></a><span class="lineno"> 790</span>&#160; <span class="keywordflow">case</span> <a class="code" href="namespace_event.html#a2abf13b5be49315e9e362af02029f058ae57d0e963714ed4a2012a41b4ac03e76">Event::Type::RT_POSTPERIOD_EVENT</a>:</div><div class="line"><a name="l00791"></a><span class="lineno"> 791</span>&#160; stopperiod = std::get&lt;int64_t*&gt;(cmd.getRTParam(<span class="stringliteral">&quot;post-period&quot;</span>));</div><div class="line"><a name="l00792"></a><span class="lineno"> 792</span>&#160; <span class="keyword">event</span>-&gt;setParam(<span class="stringliteral">&quot;post-period&quot;</span>, std::any(stopperiod));</div><div class="line"><a name="l00793"></a><span class="lineno"> 793</span>&#160; <span class="keywordflow">break</span>;</div><div class="line"><a name="l00794"></a><span class="lineno"> 794</span>&#160; <span class="keywordflow">default</span>:</div><div class="line"><a name="l00795"></a><span class="lineno"> 795</span>&#160; <span class="keywordflow">return</span>;</div><div class="line"><a name="l00796"></a><span class="lineno"> 796</span>&#160; }</div><div class="line"><a name="l00797"></a><span class="lineno"> 797</span>&#160;}</div><div class="line"><a name="l00798"></a><span class="lineno"> 798</span>&#160;</div><div class="line"><a name="l00799"></a><span class="lineno"> 799</span>&#160;<span class="keywordtype">void</span> RT::System::changeWidgetParameters(<a class="code" href="class_event_1_1_object.html">Event::Object</a>* event)</div><div class="line"><a name="l00800"></a><span class="lineno"> 800</span>&#160;{</div><div class="line"><a name="l00801"></a><span class="lineno"> 801</span>&#160; <span class="comment">// we must convert event object to cmd object</span></div><div class="line"><a name="l00802"></a><span class="lineno"> 802</span>&#160; RT::System::CMD cmd(event-&gt;<a class="code" href="class_event_1_1_object.html#a574dc92b3a43b5dff60585db375d3ffb">getType</a>());</div><div class="line"><a name="l00803"></a><span class="lineno"> 803</span>&#160; <span class="keyword">auto</span>* component =</div><div class="line"><a name="l00804"></a><span class="lineno"> 804</span>&#160; std::any_cast&lt;Widgets::Component*&gt;(event-&gt;<a class="code" href="class_event_1_1_object.html#a670a9bbc18e909fbef8303c316126b9e">getParam</a>(<span class="stringliteral">&quot;paramWidget&quot;</span>));</div><div class="line"><a name="l00805"></a><span class="lineno"> 805</span>&#160; cmd.setRTParam(<span class="stringliteral">&quot;paramWidget&quot;</span>, component);</div><div class="line"><a name="l00806"></a><span class="lineno"> 806</span>&#160; <span class="keyword">auto</span> param_id = std::any_cast&lt;size_t&gt;(event-&gt;<a class="code" href="class_event_1_1_object.html#a670a9bbc18e909fbef8303c316126b9e">getParam</a>(<span class="stringliteral">&quot;paramID&quot;</span>));</div><div class="line"><a name="l00807"></a><span class="lineno"> 807</span>&#160; cmd.setRTParam(<span class="stringliteral">&quot;paramID&quot;</span>, param_id);</div><div class="line"><a name="l00808"></a><span class="lineno"> 808</span>&#160; <span class="keyword">auto</span> param_type = std::any_cast&lt;Widgets::Variable::variable_t&gt;(</div><div class="line"><a name="l00809"></a><span class="lineno"> 809</span>&#160; event-&gt;<a class="code" href="class_event_1_1_object.html#a670a9bbc18e909fbef8303c316126b9e">getParam</a>(<span class="stringliteral">&quot;paramType&quot;</span>));</div><div class="line"><a name="l00810"></a><span class="lineno"> 810</span>&#160; cmd.setRTParam(<span class="stringliteral">&quot;paramType&quot;</span>, param_type);</div><div class="line"><a name="l00811"></a><span class="lineno"> 811</span>&#160; std::any param_value_any = <span class="keyword">event</span>-&gt;getParam(<span class="stringliteral">&quot;paramValue&quot;</span>);</div><div class="line"><a name="l00812"></a><span class="lineno"> 812</span>&#160; <span class="keywordflow">switch</span> (param_type) {</div><div class="line"><a name="l00813"></a><span class="lineno"> 813</span>&#160; <span class="keywordflow">case</span> <a class="code" href="namespace_widgets_1_1_variable.html#a1e24cd37408a5f0d2830eee15abcc6e4a893a171166a3fc0002a348c3897c0980">Widgets::Variable::DOUBLE_PARAMETER</a>:</div><div class="line"><a name="l00814"></a><span class="lineno"> 814</span>&#160; cmd.setRTParam(<span class="stringliteral">&quot;paramValue&quot;</span>, std::any_cast&lt;double&gt;(param_value_any));</div><div class="line"><a name="l00815"></a><span class="lineno"> 815</span>&#160; <span class="keywordflow">break</span>;</div><div class="line"><a name="l00816"></a><span class="lineno"> 816</span>&#160; <span class="keywordflow">case</span> <a class="code" href="namespace_widgets_1_1_variable.html#a1e24cd37408a5f0d2830eee15abcc6e4a1353a5f495a9e489004a6642eebe3aaf">Widgets::Variable::INT_PARAMETER</a>:</div><div class="line"><a name="l00817"></a><span class="lineno"> 817</span>&#160; cmd.setRTParam(<span class="stringliteral">&quot;paramValue&quot;</span>, std::any_cast&lt;int64_t&gt;(param_value_any));</div><div class="line"><a name="l00818"></a><span class="lineno"> 818</span>&#160;</div><div class="line"><a name="l00819"></a><span class="lineno"> 819</span>&#160; <span class="keywordflow">break</span>;</div><div class="line"><a name="l00820"></a><span class="lineno"> 820</span>&#160; <span class="keywordflow">case</span> <a class="code" href="namespace_widgets_1_1_variable.html#a1e24cd37408a5f0d2830eee15abcc6e4ab77e2db4b9e6867d830e80b4111612e1">Widgets::Variable::UINT_PARAMETER</a>:</div><div class="line"><a name="l00821"></a><span class="lineno"> 821</span>&#160; cmd.setRTParam(<span class="stringliteral">&quot;paramValue&quot;</span>, std::any_cast&lt;uint64_t&gt;(param_value_any));</div><div class="line"><a name="l00822"></a><span class="lineno"> 822</span>&#160; <span class="keywordflow">break</span>;</div><div class="line"><a name="l00823"></a><span class="lineno"> 823</span>&#160; <span class="keywordflow">case</span> <a class="code" href="namespace_widgets_1_1_variable.html#a1e24cd37408a5f0d2830eee15abcc6e4afa9ac137390ec260f7a15b24f80582f7">Widgets::Variable::STATE</a>:</div><div class="line"><a name="l00824"></a><span class="lineno"> 824</span>&#160; cmd.setRTParam(<span class="stringliteral">&quot;paramValue&quot;</span>,</div><div class="line"><a name="l00825"></a><span class="lineno"> 825</span>&#160; std::any_cast&lt;RT::State::state_t&gt;(param_value_any));</div><div class="line"><a name="l00826"></a><span class="lineno"> 826</span>&#160; <span class="keywordflow">break</span>;</div><div class="line"><a name="l00827"></a><span class="lineno"> 827</span>&#160; <span class="keywordflow">default</span>:</div><div class="line"><a name="l00828"></a><span class="lineno"> 828</span>&#160; <a class="code" href="debug_8hpp.html#add398267f12dca8907f8e49abeac7e5d">ERROR_MSG</a>(</div><div class="line"><a name="l00829"></a><span class="lineno"> 829</span>&#160; <span class="stringliteral">&quot;Widget Parameter Change event does not contain expected parameter &quot;</span></div><div class="line"><a name="l00830"></a><span class="lineno"> 830</span>&#160; <span class="stringliteral">&quot;types&quot;</span>);</div><div class="line"><a name="l00831"></a><span class="lineno"> 831</span>&#160; }</div><div class="line"><a name="l00832"></a><span class="lineno"> 832</span>&#160;</div><div class="line"><a name="l00833"></a><span class="lineno"> 833</span>&#160; RT::System::CMD* cmd_ptr = &amp;cmd;</div><div class="line"><a name="l00834"></a><span class="lineno"> 834</span>&#160; this-&gt;eventFifo-&gt;write(&amp;cmd_ptr, <span class="keyword">sizeof</span>(RT::System::CMD*));</div><div class="line"><a name="l00835"></a><span class="lineno"> 835</span>&#160; cmd_ptr-&gt;wait();</div><div class="line"><a name="l00836"></a><span class="lineno"> 836</span>&#160;}</div><div class="line"><a name="l00837"></a><span class="lineno"> 837</span>&#160;</div><div class="line"><a name="l00838"></a><span class="lineno"> 838</span>&#160;<span class="keywordtype">void</span> RT::System::changeWidgetState(<a class="code" href="class_event_1_1_object.html">Event::Object</a>* event)</div><div class="line"><a name="l00839"></a><span class="lineno"> 839</span>&#160;{</div><div class="line"><a name="l00840"></a><span class="lineno"> 840</span>&#160; RT::System::CMD cmd(event-&gt;<a class="code" href="class_event_1_1_object.html#a574dc92b3a43b5dff60585db375d3ffb">getType</a>());</div><div class="line"><a name="l00841"></a><span class="lineno"> 841</span>&#160; <span class="keyword">auto</span>* component =</div><div class="line"><a name="l00842"></a><span class="lineno"> 842</span>&#160; std::any_cast&lt;Widgets::Component*&gt;(event-&gt;<a class="code" href="class_event_1_1_object.html#a670a9bbc18e909fbef8303c316126b9e">getParam</a>(<span class="stringliteral">&quot;component&quot;</span>));</div><div class="line"><a name="l00843"></a><span class="lineno"> 843</span>&#160; <span class="keyword">auto</span> state = std::any_cast&lt;RT::State::state_t&gt;(event-&gt;<a class="code" href="class_event_1_1_object.html#a670a9bbc18e909fbef8303c316126b9e">getParam</a>(<span class="stringliteral">&quot;state&quot;</span>));</div><div class="line"><a name="l00844"></a><span class="lineno"> 844</span>&#160; cmd.setRTParam(<span class="stringliteral">&quot;component&quot;</span>, component);</div><div class="line"><a name="l00845"></a><span class="lineno"> 845</span>&#160; cmd.setRTParam(<span class="stringliteral">&quot;state&quot;</span>, state);</div><div class="line"><a name="l00846"></a><span class="lineno"> 846</span>&#160; RT::System::CMD* cmd_ptr = &amp;cmd;</div><div class="line"><a name="l00847"></a><span class="lineno"> 847</span>&#160; this-&gt;eventFifo-&gt;write(&amp;cmd_ptr, <span class="keyword">sizeof</span>(RT::System::CMD*));</div><div class="line"><a name="l00848"></a><span class="lineno"> 848</span>&#160; cmd.wait();</div><div class="line"><a name="l00849"></a><span class="lineno"> 849</span>&#160;}</div><div class="line"><a name="l00850"></a><span class="lineno"> 850</span>&#160;</div><div class="line"><a name="l00851"></a><span class="lineno"> 851</span>&#160;RT::System::CMD::CMD(<a class="code" href="namespace_event.html#a2abf13b5be49315e9e362af02029f058">Event::Type</a> et)</div><div class="line"><a name="l00852"></a><span class="lineno"> 852</span>&#160; : <a class="code" href="namespace_event.html">Event</a>::Object(et)</div><div class="line"><a name="l00853"></a><span class="lineno"> 853</span>&#160;{</div><div class="line"><a name="l00854"></a><span class="lineno"> 854</span>&#160;}</div><div class="line"><a name="l00855"></a><span class="lineno"> 855</span>&#160;</div><div class="line"><a name="l00856"></a><span class="lineno"> 856</span>&#160;<a class="code" href="namespace_r_t.html#a7dd60fcfc4bcb44e4f05c68e2a3e664c">RT::command_param_t</a> RT::System::CMD::getRTParam(</div><div class="line"><a name="l00857"></a><span class="lineno"> 857</span>&#160; <span class="keyword">const</span> std::string_view&amp; param_name)</div><div class="line"><a name="l00858"></a><span class="lineno"> 858</span>&#160;{</div><div class="line"><a name="l00859"></a><span class="lineno"> 859</span>&#160; <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; parameter : rt_params) {</div><div class="line"><a name="l00860"></a><span class="lineno"> 860</span>&#160; <span class="keywordflow">if</span> (parameter.name == param_name) {</div><div class="line"><a name="l00861"></a><span class="lineno"> 861</span>&#160; <span class="keywordflow">return</span> parameter.value;</div><div class="line"><a name="l00862"></a><span class="lineno"> 862</span>&#160; }</div><div class="line"><a name="l00863"></a><span class="lineno"> 863</span>&#160; }</div><div class="line"><a name="l00864"></a><span class="lineno"> 864</span>&#160; <span class="keywordflow">return</span> std::monostate();</div><div class="line"><a name="l00865"></a><span class="lineno"> 865</span>&#160;}</div><div class="line"><a name="l00866"></a><span class="lineno"> 866</span>&#160;</div><div class="line"><a name="l00867"></a><span class="lineno"> 867</span>&#160;<span class="keywordtype">void</span> RT::System::CMD::setRTParam(<span class="keyword">const</span> std::string_view&amp; param_name,</div><div class="line"><a name="l00868"></a><span class="lineno"> 868</span>&#160; <span class="keyword">const</span> <a class="code" href="namespace_r_t.html#a7dd60fcfc4bcb44e4f05c68e2a3e664c">RT::command_param_t</a>&amp; value)</div><div class="line"><a name="l00869"></a><span class="lineno"> 869</span>&#160;{</div><div class="line"><a name="l00870"></a><span class="lineno"> 870</span>&#160; <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; parameter : rt_params) {</div><div class="line"><a name="l00871"></a><span class="lineno"> 871</span>&#160; <span class="keywordflow">if</span> (parameter.name == param_name) {</div><div class="line"><a name="l00872"></a><span class="lineno"> 872</span>&#160; parameter.value = value;</div><div class="line"><a name="l00873"></a><span class="lineno"> 873</span>&#160; <span class="keywordflow">return</span>;</div><div class="line"><a name="l00874"></a><span class="lineno"> 874</span>&#160; }</div><div class="line"><a name="l00875"></a><span class="lineno"> 875</span>&#160; }</div><div class="line"><a name="l00876"></a><span class="lineno"> 876</span>&#160;</div><div class="line"><a name="l00877"></a><span class="lineno"> 877</span>&#160; rt_param temp = {};</div><div class="line"><a name="l00878"></a><span class="lineno"> 878</span>&#160; temp.name = param_name;</div><div class="line"><a name="l00879"></a><span class="lineno"> 879</span>&#160; temp.value = value;</div><div class="line"><a name="l00880"></a><span class="lineno"> 880</span>&#160; rt_params.push_back(temp);</div><div class="line"><a name="l00881"></a><span class="lineno"> 881</span>&#160;}</div><div class="line"><a name="l00882"></a><span class="lineno"> 882</span>&#160;</div><div class="line"><a name="l00883"></a><span class="lineno"> 883</span>&#160;<span class="keywordtype">void</span> RT::System::execute(<span class="keywordtype">void</span>* sys)</div><div class="line"><a name="l00884"></a><span class="lineno"> 884</span>&#160;{</div><div class="line"><a name="l00885"></a><span class="lineno"> 885</span>&#160; <span class="keyword">auto</span>* system = <span class="keyword">static_cast&lt;</span><a class="code" href="class_r_t_1_1_system.html">RT::System</a>*<span class="keyword">&gt;</span>(sys);</div><div class="line"><a name="l00886"></a><span class="lineno"> 886</span>&#160; RT::System::CMD* cmd = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00887"></a><span class="lineno"> 887</span>&#160;</div><div class="line"><a name="l00888"></a><span class="lineno"> 888</span>&#160; <span class="keywordflow">if</span> (<a class="code" href="namespace_r_t_1_1_o_s.html#a592cd61ec56079786a7d1803a199ba04">RT::OS::setPeriod</a>(system-&gt;task.get(), <a class="code" href="namespace_r_t_1_1_o_s.html#aebfaeba46007b90a4fb2c2772c013a55">RT::OS::DEFAULT_PERIOD</a>) != 0) {</div><div class="line"><a name="l00889"></a><span class="lineno"> 889</span>&#160; <a class="code" href="debug_8hpp.html#add398267f12dca8907f8e49abeac7e5d">ERROR_MSG</a>(</div><div class="line"><a name="l00890"></a><span class="lineno"> 890</span>&#160; <span class="stringliteral">&quot;RT::System::execute : failed to set the initial period of the &quot;</span></div><div class="line"><a name="l00891"></a><span class="lineno"> 891</span>&#160; <span class="stringliteral">&quot;realtime thread\n&quot;</span>);</div><div class="line"><a name="l00892"></a><span class="lineno"> 892</span>&#160; <span class="keywordflow">return</span>;</div><div class="line"><a name="l00893"></a><span class="lineno"> 893</span>&#160; }</div><div class="line"><a name="l00894"></a><span class="lineno"> 894</span>&#160; <span class="keyword">auto</span> starttime = <a class="code" href="namespace_r_t_1_1_o_s.html#aca04af95a9f73033cb44195357b202f4">RT::OS::getTime</a>();</div><div class="line"><a name="l00895"></a><span class="lineno"> 895</span>&#160; int64_t endtime = 0;</div><div class="line"><a name="l00896"></a><span class="lineno"> 896</span>&#160; system-&gt;task-&gt;next_t = starttime + system-&gt;task-&gt;period;</div><div class="line"><a name="l00897"></a><span class="lineno"> 897</span>&#160; <span class="keywordflow">while</span> (!(system-&gt;task-&gt;task_finished)) {</div><div class="line"><a name="l00898"></a><span class="lineno"> 898</span>&#160; <span class="comment">// storing timing information and placing it in local variables</span></div><div class="line"><a name="l00899"></a><span class="lineno"> 899</span>&#160;</div><div class="line"><a name="l00900"></a><span class="lineno"> 900</span>&#160; <span class="comment">// store period timing values for previous period</span></div><div class="line"><a name="l00901"></a><span class="lineno"> 901</span>&#160; system-&gt;periodStartTime = starttime;</div><div class="line"><a name="l00902"></a><span class="lineno"> 902</span>&#160; system-&gt;periodEndTime = endtime;</div><div class="line"><a name="l00903"></a><span class="lineno"> 903</span>&#160;</div><div class="line"><a name="l00904"></a><span class="lineno"> 904</span>&#160; <span class="comment">// sleep until next cycle</span></div><div class="line"><a name="l00905"></a><span class="lineno"> 905</span>&#160; <a class="code" href="namespace_r_t_1_1_o_s.html#a8998b13d8f3796710070055c5c0fa2e5">RT::OS::sleepTimestep</a>(system-&gt;task.get());</div><div class="line"><a name="l00906"></a><span class="lineno"> 906</span>&#160; starttime = <a class="code" href="namespace_r_t_1_1_o_s.html#aca04af95a9f73033cb44195357b202f4">RT::OS::getTime</a>();</div><div class="line"><a name="l00907"></a><span class="lineno"> 907</span>&#160;</div><div class="line"><a name="l00908"></a><span class="lineno"> 908</span>&#160; <span class="keywordflow">for</span> (<span class="keyword">auto</span>* iDevice : system-&gt;devices) {</div><div class="line"><a name="l00909"></a><span class="lineno"> 909</span>&#160; iDevice-&gt;read();</div><div class="line"><a name="l00910"></a><span class="lineno"> 910</span>&#160; system-&gt;rt_connector-&gt;propagateBlockConnections(iDevice);</div><div class="line"><a name="l00911"></a><span class="lineno"> 911</span>&#160; }</div><div class="line"><a name="l00912"></a><span class="lineno"> 912</span>&#160;</div><div class="line"><a name="l00913"></a><span class="lineno"> 913</span>&#160; <span class="keywordflow">for</span> (<span class="keyword">auto</span>* iThread : system-&gt;threads) {</div><div class="line"><a name="l00914"></a><span class="lineno"> 914</span>&#160; iThread-&gt;execute();</div><div class="line"><a name="l00915"></a><span class="lineno"> 915</span>&#160; system-&gt;rt_connector-&gt;propagateBlockConnections(iThread);</div><div class="line"><a name="l00916"></a><span class="lineno"> 916</span>&#160; }</div><div class="line"><a name="l00917"></a><span class="lineno"> 917</span>&#160;</div><div class="line"><a name="l00918"></a><span class="lineno"> 918</span>&#160; <span class="keywordflow">for</span> (<span class="keyword">auto</span>* iDevice : system-&gt;devices) {</div><div class="line"><a name="l00919"></a><span class="lineno"> 919</span>&#160; iDevice-&gt;write();</div><div class="line"><a name="l00920"></a><span class="lineno"> 920</span>&#160; }</div><div class="line"><a name="l00921"></a><span class="lineno"> 921</span>&#160;</div><div class="line"><a name="l00922"></a><span class="lineno"> 922</span>&#160; <span class="keywordflow">while</span> (system-&gt;eventFifo-&gt;readRT(&amp;cmd, <span class="keyword">sizeof</span>(RT::System::CMD*)) &gt; 0) {</div><div class="line"><a name="l00923"></a><span class="lineno"> 923</span>&#160; system-&gt;executeCMD(cmd);</div><div class="line"><a name="l00924"></a><span class="lineno"> 924</span>&#160; }</div><div class="line"><a name="l00925"></a><span class="lineno"> 925</span>&#160; endtime = <a class="code" href="namespace_r_t_1_1_o_s.html#aca04af95a9f73033cb44195357b202f4">RT::OS::getTime</a>();</div><div class="line"><a name="l00926"></a><span class="lineno"> 926</span>&#160; cmd = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00927"></a><span class="lineno"> 927</span>&#160; }</div><div class="line"><a name="l00928"></a><span class="lineno"> 928</span>&#160;}</div><div class="ttc" id="aclass_event_1_1_manager_html"><div class="ttname"><a href="class_event_1_1_manager.html">Event::Manager</a></div><div class="ttdef"><b>Definition:</b> <a href="event_8hpp_source.html#l00255">event.hpp:256</a></div></div><div class="ttc" id="aclass_event_1_1_manager_html_a2fc0442d260233ef172c5fd3431cdf87"><div class="ttname"><a href="class_event_1_1_manager.html#a2fc0442d260233ef172c5fd3431cdf87">Event::Manager::registerHandler</a></div><div class="ttdeci">void registerHandler(Handler *handler)</div><div class="ttdef"><b>Definition:</b> <a href="event_8cpp_source.html#l00336">event.cpp:336</a></div></div><div class="ttc" id="aclass_event_1_1_object_html"><div class="ttname"><a href="class_event_1_1_object.html">Event::Object</a></div><div class="ttdef"><b>Definition:</b> <a href="event_8hpp_source.html#l00120">event.hpp:121</a></div></div><div class="ttc" id="aclass_event_1_1_object_html_a574dc92b3a43b5dff60585db375d3ffb"><div class="ttname"><a href="class_event_1_1_object.html#a574dc92b3a43b5dff60585db375d3ffb">Event::Object::getType</a></div><div class="ttdeci">Event::Type getType() const</div><div class="ttdef"><b>Definition:</b> <a href="event_8cpp_source.html#l00228">event.cpp:228</a></div></div><div class="ttc" id="aclass_event_1_1_object_html_a670a9bbc18e909fbef8303c316126b9e"><div class="ttname"><a href="class_event_1_1_object.html#a670a9bbc18e909fbef8303c316126b9e">Event::Object::getParam</a></div><div class="ttdeci">std::any getParam(const std::string &amp;param_name) const</div><div class="ttdef"><b>Definition:</b> <a href="event_8cpp_source.html#l00170">event.cpp:170</a></div></div><div class="ttc" id="aclass_i_o_1_1_block_html"><div class="ttname"><a href="class_i_o_1_1_block.html">IO::Block</a></div><div class="ttdef"><b>Definition:</b> <a href="io_8hpp_source.html#l00078">io.hpp:79</a></div></div><div class="ttc" id="aclass_i_o_1_1_block_html_a9410b4334b4923c9451d2ac468c625f3"><div class="ttname"><a href="class_i_o_1_1_block.html#a9410b4334b4923c9451d2ac468c625f3">IO::Block::getID</a></div><div class="ttdeci">size_t getID() const</div><div class="ttdef"><b>Definition:</b> <a href="io_8hpp_source.html#l00202">io.hpp:202</a></div></div><div class="ttc" id="aclass_i_o_1_1_block_html_ad5dcbaf954cc37dd466bb6b939cdd406"><div class="ttname"><a href="class_i_o_1_1_block.html#ad5dcbaf954cc37dd466bb6b939cdd406">IO::Block::writeinput</a></div><div class="ttdeci">void writeinput(size_t index, const double &amp;data)</div><div class="ttdef"><b>Definition:</b> <a href="io_8cpp_source.html#l00065">io.cpp:65</a></div></div><div class="ttc" id="aclass_i_o_1_1_block_html_ae87680d18b0c4e4f806942df195f1433"><div class="ttname"><a href="class_i_o_1_1_block.html#ae87680d18b0c4e4f806942df195f1433">IO::Block::assignID</a></div><div class="ttdeci">void assignID(size_t block_id)</div><div class="ttdef"><b>Definition:</b> <a href="io_8hpp_source.html#l00195">io.hpp:195</a></div></div><div class="ttc" id="aclass_i_o_1_1_block_html_af657ea56d43701357230f46e1bddcdcd"><div class="ttname"><a href="class_i_o_1_1_block.html#af657ea56d43701357230f46e1bddcdcd">IO::Block::readPort</a></div><div class="ttdeci">const double &amp; readPort(IO::flags_t direction, size_t index)</div><div class="ttdef"><b>Definition:</b> <a href="io_8cpp_source.html#l00085">io.cpp:85</a></div></div><div class="ttc" id="aclass_r_t_1_1_connector_html"><div class="ttname"><a href="class_r_t_1_1_connector.html">RT::Connector</a></div><div class="ttdef"><b>Definition:</b> <a href="rt_8hpp_source.html#l00222">rt.hpp:223</a></div></div><div class="ttc" id="aclass_r_t_1_1_connector_html_a0e3b4e059b194d2b7e75f1e2f1a608b9"><div class="ttname"><a href="class_r_t_1_1_connector.html#a0e3b4e059b194d2b7e75f1e2f1a608b9">RT::Connector::getAllConnections</a></div><div class="ttdeci">std::vector&lt; RT::block_connection_t &gt; getAllConnections()</div><div class="ttdef"><b>Definition:</b> <a href="rt_8cpp_source.html#l00265">rt.cpp:265</a></div></div><div class="ttc" id="aclass_r_t_1_1_connector_html_a1d9764c870d9c598545d9453dc7ef560"><div class="ttname"><a href="class_r_t_1_1_connector.html#a1d9764c870d9c598545d9453dc7ef560">RT::Connector::getRegisteredBlocks</a></div><div class="ttdeci">std::vector&lt; IO::Block * &gt; getRegisteredBlocks()</div><div class="ttdef"><b>Definition:</b> <a href="rt_8cpp_source.html#l00254">rt.cpp:254</a></div></div><div class="ttc" id="aclass_r_t_1_1_connector_html_a279e4bbb62bbf8ca43d073150f5ac798"><div class="ttname"><a href="class_r_t_1_1_connector.html#a279e4bbb62bbf8ca43d073150f5ac798">RT::Connector::getThreads</a></div><div class="ttdeci">std::vector&lt; RT::Thread * &gt; getThreads()</div><div class="ttdef"><b>Definition:</b> <a href="rt_8cpp_source.html#l00222">rt.cpp:222</a></div></div><div class="ttc" id="aclass_r_t_1_1_connector_html_a2cc824efdcb08c16ae849fa740543c23"><div class="ttname"><a href="class_r_t_1_1_connector.html#a2cc824efdcb08c16ae849fa740543c23">RT::Connector::propagateBlockConnections</a></div><div class="ttdeci">void propagateBlockConnections(IO::Block *block)</div><div class="ttdef"><b>Definition:</b> <a href="rt_8cpp_source.html#l00235">rt.cpp:235</a></div></div><div class="ttc" id="aclass_r_t_1_1_connector_html_a49953cfb2f5e6810424007fe1b11a846"><div class="ttname"><a href="class_r_t_1_1_connector.html#a49953cfb2f5e6810424007fe1b11a846">RT::Connector::disconnect</a></div><div class="ttdeci">void disconnect(block_connection_t connection)</div><div class="ttdef"><b>Definition:</b> <a href="rt_8cpp_source.html#l00084">rt.cpp:84</a></div></div><div class="ttc" id="aclass_r_t_1_1_connector_html_a5598c97519767cfad1cdacd314c66990"><div class="ttname"><a href="class_r_t_1_1_connector.html#a5598c97519767cfad1cdacd314c66990">RT::Connector::connect</a></div><div class="ttdeci">int connect(block_connection_t connection)</div><div class="ttdef"><b>Definition:</b> <a href="rt_8cpp_source.html#l00050">rt.cpp:50</a></div></div><div class="ttc" id="aclass_r_t_1_1_connector_html_a5b1b29a0d4885b47170b5fdffd857f95"><div class="ttname"><a href="class_r_t_1_1_connector.html#a5b1b29a0d4885b47170b5fdffd857f95">RT::Connector::insertBlock</a></div><div class="ttdeci">void insertBlock(IO::Block *block, std::vector&lt; RT::block_connection_t &gt; &amp;block_connections)</div><div class="ttdef"><b>Definition:</b> <a href="rt_8cpp_source.html#l00100">rt.cpp:100</a></div></div><div class="ttc" id="aclass_r_t_1_1_connector_html_a734c2d7721e4420c3a1f1e6835e6cbae"><div class="ttname"><a href="class_r_t_1_1_connector.html#a734c2d7721e4420c3a1f1e6835e6cbae">RT::Connector::isRegistered</a></div><div class="ttdeci">bool isRegistered(IO::Block *block)</div><div class="ttdef"><b>Definition:</b> <a href="rt_8cpp_source.html#l00142">rt.cpp:142</a></div></div><div class="ttc" id="aclass_r_t_1_1_connector_html_a7bc0bcc46e5a67f7cad1ecfb16f44a98"><div class="ttname"><a href="class_r_t_1_1_connector.html#a7bc0bcc46e5a67f7cad1ecfb16f44a98">RT::Connector::getOutputs</a></div><div class="ttdeci">std::vector&lt; RT::block_connection_t &gt; getOutputs(IO::Block *src)</div><div class="ttdef"><b>Definition:</b> <a href="rt_8cpp_source.html#l00227">rt.cpp:227</a></div></div><div class="ttc" id="aclass_r_t_1_1_connector_html_a9f45e759aeabf977fb2f0ad1d21c2e8e"><div class="ttname"><a href="class_r_t_1_1_connector.html#a9f45e759aeabf977fb2f0ad1d21c2e8e">RT::Connector::connected</a></div><div class="ttdeci">bool connected(block_connection_t connection)</div><div class="ttdef"><b>Definition:</b> <a href="rt_8cpp_source.html#l00070">rt.cpp:70</a></div></div><div class="ttc" id="aclass_r_t_1_1_connector_html_aa9bc245dbc17cb79ab19f6c5f5bfc23d"><div class="ttname"><a href="class_r_t_1_1_connector.html#aa9bc245dbc17cb79ab19f6c5f5bfc23d">RT::Connector::clearAllConnections</a></div><div class="ttdeci">void clearAllConnections(IO::Block *block)</div><div class="ttdef"><b>Definition:</b> <a href="rt_8cpp_source.html#l00243">rt.cpp:243</a></div></div><div class="ttc" id="aclass_r_t_1_1_connector_html_adc5406597983725408841e86f1df2358"><div class="ttname"><a href="class_r_t_1_1_connector.html#adc5406597983725408841e86f1df2358">RT::Connector::getDevices</a></div><div class="ttdeci">std::vector&lt; RT::Device * &gt; getDevices()</div><div class="ttdef"><b>Definition:</b> <a href="rt_8cpp_source.html#l00208">rt.cpp:208</a></div></div><div class="ttc" id="aclass_r_t_1_1_connector_html_af7af2da1574e1951610b9c20e13f6a36"><div class="ttname"><a href="class_r_t_1_1_connector.html#af7af2da1574e1951610b9c20e13f6a36">RT::Connector::removeBlock</a></div><div class="ttdeci">void removeBlock(IO::Block *block)</div><div class="ttdef"><b>Definition:</b> <a href="rt_8cpp_source.html#l00132">rt.cpp:132</a></div></div><div class="ttc" id="aclass_r_t_1_1_device_html"><div class="ttname"><a href="class_r_t_1_1_device.html">RT::Device</a></div><div class="ttdef"><b>Definition:</b> <a href="rt_8hpp_source.html#l00112">rt.hpp:113</a></div></div><div class="ttc" id="aclass_r_t_1_1_system_html"><div class="ttname"><a href="class_r_t_1_1_system.html">RT::System</a></div><div class="ttdef"><b>Definition:</b> <a href="rt_8hpp_source.html#l00409">rt.hpp:410</a></div></div><div class="ttc" id="aclass_r_t_1_1_system_html_a0b11b149bc2240acb751ac6867cfacad"><div class="ttname"><a href="class_r_t_1_1_system.html#a0b11b149bc2240acb751ac6867cfacad">RT::System::getTelemitry</a></div><div class="ttdeci">std::vector&lt; RT::Telemitry::Response &gt; getTelemitry()</div><div class="ttdef"><b>Definition:</b> <a href="rt_8cpp_source.html#l00344">rt.cpp:344</a></div></div><div class="ttc" id="aclass_r_t_1_1_system_html_a46a505e7d1de1bbdc5faab00062671de"><div class="ttname"><a href="class_r_t_1_1_system.html#a46a505e7d1de1bbdc5faab00062671de">RT::System::System</a></div><div class="ttdeci">System(Event::Manager *em, RT::Connector *rtc)</div><div class="ttdef"><b>Definition:</b> <a href="rt_8cpp_source.html#l00274">rt.cpp:274</a></div></div><div class="ttc" id="aclass_r_t_1_1_system_html_a90d0206284ad2b2fc88b20303a482d41"><div class="ttname"><a href="class_r_t_1_1_system.html#a90d0206284ad2b2fc88b20303a482d41">RT::System::receiveEvent</a></div><div class="ttdeci">void receiveEvent(Event::Object *event) override</div><div class="ttdef"><b>Definition:</b> <a href="rt_8cpp_source.html#l00538">rt.cpp:538</a></div></div><div class="ttc" id="aclass_r_t_1_1_system_html_ac0da20522572a10377baa46a782d64e7"><div class="ttname"><a href="class_r_t_1_1_system.html#ac0da20522572a10377baa46a782d64e7">RT::System::getPeriod</a></div><div class="ttdeci">int64_t getPeriod()</div><div class="ttdef"><b>Definition:</b> <a href="rt_8cpp_source.html#l00308">rt.cpp:308</a></div></div><div class="ttc" id="aclass_r_t_1_1_system_html_ad19e06bb2ae39ee9ecde291cf2401e95"><div class="ttname"><a href="class_r_t_1_1_system.html#ad19e06bb2ae39ee9ecde291cf2401e95">RT::System::createTelemitryProcessor</a></div><div class="ttdeci">void createTelemitryProcessor()</div><div class="ttdef"><b>Definition:</b> <a href="rt_8cpp_source.html#l00318">rt.cpp:318</a></div></div><div class="ttc" id="aclass_r_t_1_1_system_html_adb7b97b34053c36bcc23ff69eaabf7db"><div class="ttname"><a href="class_r_t_1_1_system.html#adb7b97b34053c36bcc23ff69eaabf7db">RT::System::~System</a></div><div class="ttdeci">~System() override</div><div class="ttdef"><b>Definition:</b> <a href="rt_8cpp_source.html#l00296">rt.cpp:296</a></div></div><div class="ttc" id="aclass_r_t_1_1_thread_html"><div class="ttname"><a href="class_r_t_1_1_thread.html">RT::Thread</a></div><div class="ttdef"><b>Definition:</b> <a href="rt_8hpp_source.html#l00149">rt.hpp:150</a></div></div><div class="ttc" id="aclassevent_logger_html"><div class="ttname"><a href="classevent_logger.html">eventLogger</a></div><div class="ttdef"><b>Definition:</b> <a href="logger_8hpp_source.html#l00014">logger.hpp:15</a></div></div><div class="ttc" id="aclassevent_logger_html_ad5c06e63f19ef3ce5f820a50c0041253"><div class="ttname"><a href="classevent_logger.html#ad5c06e63f19ef3ce5f820a50c0041253">eventLogger::log</a></div><div class="ttdeci">void log(Event::Object *event)</div><div class="ttdef"><b>Definition:</b> <a href="logger_8cpp_source.html#l00012">logger.cpp:12</a></div></div><div class="ttc" id="adebug_8hpp_html"><div class="ttname"><a href="debug_8hpp.html">debug.hpp</a></div></div><div class="ttc" id="adebug_8hpp_html_add398267f12dca8907f8e49abeac7e5d"><div class="ttname"><a href="debug_8hpp.html#add398267f12dca8907f8e49abeac7e5d">ERROR_MSG</a></div><div class="ttdeci">void ERROR_MSG(const std::string &amp;errmsg, Args... args)</div><div class="ttdef"><b>Definition:</b> <a href="debug_8hpp_source.html#l00036">debug.hpp:36</a></div></div><div class="ttc" id="aevent_8hpp_html"><div class="ttname"><a href="event_8hpp.html">event.hpp</a></div></div><div class="ttc" id="afifo_8hpp_html"><div class="ttname"><a href="fifo_8hpp.html">fifo.hpp</a></div></div><div class="ttc" id="alogger_8hpp_html"><div class="ttname"><a href="logger_8hpp.html">logger.hpp</a></div></div><div class="ttc" id="anamespace_event_html"><div class="ttname"><a href="namespace_event.html">Event</a></div><div class="ttdef"><b>Definition:</b> <a href="event_8hpp_source.html#l00048">event.hpp:49</a></div></div><div class="ttc" id="anamespace_event_html_a2abf13b5be49315e9e362af02029f058"><div class="ttname"><a href="namespace_event.html#a2abf13b5be49315e9e362af02029f058">Event::Type</a></div><div class="ttdeci">Type</div><div class="ttdef"><b>Definition:</b> <a href="event_8hpp_source.html#l00054">event.hpp:55</a></div></div><div class="ttc" id="anamespace_event_html_a2abf13b5be49315e9e362af02029f058a0984a0a894884f491740e65c22f511e2"><div class="ttname"><a href="namespace_event.html#a2abf13b5be49315e9e362af02029f058a0984a0a894884f491740e65c22f511e2">Event::RT_WIDGET_PARAMETER_CHANGE_EVENT</a></div><div class="ttdeci">@ RT_WIDGET_PARAMETER_CHANGE_EVENT</div><div class="ttdef"><b>Definition:</b> <a href="event_8hpp_source.html#l00068">event.hpp:68</a></div></div><div class="ttc" id="anamespace_event_html_a2abf13b5be49315e9e362af02029f058a0bd1ddbd8988f26a7ef3aa85db2adbca"><div class="ttname"><a href="namespace_event.html#a2abf13b5be49315e9e362af02029f058a0bd1ddbd8988f26a7ef3aa85db2adbca">Event::RT_THREAD_PAUSE_EVENT</a></div><div class="ttdeci">@ RT_THREAD_PAUSE_EVENT</div><div class="ttdef"><b>Definition:</b> <a href="event_8hpp_source.html#l00062">event.hpp:62</a></div></div><div class="ttc" id="anamespace_event_html_a2abf13b5be49315e9e362af02029f058a104f0c6835093f6c2ceff59fa4f06214"><div class="ttname"><a href="namespace_event.html#a2abf13b5be49315e9e362af02029f058a104f0c6835093f6c2ceff59fa4f06214">Event::RT_GET_PERIOD_EVENT</a></div><div class="ttdeci">@ RT_GET_PERIOD_EVENT</div><div class="ttdef"><b>Definition:</b> <a href="event_8hpp_source.html#l00059">event.hpp:59</a></div></div><div class="ttc" id="anamespace_event_html_a2abf13b5be49315e9e362af02029f058a2c1649acde37a2dae514e956aef9e493"><div class="ttname"><a href="namespace_event.html#a2abf13b5be49315e9e362af02029f058a2c1649acde37a2dae514e956aef9e493">Event::RT_PERIOD_EVENT</a></div><div class="ttdeci">@ RT_PERIOD_EVENT</div><div class="ttdef"><b>Definition:</b> <a href="event_8hpp_source.html#l00056">event.hpp:56</a></div></div><div class="ttc" id="anamespace_event_html_a2abf13b5be49315e9e362af02029f058a3964c80b61f9b034b73da423327fd68e"><div class="ttname"><a href="namespace_event.html#a2abf13b5be49315e9e362af02029f058a3964c80b61f9b034b73da423327fd68e">Event::RT_DEVICE_UNPAUSE_EVENT</a></div><div class="ttdeci">@ RT_DEVICE_UNPAUSE_EVENT</div><div class="ttdef"><b>Definition:</b> <a href="event_8hpp_source.html#l00067">event.hpp:67</a></div></div><div class="ttc" id="anamespace_event_html_a2abf13b5be49315e9e362af02029f058a4379aa1ee89ffe6223e472a3ae43aa6d"><div class="ttname"><a href="namespace_event.html#a2abf13b5be49315e9e362af02029f058a4379aa1ee89ffe6223e472a3ae43aa6d">Event::RT_PREPERIOD_EVENT</a></div><div class="ttdeci">@ RT_PREPERIOD_EVENT</div><div class="ttdef"><b>Definition:</b> <a href="event_8hpp_source.html#l00057">event.hpp:57</a></div></div><div class="ttc" id="anamespace_event_html_a2abf13b5be49315e9e362af02029f058a4f84814b359a1c641cc4e5d0fe2b35ea"><div class="ttname"><a href="namespace_event.html#a2abf13b5be49315e9e362af02029f058a4f84814b359a1c641cc4e5d0fe2b35ea">Event::RT_THREAD_UNPAUSE_EVENT</a></div><div class="ttdeci">@ RT_THREAD_UNPAUSE_EVENT</div><div class="ttdef"><b>Definition:</b> <a href="event_8hpp_source.html#l00063">event.hpp:63</a></div></div><div class="ttc" id="anamespace_event_html_a2abf13b5be49315e9e362af02029f058a64676b0759aa53e0aa50e393bb0e622b"><div class="ttname"><a href="namespace_event.html#a2abf13b5be49315e9e362af02029f058a64676b0759aa53e0aa50e393bb0e622b">Event::RT_WIDGET_STATE_CHANGE_EVENT</a></div><div class="ttdeci">@ RT_WIDGET_STATE_CHANGE_EVENT</div><div class="ttdef"><b>Definition:</b> <a href="event_8hpp_source.html#l00069">event.hpp:69</a></div></div><div class="ttc" id="anamespace_event_html_a2abf13b5be49315e9e362af02029f058a68ed23e4c653a2f1d49245fbec2bd77f"><div class="ttname"><a href="namespace_event.html#a2abf13b5be49315e9e362af02029f058a68ed23e4c653a2f1d49245fbec2bd77f">Event::IO_LINK_INSERT_EVENT</a></div><div class="ttdeci">@ IO_LINK_INSERT_EVENT</div><div class="ttdef"><b>Definition:</b> <a href="event_8hpp_source.html#l00071">event.hpp:71</a></div></div><div class="ttc" id="anamespace_event_html_a2abf13b5be49315e9e362af02029f058a94d4754d6ddd1ab02ecc7b40903faa99"><div class="ttname"><a href="namespace_event.html#a2abf13b5be49315e9e362af02029f058a94d4754d6ddd1ab02ecc7b40903faa99">Event::IO_LINK_REMOVE_EVENT</a></div><div class="ttdeci">@ IO_LINK_REMOVE_EVENT</div><div class="ttdef"><b>Definition:</b> <a href="event_8hpp_source.html#l00072">event.hpp:72</a></div></div><div class="ttc" id="anamespace_event_html_a2abf13b5be49315e9e362af02029f058a95682a70d27121ff372aebb051c2c6fe"><div class="ttname"><a href="namespace_event.html#a2abf13b5be49315e9e362af02029f058a95682a70d27121ff372aebb051c2c6fe">Event::RT_THREAD_INSERT_EVENT</a></div><div class="ttdeci">@ RT_THREAD_INSERT_EVENT</div><div class="ttdef"><b>Definition:</b> <a href="event_8hpp_source.html#l00060">event.hpp:60</a></div></div><div class="ttc" id="anamespace_event_html_a2abf13b5be49315e9e362af02029f058a9852e9ab90e7c175c82ea5ddcfefd799"><div class="ttname"><a href="namespace_event.html#a2abf13b5be49315e9e362af02029f058a9852e9ab90e7c175c82ea5ddcfefd799">Event::NOOP</a></div><div class="ttdeci">@ NOOP</div><div class="ttdef"><b>Definition:</b> <a href="event_8hpp_source.html#l00094">event.hpp:93</a></div></div><div class="ttc" id="anamespace_event_html_a2abf13b5be49315e9e362af02029f058a9b704520a796fd56584356e951ae6d6f"><div class="ttname"><a href="namespace_event.html#a2abf13b5be49315e9e362af02029f058a9b704520a796fd56584356e951ae6d6f">Event::RT_DEVICE_PAUSE_EVENT</a></div><div class="ttdeci">@ RT_DEVICE_PAUSE_EVENT</div><div class="ttdef"><b>Definition:</b> <a href="event_8hpp_source.html#l00066">event.hpp:66</a></div></div><div class="ttc" id="anamespace_event_html_a2abf13b5be49315e9e362af02029f058aae2a64ccff7300e7ce30fadcf7b8f7b5"><div class="ttname"><a href="namespace_event.html#a2abf13b5be49315e9e362af02029f058aae2a64ccff7300e7ce30fadcf7b8f7b5">Event::RT_DEVICE_INSERT_EVENT</a></div><div class="ttdeci">@ RT_DEVICE_INSERT_EVENT</div><div class="ttdef"><b>Definition:</b> <a href="event_8hpp_source.html#l00064">event.hpp:64</a></div></div><div class="ttc" id="anamespace_event_html_a2abf13b5be49315e9e362af02029f058aaf07920c7194e2efad3fee591bc06e75"><div class="ttname"><a href="namespace_event.html#a2abf13b5be49315e9e362af02029f058aaf07920c7194e2efad3fee591bc06e75">Event::RT_THREAD_REMOVE_EVENT</a></div><div class="ttdeci">@ RT_THREAD_REMOVE_EVENT</div><div class="ttdef"><b>Definition:</b> <a href="event_8hpp_source.html#l00061">event.hpp:61</a></div></div><div class="ttc" id="anamespace_event_html_a2abf13b5be49315e9e362af02029f058ab16a5e14a983bb0d49c826a317b3c3c2"><div class="ttname"><a href="namespace_event.html#a2abf13b5be49315e9e362af02029f058ab16a5e14a983bb0d49c826a317b3c3c2">Event::IO_BLOCK_QUERY_EVENT</a></div><div class="ttdeci">@ IO_BLOCK_QUERY_EVENT</div><div class="ttdef"><b>Definition:</b> <a href="event_8hpp_source.html#l00073">event.hpp:73</a></div></div><div class="ttc" id="anamespace_event_html_a2abf13b5be49315e9e362af02029f058ab23bcbaaf582c9628cd127e8398e47bd"><div class="ttname"><a href="namespace_event.html#a2abf13b5be49315e9e362af02029f058ab23bcbaaf582c9628cd127e8398e47bd">Event::IO_ALL_CONNECTIONS_QUERY_EVENT</a></div><div class="ttdeci">@ IO_ALL_CONNECTIONS_QUERY_EVENT</div><div class="ttdef"><b>Definition:</b> <a href="event_8hpp_source.html#l00076">event.hpp:76</a></div></div><div class="ttc" id="anamespace_event_html_a2abf13b5be49315e9e362af02029f058aceb0a57ac58370eb18e50a5190fa0e31"><div class="ttname"><a href="namespace_event.html#a2abf13b5be49315e9e362af02029f058aceb0a57ac58370eb18e50a5190fa0e31">Event::RT_SHUTDOWN_EVENT</a></div><div class="ttdeci">@ RT_SHUTDOWN_EVENT</div><div class="ttdef"><b>Definition:</b> <a href="event_8hpp_source.html#l00070">event.hpp:70</a></div></div><div class="ttc" id="anamespace_event_html_a2abf13b5be49315e9e362af02029f058add887218025dd3f09772f45733bfdda3"><div class="ttname"><a href="namespace_event.html#a2abf13b5be49315e9e362af02029f058add887218025dd3f09772f45733bfdda3">Event::IO_BLOCK_OUTPUTS_QUERY_EVENT</a></div><div class="ttdeci">@ IO_BLOCK_OUTPUTS_QUERY_EVENT</div><div class="ttdef"><b>Definition:</b> <a href="event_8hpp_source.html#l00074">event.hpp:74</a></div></div><div class="ttc" id="anamespace_event_html_a2abf13b5be49315e9e362af02029f058ae57d0e963714ed4a2012a41b4ac03e76"><div class="ttname"><a href="namespace_event.html#a2abf13b5be49315e9e362af02029f058ae57d0e963714ed4a2012a41b4ac03e76">Event::RT_POSTPERIOD_EVENT</a></div><div class="ttdeci">@ RT_POSTPERIOD_EVENT</div><div class="ttdef"><b>Definition:</b> <a href="event_8hpp_source.html#l00058">event.hpp:58</a></div></div><div class="ttc" id="anamespace_event_html_a2abf13b5be49315e9e362af02029f058ae5a9238aa26847054673995f246a4e7c"><div class="ttname"><a href="namespace_event.html#a2abf13b5be49315e9e362af02029f058ae5a9238aa26847054673995f246a4e7c">Event::RT_DEVICE_REMOVE_EVENT</a></div><div class="ttdeci">@ RT_DEVICE_REMOVE_EVENT</div><div class="ttdef"><b>Definition:</b> <a href="event_8hpp_source.html#l00065">event.hpp:65</a></div></div><div class="ttc" id="anamespace_i_o_html_ab963d2614105684eb927b757c9c9f608"><div class="ttname"><a href="namespace_i_o.html#ab963d2614105684eb927b757c9c9f608">IO::INVALID_BLOCK_ID</a></div><div class="ttdeci">constexpr size_t INVALID_BLOCK_ID</div><div class="ttdef"><b>Definition:</b> <a href="io_8hpp_source.html#l00042">io.hpp:42</a></div></div><div class="ttc" id="anamespace_r_t_1_1_o_s_html_a18dda990aeb8d9dd3a2ff3a33d5cf2c1"><div class="ttname"><a href="namespace_r_t_1_1_o_s.html#a18dda990aeb8d9dd3a2ff3a33d5cf2c1">RT::OS::createTask</a></div><div class="ttdeci">int createTask(Task *task, void(*func)(void *), void *arg)</div><div class="ttdef"><b>Definition:</b> <a href="rtos__evl_8cpp_source.html#l00086">rtos_evl.cpp:86</a></div></div><div class="ttc" id="anamespace_r_t_1_1_o_s_html_a30675f86ce8532bc0e09a47ddc3b0e21"><div class="ttname"><a href="namespace_r_t_1_1_o_s.html#a30675f86ce8532bc0e09a47ddc3b0e21">RT::OS::DEFAULT_FIFO_SIZE</a></div><div class="ttdeci">const uint64_t DEFAULT_FIFO_SIZE</div><div class="ttdef"><b>Definition:</b> <a href="rtos_8hpp_source.html#l00020">rtos.hpp:20</a></div></div><div class="ttc" id="anamespace_r_t_1_1_o_s_html_a5352333dc09d267325a9d2147fbebcd9"><div class="ttname"><a href="namespace_r_t_1_1_o_s.html#a5352333dc09d267325a9d2147fbebcd9">RT::OS::getPeriod</a></div><div class="ttdeci">int64_t getPeriod()</div><div class="ttdef"><b>Definition:</b> <a href="rtos__evl_8cpp_source.html#l00150">rtos_evl.cpp:150</a></div></div><div class="ttc" id="anamespace_r_t_1_1_o_s_html_a592cd61ec56079786a7d1803a199ba04"><div class="ttname"><a href="namespace_r_t_1_1_o_s.html#a592cd61ec56079786a7d1803a199ba04">RT::OS::setPeriod</a></div><div class="ttdeci">int setPeriod(Task *task, int64_t period)</div><div class="ttdef"><b>Definition:</b> <a href="rtos__evl_8cpp_source.html#l00144">rtos_evl.cpp:144</a></div></div><div class="ttc" id="anamespace_r_t_1_1_o_s_html_a5f5f450515a1a08568c798d027c72a42"><div class="ttname"><a href="namespace_r_t_1_1_o_s.html#a5f5f450515a1a08568c798d027c72a42">RT::OS::getFifo</a></div><div class="ttdeci">int getFifo(std::unique_ptr&lt; Fifo &gt; &amp;fifo, size_t fifo_size)</div><div class="ttdef"><b>Definition:</b> <a href="fifo_8cpp_source.html#l00194">fifo.cpp:194</a></div></div><div class="ttc" id="anamespace_r_t_1_1_o_s_html_a78cfc9f739cbfd74256b92c5c7c46a12"><div class="ttname"><a href="namespace_r_t_1_1_o_s.html#a78cfc9f739cbfd74256b92c5c7c46a12">RT::OS::shutdown</a></div><div class="ttdeci">void shutdown(RT::OS::Task *task)</div><div class="ttdef"><b>Definition:</b> <a href="rtos__evl_8cpp_source.html#l00072">rtos_evl.cpp:72</a></div></div><div class="ttc" id="anamespace_r_t_1_1_o_s_html_a8998b13d8f3796710070055c5c0fa2e5"><div class="ttname"><a href="namespace_r_t_1_1_o_s.html#a8998b13d8f3796710070055c5c0fa2e5">RT::OS::sleepTimestep</a></div><div class="ttdeci">void sleepTimestep(Task *task)</div><div class="ttdef"><b>Definition:</b> <a href="rtos__evl_8cpp_source.html#l00159">rtos_evl.cpp:159</a></div></div><div class="ttc" id="anamespace_r_t_1_1_o_s_html_aa2570e54f60d503a9a8a926b6dc230e0"><div class="ttname"><a href="namespace_r_t_1_1_o_s.html#aa2570e54f60d503a9a8a926b6dc230e0">RT::OS::renameOSThread</a></div><div class="ttdeci">void renameOSThread(std::thread &amp;thread, const std::string &amp;name)</div><div class="ttdef"><b>Definition:</b> <a href="rtos__evl_8cpp_source.html#l00175">rtos_evl.cpp:175</a></div></div><div class="ttc" id="anamespace_r_t_1_1_o_s_html_aca04af95a9f73033cb44195357b202f4"><div class="ttname"><a href="namespace_r_t_1_1_o_s.html#aca04af95a9f73033cb44195357b202f4">RT::OS::getTime</a></div><div class="ttdeci">int64_t getTime()</div><div class="ttdef"><b>Definition:</b> <a href="rt__os-xenomai_8cpp_source.html#l00186">rt_os-xenomai.cpp:186</a></div></div><div class="ttc" id="anamespace_r_t_1_1_o_s_html_adcc9519a1f5904976d6e8c56108af8d3"><div class="ttname"><a href="namespace_r_t_1_1_o_s.html#adcc9519a1f5904976d6e8c56108af8d3">RT::OS::deleteTask</a></div><div class="ttdeci">void deleteTask(Task *task)</div><div class="ttdef"><b>Definition:</b> <a href="rtos__evl_8cpp_source.html#l00117">rtos_evl.cpp:117</a></div></div><div class="ttc" id="anamespace_r_t_1_1_o_s_html_aebfaeba46007b90a4fb2c2772c013a55"><div class="ttname"><a href="namespace_r_t_1_1_o_s.html#aebfaeba46007b90a4fb2c2772c013a55">RT::OS::DEFAULT_PERIOD</a></div><div class="ttdeci">const int64_t DEFAULT_PERIOD</div><div class="ttdef"><b>Definition:</b> <a href="rtos_8hpp_source.html#l00019">rtos.hpp:19</a></div></div><div class="ttc" id="anamespace_r_t_1_1_state_html_a797ad43d79626b6c65f6eeb96faef5f4"><div class="ttname"><a href="namespace_r_t_1_1_state.html#a797ad43d79626b6c65f6eeb96faef5f4">RT::State::state_t</a></div><div class="ttdeci">state_t</div><div class="ttdef"><b>Definition:</b> <a href="rt_8hpp_source.html#l00052">rt.hpp:53</a></div></div><div class="ttc" id="anamespace_r_t_1_1_telemitry_html_a0860ff945e37b1eee62ad166684f5637"><div class="ttname"><a href="namespace_r_t_1_1_telemitry.html#a0860ff945e37b1eee62ad166684f5637">RT::Telemitry::RT_WIDGET_PARAM_UPDATE</a></div><div class="ttdeci">constexpr response_t RT_WIDGET_PARAM_UPDATE</div><div class="ttdef"><b>Definition:</b> <a href="rt_8hpp_source.html#l00076">rt.hpp:76</a></div></div><div class="ttc" id="anamespace_r_t_1_1_telemitry_html_a3a15b2c197907ffc3d002b462f05b9e4"><div class="ttname"><a href="namespace_r_t_1_1_telemitry.html#a3a15b2c197907ffc3d002b462f05b9e4">RT::Telemitry::RT_DEVICE_LIST_UPDATE</a></div><div class="ttdeci">constexpr response_t RT_DEVICE_LIST_UPDATE</div><div class="ttdef"><b>Definition:</b> <a href="rt_8hpp_source.html#l00072">rt.hpp:72</a></div></div><div class="ttc" id="anamespace_r_t_1_1_telemitry_html_a498013d09bee18dcb4fdacd67ebcc020"><div class="ttname"><a href="namespace_r_t_1_1_telemitry.html#a498013d09bee18dcb4fdacd67ebcc020">RT::Telemitry::RT_NOOP</a></div><div class="ttdeci">constexpr response_t RT_NOOP</div><div class="ttdef"><b>Definition:</b> <a href="rt_8hpp_source.html#l00073">rt.hpp:73</a></div></div><div class="ttc" id="anamespace_r_t_1_1_telemitry_html_a6f5d0a7042f61b24346791e87ee63959"><div class="ttname"><a href="namespace_r_t_1_1_telemitry.html#a6f5d0a7042f61b24346791e87ee63959">RT::Telemitry::IO_LINK_UPDATED</a></div><div class="ttdeci">constexpr response_t IO_LINK_UPDATED</div><div class="ttdef"><b>Definition:</b> <a href="rt_8hpp_source.html#l00078">rt.hpp:78</a></div></div><div class="ttc" id="anamespace_r_t_1_1_telemitry_html_a9caf0f747c190eb9528625e7f5685f99"><div class="ttname"><a href="namespace_r_t_1_1_telemitry.html#a9caf0f747c190eb9528625e7f5685f99">RT::Telemitry::RT_PERIOD_UPDATE</a></div><div class="ttdeci">constexpr response_t RT_PERIOD_UPDATE</div><div class="ttdef"><b>Definition:</b> <a href="rt_8hpp_source.html#l00070">rt.hpp:70</a></div></div><div class="ttc" id="anamespace_r_t_1_1_telemitry_html_ad2686907ec90a9a2373a6cb1a0b25fdb"><div class="ttname"><a href="namespace_r_t_1_1_telemitry.html#ad2686907ec90a9a2373a6cb1a0b25fdb">RT::Telemitry::RT_ERROR</a></div><div class="ttdeci">constexpr response_t RT_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="rt_8hpp_source.html#l00082">rt.hpp:82</a></div></div><div class="ttc" id="anamespace_r_t_1_1_telemitry_html_add732ec682dae0acecccc02a1f30f410"><div class="ttname"><a href="namespace_r_t_1_1_telemitry.html#add732ec682dae0acecccc02a1f30f410">RT::Telemitry::RT_THREAD_LIST_UPDATE</a></div><div class="ttdeci">constexpr response_t RT_THREAD_LIST_UPDATE</div><div class="ttdef"><b>Definition:</b> <a href="rt_8hpp_source.html#l00071">rt.hpp:71</a></div></div><div class="ttc" id="anamespace_r_t_1_1_telemitry_html_aefa1ab2936b3a2d04effabc388385ece"><div class="ttname"><a href="namespace_r_t_1_1_telemitry.html#aefa1ab2936b3a2d04effabc388385ece">RT::Telemitry::RT_WIDGET_STATE_UPDATE</a></div><div class="ttdeci">constexpr response_t RT_WIDGET_STATE_UPDATE</div><div class="ttdef"><b>Definition:</b> <a href="rt_8hpp_source.html#l00080">rt.hpp:80</a></div></div><div class="ttc" id="anamespace_r_t_1_1_telemitry_html_afa0c02ac1b67cbaf16b4921b01ca9d71"><div class="ttname"><a href="namespace_r_t_1_1_telemitry.html#afa0c02ac1b67cbaf16b4921b01ca9d71">RT::Telemitry::RT_SHUTDOWN</a></div><div class="ttdeci">constexpr response_t RT_SHUTDOWN</div><div class="ttdef"><b>Definition:</b> <a href="rt_8hpp_source.html#l00074">rt.hpp:74</a></div></div><div class="ttc" id="anamespace_r_t_html_a7dd60fcfc4bcb44e4f05c68e2a3e664c"><div class="ttname"><a href="namespace_r_t.html#a7dd60fcfc4bcb44e4f05c68e2a3e664c">RT::command_param_t</a></div><div class="ttdeci">std::variant&lt; std::monostate, int64_t, int64_t *, uint64_t, double, RT::Thread *, std::vector&lt; RT::Thread * &gt; *, RT::Device *, std::vector&lt; RT::Device * &gt; *, IO::Block *, RT::block_connection_t, Widgets::Component *, State::state_t, std::string &gt; command_param_t</div><div class="ttdef"><b>Definition:</b> <a href="rt_8hpp_source.html#l00381">rt.hpp:394</a></div></div><div class="ttc" id="anamespace_widgets_1_1_variable_html_a1e24cd37408a5f0d2830eee15abcc6e4"><div class="ttname"><a href="namespace_widgets_1_1_variable.html#a1e24cd37408a5f0d2830eee15abcc6e4">Widgets::Variable::variable_t</a></div><div class="ttdeci">variable_t</div><div class="ttdef"><b>Definition:</b> <a href="widgets_8hpp_source.html#l00053">widgets.hpp:54</a></div></div><div class="ttc" id="anamespace_widgets_1_1_variable_html_a1e24cd37408a5f0d2830eee15abcc6e4a1353a5f495a9e489004a6642eebe3aaf"><div class="ttname"><a href="namespace_widgets_1_1_variable.html#a1e24cd37408a5f0d2830eee15abcc6e4a1353a5f495a9e489004a6642eebe3aaf">Widgets::Variable::INT_PARAMETER</a></div><div class="ttdeci">@ INT_PARAMETER</div><div class="ttdef"><b>Definition:</b> <a href="widgets_8hpp_source.html#l00055">widgets.hpp:55</a></div></div><div class="ttc" id="anamespace_widgets_1_1_variable_html_a1e24cd37408a5f0d2830eee15abcc6e4a893a171166a3fc0002a348c3897c0980"><div class="ttname"><a href="namespace_widgets_1_1_variable.html#a1e24cd37408a5f0d2830eee15abcc6e4a893a171166a3fc0002a348c3897c0980">Widgets::Variable::DOUBLE_PARAMETER</a></div><div class="ttdeci">@ DOUBLE_PARAMETER</div><div class="ttdef"><b>Definition:</b> <a href="widgets_8hpp_source.html#l00056">widgets.hpp:56</a></div></div><div class="ttc" id="anamespace_widgets_1_1_variable_html_a1e24cd37408a5f0d2830eee15abcc6e4ab77e2db4b9e6867d830e80b4111612e1"><div class="ttname"><a href="namespace_widgets_1_1_variable.html#a1e24cd37408a5f0d2830eee15abcc6e4ab77e2db4b9e6867d830e80b4111612e1">Widgets::Variable::UINT_PARAMETER</a></div><div class="ttdeci">@ UINT_PARAMETER</div><div class="ttdef"><b>Definition:</b> <a href="widgets_8hpp_source.html#l00057">widgets.hpp:57</a></div></div><div class="ttc" id="anamespace_widgets_1_1_variable_html_a1e24cd37408a5f0d2830eee15abcc6e4afa9ac137390ec260f7a15b24f80582f7"><div class="ttname"><a href="namespace_widgets_1_1_variable.html#a1e24cd37408a5f0d2830eee15abcc6e4afa9ac137390ec260f7a15b24f80582f7">Widgets::Variable::STATE</a></div><div class="ttdeci">@ STATE</div><div class="ttdef"><b>Definition:</b> <a href="widgets_8hpp_source.html#l00058">widgets.hpp:58</a></div></div><div class="ttc" id="art_8hpp_html"><div class="ttname"><a href="rt_8hpp.html">rt.hpp</a></div></div><div class="ttc" id="artos_8hpp_html"><div class="ttname"><a href="rtos_8hpp.html">rtos.hpp</a></div></div><div class="ttc" id="astruct_r_t_1_1_telemitry_1_1_response_html"><div class="ttname"><a href="struct_r_t_1_1_telemitry_1_1_response.html">RT::Telemitry::Response</a></div><div class="ttdef"><b>Definition:</b> <a href="rt_8hpp_source.html#l00096">rt.hpp:97</a></div></div><div class="ttc" id="astruct_r_t_1_1_telemitry_1_1_response_html_a2e9e22d7abe7402a3079c8fb4eef2beb"><div class="ttname"><a href="struct_r_t_1_1_telemitry_1_1_response.html#a2e9e22d7abe7402a3079c8fb4eef2beb">RT::Telemitry::Response::type</a></div><div class="ttdeci">response_t type</div><div class="ttdef"><b>Definition:</b> <a href="rt_8hpp_source.html#l00098">rt.hpp:98</a></div></div><div class="ttc" id="astruct_r_t_1_1_telemitry_1_1_response_html_a563998aae0a6c9a7848351f4464779d0"><div class="ttname"><a href="struct_r_t_1_1_telemitry_1_1_response.html#a563998aae0a6c9a7848351f4464779d0">RT::Telemitry::Response::cmd</a></div><div class="ttdeci">Event::Object * cmd</div><div class="ttdef"><b>Definition:</b> <a href="rt_8hpp_source.html#l00099">rt.hpp:99</a></div></div><div class="ttc" id="astruct_r_t_1_1block__connection__t_html"><div class="ttname"><a href="struct_r_t_1_1block__connection__t.html">RT::block_connection_t</a></div><div class="ttdef"><b>Definition:</b> <a href="rt_8hpp_source.html#l00185">rt.hpp:186</a></div></div><div class="ttc" id="astruct_r_t_1_1block__connection__t_html_a05eedd4fdbf9abbd6d5bc2fa4a35eefc"><div class="ttname"><a href="struct_r_t_1_1block__connection__t.html#a05eedd4fdbf9abbd6d5bc2fa4a35eefc">RT::block_connection_t::src_port</a></div><div class="ttdeci">size_t src_port</div><div class="ttdef"><b>Definition:</b> <a href="rt_8hpp_source.html#l00189">rt.hpp:189</a></div></div><div class="ttc" id="astruct_r_t_1_1block__connection__t_html_a83dd988e817fb0c6681d721a1d875c0d"><div class="ttname"><a href="struct_r_t_1_1block__connection__t.html#a83dd988e817fb0c6681d721a1d875c0d">RT::block_connection_t::dest_port</a></div><div class="ttdeci">size_t dest_port</div><div class="ttdef"><b>Definition:</b> <a href="rt_8hpp_source.html#l00191">rt.hpp:191</a></div></div><div class="ttc" id="astruct_r_t_1_1block__connection__t_html_ae2da266147515cfb2776ea9ed04069eb"><div class="ttname"><a href="struct_r_t_1_1block__connection__t.html#ae2da266147515cfb2776ea9ed04069eb">RT::block_connection_t::dest</a></div><div class="ttdeci">IO::Block * dest</div><div class="ttdef"><b>Definition:</b> <a href="rt_8hpp_source.html#l00190">rt.hpp:190</a></div></div><div class="ttc" id="astruct_r_t_1_1block__connection__t_html_ae861399a0bfc6e6fb0197b31cab6e3ae"><div class="ttname"><a href="struct_r_t_1_1block__connection__t.html#ae861399a0bfc6e6fb0197b31cab6e3ae">RT::block_connection_t::src</a></div><div class="ttdeci">IO::Block * src</div><div class="ttdef"><b>Definition:</b> <a href="rt_8hpp_source.html#l00187">rt.hpp:187</a></div></div><div class="ttc" id="astruct_r_t_1_1block__connection__t_html_aec900637c74f8661838166dd0e33d83d"><div class="ttname"><a href="struct_r_t_1_1block__connection__t.html#aec900637c74f8661838166dd0e33d83d">RT::block_connection_t::src_port_type</a></div><div class="ttdeci">IO::flags_t src_port_type</div><div class="ttdef"><b>Definition:</b> <a href="rt_8hpp_source.html#l00188">rt.hpp:188</a></div></div><div class="ttc" id="awidgets_8hpp_html"><div class="ttname"><a href="widgets_8hpp.html">widgets.hpp</a></div></div></div></div><hr class="footer"><address class="footer"><small>Generated on Thu Nov 30 2023 16:36:00 for RTXI by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"></a>1.9.1</small></address></body></html>