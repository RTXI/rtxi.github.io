<h3 class="page-header">Making New Modules</h3>
<p>
The code that creates the GUI for a <code>DefaultGUIModel</code>-derived user module is located within the <code>createGUI()</code> member function. This function can be overloaded by a derived class to generate a custom GUI. RTXI uses the Qt platform, which is open-source and has a very well-documented API for creating GUI controls). Qt also uses a signal-and-slots architecture in which interactions with these GUI elements, such as pushing a button, emits a signal that can then be connected to a function. Whenever an event occurs, the slot function is executed. This architecture is made possible by a C++ preprocessor called MOC that generates additional *.cpp implementation and *.h header files for each class that has these features. These additional source files must also be listed in the Makefile.
</p>

<p>
There are several options available to users seeking to build their own GUIs. The simplest by far is to leave everything to <code>DefaultGUI</code>'s <code>createGUI</code> function. Customization options are also available through the <code>customizeGUI</code> function and overriding the <code>createGUI</code> function altogether. The following describes GUI creation in the context of the Neuron module.
</p>

<h4 class="page-header">Leave Everything to <code>createGUI</code></h4>
<p>
The Neuron module's GUI is automatically generated by DefaultGUIModels's <code>createGUI</code> function. It operates by taking each <code>PARAMETER</code>,  <code>STATE</code>, <code>EVENT</code>, and <code>COMMENT</code> variable in <code>vars[]</code> and creating a row in the GUI containing the variable name and stored value. After that, the utility buttons ("Pause", "Modify", and "Unload") are added to the bottom. <code>createGUI</code> should be adequate for simple modules, such as Neuron. In other words, no GUI configuration is necessary. For more complex modules, use <code>customizeGUI</code>.
</p>


<h4 class="page-header">Use <code>customizeGUI</code></h4>
<p>
To understand how to use <code>customizeGUI</code>, it is important to understand the format of the GUI. For all of its windows, RTXI uses Qt. When RTXI is opened, one large window is displayed, and every module is opened as a subwindow within it. Each subwindow has its own formatting styles, set in source code. <code>DefaultGUIModel</code> uses <code>QGridLayout</code> to define elements within its subwindow. <code>QGridLayout</code> splits windows into cells indexed by row and column. Users can then place items in any cell or combination of contiguous cells. The <code>createGUI</code> function generates the column of variables with values and then the utility buttons and places them respectively in cells (1,0) and (2,0). The <code>customizeGUI</code> function takes the window created by <code>customizeGUI</code> and allows users to place additional elements in any positions that are not (1,0) and (2,0). Below is one example of a possible grid configuration.
</p>

<img src="{{ site.img }}/manual/examplegrid.png">
QGridLayout allows users to add elements to a window in a grid structure. The top-left corner is (0,0), and users can insert widgets spanning however many rows and columns in however many rows and columns.

<p>
As is, Neuron does not use <code>customizeGUI</code>. Suppose, though, that we wanted to add two buttons in a row above the parameters. The syntax would be as follows:
</p>

{% highlight cpp %}
void Neuron::customizeLayout(void) {
	QGridLayout *customlayout = DefaultGUIModel::getLayout();

	QGroupBox *buttongroup = new QGroupBox;
	QHBoxLayout *buttonlayout = new QButtonLayout;
	QPushButton *aBttn = new QPushButton("Button A", buttonlayout);
	QPushButton *bBttn = new QPushButton("Button B", buttonlayout);
	buttongroup->setLayout(buttonlayout);

	customlayout->addWidget(buttongroup, 0, 0)
	setLayout(customlayout);
}
{% endhighlight %}

<p>
The first and last two commands are necessary for <code>customizeLayout</code> to function. The first one grabs the window object created by <code>createGUI</code> and assigns it to <code>customlayout</code>. The middle section defines the elements to be added to the GUI. These are all Qt-defined classes for which documentation is freely available online (http://qt-project.org/doc/qt-4.8/). The second-to-last line assigns the GUI elements to the window. It specifies position (0,0), so the buttons will be displayed in the top left corner. The last line sets the GUI to the newly modified one.
</p>
