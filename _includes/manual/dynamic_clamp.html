<h4 class="page-header">Introduction to Dynamic Clamp</h4>
<p>
Traditionally, the properties of electrically excitable cells are assessed using current clamp and voltage clamp electrophysiology protocols. In <b>current clamp</b>, an electrical current waveform is specified and applied to the cell through a microelectrode while the transmembrane potential is recorded. In <b>voltage clamp</b>, a desired voltage waveform is specified and analog circuitry is used to determine and inject a current that is necessary to maintain, or clamp, the membrane potential at the specified values. The <b>dynamic clamp</b> allows the insertion of artificial membrane conductances, such as ion channels, by injecting current that is a function of the cell's membrane potential. The injected current is computed by computer software or analog circuitry based on the equivalent circuit model of an excitable cell (Fig. \ref{fig:circuit}). The artificial conductance is effectively in parallel with other membrane processes, each of which contributes to the total transmembrane current.  
</p>

<figure class="figure">
	<img src="{{ site.img }}/manual/dclampcircuit.svg" class="figure-img img-fluid">
	<figcaption class="figure-caption">Equivalent circuit model of an excitable cell where <em>V<sub>m</sub></em> represents the transmembrane potential, <em>C<sub>m</sub></em> represents the membrane capacitance, and each conductance is defined by a reversal potential <em>E<sub>i</sub></em> and a conductance <em>g<sub>i</sub></em>. In this model, the voltage-dependent sodium and potassium ion channels are depicted as variable resistors where <em>g<sub>i</sub></em>=<em>g<sub>i</sub></em>(<em>V<sub>m</sub>)</em> . The reversal potential (or equilibrium potential) of an ion is the value of transmembrane voltage at which diffusive and electrical forces counterbalance, so that there is no net ion flow across the membrane. The reversal potential is represented as a battery since the potential difference <em>V<sub>m</sub></em>-<em>E<sub>i</sub></em> gives the driving force across the membrane for that ionic current.
	</figcaption>
</figure>

<p>
The total transmembrane current is related to changes in the membrane potential, <em>V<sub>m</sub></em>, through the following equation:
</p>

<p class="lead"><center>
	<em>C<sub>m</sub></em> <em>dV<sub>m</sub></em>/<em>dt</em> = -&Sigma; <em>I<sub>i</sub></em>
</center></p>

<p>
where <em>C<sub>m</sub></em> is the membrane capacitance. Any conductance that can be described mathematically can be applied to a neuron using the dynamic clamp. The current passing through an ion channel, for example, is often described by Ohm's law using the following conductance-based equation:  
</p>

<p class="lead"><center>
	<em>I<sub>i</sub></em> = <em>g<sub>i</sub></em> <em>V<sub>m</sub></em>(<em>V<sub>m</sub></em>-<em>E<sub>i</sub></em>) 
	<br>
	<br>
	<em>g<sub>i</sub></em><em>V<sub>m</sub></em> = <em style="text-decoration:overline">g<sub>i</sub></em> <em>m<sup>p<sub>h<sup>q</sup></sub></sup></em>
</center></p>

<p>
where <em style="text-decoration:overline">g</em> is the maximal conductance, and <em>m</em> and <em/>h</em> are voltage-dependent activation and inactivation gating variables (<em>p</em> and <em>q</em> are integers) that describe the kinetic activation of the channel. Gating variables have values between 0 and 1 to scale the channel conductance and are typically described by a first order differential equation:  
</p>

<p class="lead"><center>
<em><sup>dx</sup>/<sub>dt</sub></em> = <em><sup>x<sub>&infin;</sub>V<sub>m</sub>-x</sup> / <sub>&tau;V<sub>m</sub></sub></em>
</center></p>

<p>
The membrane potential is re-sampled and the equations are re-evaluated on every computational cycle of the dynamic clamp system. As such, the dynamic clamp is also sometimes termed <b>conductance clamp</b> or <b>conductance injection</b>.  
</p>

<p>
While the dynamic clamp was first demonstrated in cardiac electrophysiology to <a href="{% post_url /papers/2006-07-27-dynamic-clamp-powerful-tool-in-cardiac-electrophysiology %}">electrically couple embryonic chick myocytes</a>, the technique was independently introduced (<a href="http://dx.doi.org/10.1016/0165-0270(93)90119-C">Robinson, 1993</a> and <a href="http://jn.physiology.org/content/69/3/992">Sharp, 1993</a>) and is now more prevalent in neural electrophysiology (<a href="http://dx.doi.org/10.1523/JNEUROSCI.5954-09.2010">Economo, 2010</a>; <a href="http://dx.doi.org/10.1016/j.tins.2004.02.004">Prinz, 2014</a>; and <a href="http://dx.doi.org/10.1152/physiol.00063.2005">Goaillard, 2006</a>). Applications of this technique include the insertion of non-native ion channels (a virtual "knock-in"), subtraction of native ion channels (a virtual "knock-out"), and simulation of synapses and electrical gap junctions to create small networks of biological and/or simulated neurons. By varying the parameter values of a model channel or synapse, experiments can be conducted to determine how these properties shape membrane dynamics and neuron activity. These approaches have made the dynamic clamp a valuable tool for studying the intrinsic properties of single neurons and the behavior of small neural networks.  
</p>

<p>
Dynamic clamp studies have also made important contributions to our understanding of neuronal dynamics under in vivo-like conditions in which neurons receive a constant barrage of synaptic inputs which can easily reach thousands of events per second. Artificial synaptic input can be constructed from pre-recorded activity of presynaptic neurons but is more commonly based on statistical descriptions of noisy conductance waveforms. This high conductance state has been shown to enhance the cell's responsiveness to small inputs, also known as its gain (<a href="http://dx.doi.org/10.1016/S0896-6273(02)00820-6">Chance, 2002</a>; <a href="http://dx.doi.org/10.1038%2Fnrn1198">Destexhe, 2003</a>; and <a href="http://dx.doi.org/10.1152/jn.00023.2010">Sceniak, 2010</a>), and can change the signal integration of synaptic input, creating distinct modes of firing patterns (<a href="http://dx.doi.org/10.1038/nn1591">Wolfart, 2005</a>; <a href="http://jn.physiology.org/content/86/1/1.short">Steriade, 2001</a>; <a href="http://dx.doi.org/10.1023/A:1023245625896">Rudolph, 2003</a>; and <a href="http://dx.doi.org/10.1016/S0306-4522(01)00344-X">Destexhe, 2001</a>). The statistics of current-based versus conductance-based input, such as correlations and relative balance between excitation and inhibition, are translated differently into output statistics such as the membrane potential distribution, the distribution of interspike intervals (ISIs), the coefficient of variation (CV), and the mean and variance of the neuron's output firing rate (<a href="http://dx.doi.org/10.1103/PhysRevE.62.8413">Tiesinga, 2000</a>; <a href="http://www.jneurosci.org/content/23/6/2466">Rudolph, 2003</a>; <a href="http://dx.doi.org/10.1162/neco.2008.20.1.1">Kumar, 2008</a>; and <a href="www.jneurosci.org/content/20/16/6193">Salinas, 2000</a>). Together, these factors result in a dynamical behavior of the neuron that is usually quite different from the intrinsic dynamics of the voltage-gated currents.  
</p>

<p>
Results from dynamic clamp experiments must be carefully interpreted due to several experimental limitations. Space-clamp problems arise in that the injected current is limited to a space around the recording electrode. In some experimental studies, an artificial dendrite is modeled as well to simulate the cable effects of synaptic inputs propagating to the action potential initiation zone (<a href="http://dx.doi.org/10.1016/j.jneumeth.2007.10.014">Hughes, 2008</a>). Since current can usually only be injected at the soma, the dynamic clamp may be a poor approximation of dendritic input in some cell types. In most cells, the dynamic clamp is operated in discontinuous current clamp (DCC) mode in which a single electrode switches between recording and current injection states. In this configuration, it is not possible to inject large conductances that approach the magnitude of the cell's intrinsic resting conductance while still accurately recording the membrane potential. The injected current induces a voltage drop through the electrode and causes measurement accuracies that are propagated through the closed feedback loop in the dynamic clamp system and may cause ringing artifacts in the recording (<a href="http://dx.doi.org/10.1113/jphysiol.2003.059964">Brizzi, 2004</a>; <a href="http://www.jneurosci.org/content/19/14/6090">Jaeger, 1999</a>; <a href="http://dx.doi.org/10.1109/IEMBS.2007.4352315">Preyer, 2007</a>; and <a href="http://dx.doi.org/10.1109/TNSRE.2009.2015205">Preyer, 2009</a>). In larger cells, two electrodes may be used, one to record and one to inject current. Researchers also typically use the same ion channel or synapse model parameters for all cells used in an experiment, assuming that neurons of the same cell type have identical intrinsic properties, both within an animal and between animals (<a href="http://jn.physiology.org/content/87/2/1129">Golowasch, 2002</a>). There usually is not time during an experiment to manually adjust the model to optimal parameters for each cell.  
</p>

<p>
Compared to other real-time closed-loop experimental protocols, the dynamic clamp has perhaps the most stringent performance requirements. These limitations involve numerical, algorithmic, and hardware platform-specific issues. Dynamic clamp performance depends on how accurately the model is solved, measurement error in sampling the voltage, and the sampling rate of the system. \index{sampling rate}The sampling rate determines how much time is in a given computational cycle for various operations to be performed, and the duration of the cycle restricts the types of numerical methods that may be used to integrate the gating variables. Thus, the computational performance of dynamic clamp suffers from a trade-off between the speed of computation and numerical accuracy. Dynamic clamp sampling rates are currently chosen based on the limits of the hardware platform being used and the temporal dynamics being simulated. While it is possible to compute the time step necessary for the Euler and exponential Euler methods to achieve a desired one-step integration accuracy for a known voltage measurement error, few studies employ this technique (<a href="http://dx.doi.org/10.1088/1741-2560/1/4/001">Butera, 2004</a>). In simulations of dynamic clamp, Euler integration was insufficient to model fast sodium Na<em><sub>v</sub></em> channels at sampling rates under 30 kHz and nearly identical integration results for three different deterministic integration methods was only achieved at rates >=50 kHz (<a href="http://dx.doi.org/10.1529/biophysj.107.118190">Milescu, 2008</a>). Standard performance benchmarks are needed for dynamic clamp to justify the sampling rates that are used.  
</p>

<p>
Other hardware that are typically required for dynamic clamp are an electrophysiology amplifier for measuring membrane potential and injecting current and a multifunctional data acquisition system (DAQ) for performing analog-to-digital (ADC) and digital-to-analog (DAC) conversion. The technical specifications of each of these hardware components can affect the performance of the overall system by introducing additional jitter, latency, and quantization error that can affect system timing and the numerical computation (<a href="http://dx.doi.org/10.1016/j.jneumeth.2007.10.009">Bettencourt, 2008</a> and <a href="http://dx.doi.org/10.1109/10.966605">Butera, 2001</a>). Recent results show that faster systems would result in a greater range of conductances that could be utilized, improved stability, and more accurate real-time model simulations (<a href="http://dx.doi.org/10.1109/IEMBS.2007.4352315">Preyer, 2007</a> and <a href="http://dx.doi.org/10.1109/TNSRE.2009.2015205">Preyer, 2009</a>). Faster dynamic clamp systems have been developed, largely due to the increasing power of personal computers, but also due to the development of systems based on the GNU/Linux operating system and embedded real-time processors.  
</p>

