<!DOCTYPE html><html lang="en" itemscope itemtype="http://schema.org/Article"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="The dynamic clamp is a real-time electrophysiology technique where simulated
membrane conductances are artificially injected into a cell via intracellular
electrodes. It works by reading membrane p..."><meta itemprop="name" content="Using RTXI for Dynamic Clamp"><meta itemprop="description" content="The dynamic clamp is a real-time electrophysiology technique where simulated
membrane conductances are artificially injected into a cell via intracellular
electrodes. It works by reading membrane p..."><meta itemprop="image" content="http://rtxi.org/assets/img/rtxi-logo-square.png"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="Using RTXI for Dynamic Clamp"><meta name="twitter:description" content="The dynamic clamp is a real-time electrophysiology technique where simulated
membrane conductances are artificially injected into a cell via intracellular
electrodes. It works by reading membrane p..."><meta name="twitter:image:src" content="http://rtxi.org/assets/img/rtxi-logo-square.png"><meta property="og:title" content="Using RTXI for Dynamic Clamp"><meta property="og:type" content="article"><meta property="og:url" content="http://rtxi.org/docs/tutorials/2014/12/05/dynamic-clamp/"><meta property="og:image" content="http://rtxi.org/assets/img/rtxi-logo-square.png"><meta property="og:description" content="The dynamic clamp is a real-time electrophysiology technique where simulated
membrane conductances are artificially injected into a cell via intracellular
electrodes. It works by reading membrane p..."><meta property="og:site_name" content="RTXI | The Real-time eXperiment Interface"><meta property="article:section" content=""><meta property="article:tag" content=""><title>Using RTXI for Dynamic Clamp | The Real-time eXperiment Interface</title><link href="/assets/css/default.min.css" rel="stylesheet"><link rel="apple-touch-icon" href="/assets/img/apple-touch-icon.png"><link rel="icon" href="/assets/img/favicon.ico"></head><style>h1, h2, h3, h4, h5, h6 {
      padding-bottom: 9px;
      margin: 40px 0 20px;
      border-bottom: 1px solid #eee;
      font-weight: normal;
    }
    img {
      margin-left: auto;
      margin-right: auto;
      display: block;
      max-width: 100%;
      height: auto;
    }</style><body><nav class="navbar navbar-inverse navbar-fixed-top" role="navigation"><div class="container"><div class="navbar-header"><button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar"><span class="sr-only">Toggle navigation</span> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span></button> <a class="navbar-brand" rel="home" href="/"><b>RTXI</b></a></div><div class="row"><div id="navbar" class="navbar-collapse collapse navbar-right" style="text-align:center;"><ul class="nav navbar-nav"><li><a href="/install/">Install</a></li><li><a href="/modules/">Modules</a></li><li><a href="/papers/">Papers</a></li><li class="active"><a href="/docs/">Docs</a></li><li><a href="/stats/">Stats</a></li><li><a href="/community/">Community</a></li><li><a href="/contact/">Contact</a></li><li><a href="/feed.xml"><i class="glyphicons glyphicon-rss"></i></a></li></ul></div></div></div></nav><div class="container" style="padding-top:30px"><h3 class="page-header">Using RTXI for Dynamic Clamp</h3><p>The dynamic clamp is a real-time electrophysiology technique where simulated membrane conductances are artificially injected into a cell via intracellular electrodes. It works by reading membrane potentials, amplifiing, and then feeding them into a dynamic clamp system that contains a model of the desired membrane conductance and generates a current to be injected back into the cell in real time. For digital systems, the membrane conductance is a set of equations that must be computed, whereas for an analog system, the current is the output of a dedicated electrical circuit. The injected dynamic clamp current acts on the cell in parallel with other membrane currents which, depending on the model equations, can represent ion channels, electrical coupling between cells, or synaptic input. This technique has many possible uses. With neurons, it can be used to construct hybrid networks of real and model neurons and even attach virtual dendrites. For an excellent video tutorial, see this video for the following paper in the Journal of Visualized Experiments.</p><p><img src="/assets/img/dclamp.png" alt="Dynamic Clamp Figure"></p><h4 id="electrode-compensation-and-dynamic-clamp-instability">Electrode Compensation and Dynamic Clamp Instability</h4><p>When dynamic clamp is performed using two intracellular electrodes, one electrode records the membrane potential while the other is used for current injection. In cases where only one intracellular electrode is feasible, the same electrode is used for voltage measurement and current injection. This poses a problem for measurement accuracy because the injected current induces a voltage drop through the electrode. One method to compensate for this issue is to use your amplifier in “bridge balance” mode, which approximates the electrode as a single resistance and subtracts the voltage drop across the electrode from the total recorded voltage. This method can only be used if the electrode resistance stays constant. An alternative method is to operate your amplifier in “discontinuous current clamp” mode, in which the electrode alternates between recording the voltage and injecting current. This method is valid only if the electrode is at least two orders of magnitude faster than what you are trying to observe in the recordings.</p><p>It is important to minimize measurement errors in dynamic clamp because the artifacts propagate through the closed-loop and can lead to oscillatory instability. This instability arises when the artificial conductance is comparable to the resting input conductance of the cell and limits the conductance range that can be applied using dynamic clamp. It is directly related to the sampling delay and is exaggerated by insufficient electrode series resistance and capacitance compensation. Increasing the sampling rate of the dynamic clamp system increases dynamic clamp stability; however, this improvement, is constrained by how well the electrode series resistance and capacitance are compensated. Dynamic clamp sampling rates are usually justified by the temporal dynamics of the simulated models. For action potentials on the order of a few milliseconds wide, 10kHz is a common sampling rate. However, faster sampling rates increase the stable operating range for the dynamic clamp system and increase the maximum conductance that maintains a stable system. RTXI is capable of handling much higher sampling rates due to the low overhead in the Linux OS.</p><h4 id="numerical-methods">Numerical Methods</h4><p>Similar to the effect of experimental measurement error, errors in simulating the virtual conductance also affect dynamic clamp performance. Methodologies for implementing the numerical integration of the gating variables typically employ first-order numerical methods, either Euler or exponential Euler. These approximations are used because of the real-time temporal constraints on how rapidly the calculations for integrating the gating variables must occur. In general, numerical accuracy increases as the time step of integration decreases. Unlike traditional model simulations, however, with real-time systems it is not practical to make the time step smaller and simply wait longer for the simulation result. For small time steps, both integration methods are comparable, but at larger time steps, the exponential Euler method performs worse than the Euler method. The error bounds for both methods can be characterized in terms of two ratios: the time step over the time constant (δt/τ), and the voltage measurement error over the slope factor of the steady-state activation curve of the voltage-dependent gating variable (εV/|d|). When δt/τ is large relative to εV/|d|, no amount of improvement in measurement error can improve the error bound due to the numerical inaccuracies caused by a relatively large time step.</p><p>For more information, see:</p><ol><li><p><a href="http://dx.doi.org/10.3791/2275">Lobb and Paladini. Application of a NMDA Receptor Conductance in Rat Midbrain Dopaminergic Neurons Using the Dynamic Clamp Technique. J Vis Exp (2010) (46)</a></p></li><li><p><a href="http://www.springer.com/biomed/neuroscience/book/978-0-387-89278-8">Destexhe A, Bal T, eds. Dynamic clamp: From principles to applications. Springer (2009).</a></p></li><li><p><a href="http://dx.doi.org/10.1016/j.jneumeth.2007.10.009">Bettencourt J.C., Lillis K.P., Stupin L.R., White J.A. Effects of imperfect dynamic clamp: Computational and experimental results (2008) Journal of Neuroscience Methods, 169 (2): 282-289.</a></p></li><li><p><a href="http://dx.doi.org/10.1088/1741-2560%2F1%2F4%2F001">R.J. Butera and M.L. McCarthy. Analysis of real-time numerical integration methods applied to dynamic clamp experiments, J. Neural Eng. 1 (2004), pp. 187–194.</a></p></li><li><p><a href="http://dx.doi.org/10.1016/j.tins.2004.02.004">Prinz AA, Abbott LF, Marder E. The dynamic clamp comes of age. (2004) TINS 27: 218–224.</a></p></li></ol></div></body><style>html {
  position: relative;
  min-height: 100%;
}
body {
  margin-bottom: 60px;
  margin-top: 10px;
}
.footer {
  position: absolute;
  top: 100%;
  bottom: auto;
  width: 100%;
  height: -60px;
  background-color: #c1c1c1;
}</style><div class="footer"><div class="container"><div class="row"><div class="col-sm-6 text-center" style="margin-top:50px; margin-bottom:10px"><a href="http://www.nih.gov/"><img class="img-responsive" alt="NIH grant R01EB029763" src="/assets/img/nih-logo-trans.svg"></a></div><div class="col-sm-6 text-center" style="margin-top:55px;"><a href="https://github.com/rtxi"><img class="img-responsive" alt="RTXI on GitHub" src="/assets/img/github-logo.svg"></a></div></div><div style="margin-bottom:40px;"></div></div></div><script src="/assets/js/default.min.js"></script><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-5550734-5', 'auto');
    ga('send', 'pageview');</script></html>